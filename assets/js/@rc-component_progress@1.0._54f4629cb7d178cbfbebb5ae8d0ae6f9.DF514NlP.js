import{r as t,e}from"./react@18.3.1.zoCbf7Ot.js";import{c as r}from"./clsx@2.1.1.DMqMD_4V.js";import{f as o}from"./@rc-component_util@1.7.0_re_e38ee95702524036372f825efc96e921.ChzNieGb.js";const n={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,railColor:"#D9D9D9",railWidth:1,gapPosition:"bottom",loading:!1},a=({bg:e,children:r})=>t.createElement("div",{style:{width:"100%",height:"100%",background:e}},r);function c(t,e){return Object.keys(t).map(r=>{const o=parseFloat(r),n="".concat(Math.floor(o*e),"%");return"".concat(t[r]," ").concat(n)})}const s=t.forwardRef((e,o)=>{const{prefixCls:n,color:s,gradientId:i,radius:l,className:d,style:p,ptg:f,strokeLinecap:m,strokeWidth:u,size:g,gapDegree:y}=e,k=s&&"object"==typeof s,h=k?"#FFF":void 0,b=g/2,j=t.createElement("circle",{className:r("".concat(n,"-circle-path"),d),r:l,cx:b,cy:b,stroke:h,strokeLinecap:m,strokeWidth:u,opacity:0===f?0:1,style:p,ref:o});if(!k)return j;const x="".concat(i,"-conic"),E=y?"".concat(180+y/2,"deg"):"0deg",D=c(s,(360-y)/360),v=c(s,1),w="conic-gradient(from ".concat(E,", ").concat(D.join(", "),")"),C="linear-gradient(to ".concat(y?"bottom":"top",", ").concat(v.join(", "),")");return t.createElement(t.Fragment,null,t.createElement("mask",{id:x},j),t.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(x,")")},t.createElement(a,{bg:C},t.createElement(a,{bg:w}))))}),i=100,l=(t,e,r,o,n,a,c,s,i,l,d=0)=>{const p=r/100*360*((360-a)/360),f=0===a?0:{bottom:0,top:180,left:90,right:-90}[c];let m=(100-o)/100*e;"round"===i&&100!==o&&(m+=l/2,m>=e&&(m=e-.01));return{stroke:"string"==typeof s?s:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:m+d,transform:"rotate(".concat(n+p+f,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}};function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},d.apply(this,arguments)}function p(t){const e=null!=t?t:[];return Array.isArray(e)?e:[e]}const f=a=>{const{id:c,prefixCls:f,classNames:m={},styles:u={},steps:g,strokeWidth:y,railWidth:k,gapDegree:h=0,gapPosition:b,railColor:j,strokeLinecap:x,style:E,className:D,strokeColor:v,percent:w,loading:C,...W}={...n,...a},N=o(c),O="".concat(N,"-gradient"),P=50-y/2,A=2*Math.PI*P,L=h>0?90+h/2:-90,S=A*((360-h)/360),{count:F,gap:I}="object"==typeof g?g:{count:g,gap:2},M=p(w),R=p(v),_=R.find(t=>t&&"object"==typeof t),z=_&&"object"==typeof _?"butt":x,{indeterminateStyleProps:B,indeterminateStyleAnimation:q}=(({id:t,loading:r})=>{if(!r)return{indeterminateStyleProps:{},indeterminateStyleAnimation:null};const o="".concat(t,"-indeterminate-animate");return{indeterminateStyleProps:{transform:"rotate(0deg)",animation:"".concat(o," 1s linear infinite")},indeterminateStyleAnimation:e.createElement("style",null,"@keyframes ".concat(o," {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }"))}})({id:N,loading:C}),G=l(A,S,0,100,L,h,b,j,z,y),H=(()=>{const e=t.useRef([]),r=t.useRef(null);return t.useEffect(()=>{const t=Date.now();let o=!1;e.current.forEach(e=>{if(!e)return;o=!0;const n=e.style;n.transitionDuration=".3s, .3s, .3s, .06s",r.current&&t-r.current<100&&(n.transitionDuration="0s, 0s")}),o&&(r.current=Date.now())}),e.current})();return t.createElement("svg",d({className:r("".concat(f,"-circle"),m.root,D),viewBox:"0 0 ".concat(i," ").concat(i),style:{...u.root,...E},id:c,role:"presentation"},W),!F&&t.createElement("circle",{className:r("".concat(f,"-circle-rail"),m.rail),r:P,cx:50,cy:50,stroke:j,strokeLinecap:z,strokeWidth:k||y,style:{...G,...u.rail}}),F?(()=>{const e=Math.round(F*(M[0]/100)),o=100/F;let n=0;return new Array(F).fill(null).map((a,c)=>{const s=c<=e-1?R[0]:j,i=s&&"object"==typeof s?"url(#".concat(O,")"):void 0,d=l(A,S,n,o,L,h,b,s,"butt",y,I);return n+=100*(S-d.strokeDashoffset+I)/S,t.createElement("circle",{key:c,className:r("".concat(f,"-circle-path"),m.track),r:P,cx:50,cy:50,stroke:i,strokeWidth:y,opacity:1,style:{...d,...u.track},ref:t=>{H[c]=t}})})})():(()=>{let e=0;return M.map((r,o)=>{const n=R[o]||R[R.length-1],a=l(A,S,e,r,L,h,b,n,z,y);return e+=r,t.createElement(s,{key:o,color:n,ptg:r,radius:P,prefixCls:f,gradientId:O,className:m.track,style:{...a,...B,...u.track},strokeLinecap:z,strokeWidth:y,gapDegree:h,ref:t=>{H[o]=t},size:i})}).reverse()})(),q)};export{f as C};
