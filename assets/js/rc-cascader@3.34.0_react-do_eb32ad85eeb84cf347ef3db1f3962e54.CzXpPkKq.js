import{K as e,f as n,e as t}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.Cptqj8wH.js";import{j as o,g as r,d as a,f as i,h as l,k as c,i as u}from"./@babel_runtime@7.28.3.BsXYqacS.js";import{u as s,b as d,B as f}from"./rc-select@14.16.8_react-dom_cc80e9af85a483474ef754b96054fb57.D3oyo4EZ.js";import{r as p}from"./react@19.1.1.DFOJwFPq.js";import{c as h,a as v}from"./rc-tree@5.13.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.BaGGq7yS.js";import{c as m}from"./classnames@2.5.1.DzaQuX-8.js";import"./rc-overflow@1.4.1_react-dom_cc4ea89628553b129a8da50b36cb88c0.BA4GRIeX.js";import"./react-dom@19.1.1_react@19.1.1.DEXqxQ-g.js";import"./rc-resize-observer@1.4.3_re_417e6ee79a83d8d6def766a6be83681f.C5AGUuAA.js";import"./rc-motion@2.9.5_react-dom@19.1.1_react@19.1.1__react@19.1.1.DpBCifG8.js";var g=p.createContext({}),b="__rc_cascader_search_mark__",C=function(e,n,t){var o=t.label,r=void 0===o?"":o;return n.some(function(n){return String(n[r]).toLowerCase().includes(e.toLowerCase())})},k=function(e,n,t,o){return n.map(function(e){return e[o.label]}).join(" / ")},y="__RC_CASCADER_SPLIT__",S="SHOW_PARENT",x="SHOW_CHILD";function _(e){return e.join(y)}function w(e){return e.map(_)}function E(e){var n=e||{},t=n.label,o=n.value||"value";return{label:t||"label",value:o,key:o,children:n.children||"children"}}function N(e,n){var t,o;return null!==(t=e.isLeaf)&&void 0!==t?t:!(null!==(o=e[n.children])&&void 0!==o&&o.length)}function V(e){var n=e.parentElement;if(n){var t=e.offsetTop-n.offsetTop;t-n.scrollTop<0?n.scrollTo({top:t}):t+e.offsetHeight-n.scrollTop>n.offsetHeight&&n.scrollTo({top:t+e.offsetHeight-n.offsetHeight})}}function O(e,n){return e.map(function(e){var t;return null===(t=e[b])||void 0===t?void 0:t.map(function(e){return e[n.value]})})}function P(e){return e?function(e){return Array.isArray(e)&&Array.isArray(e[0])}(e)?e:(0===e.length?[]:[e]).map(function(e){return Array.isArray(e)?e:[e]}):[]}function M(e,n,t){var o=new Set(e),r=n();return e.filter(function(e){var n=r[e],a=n?n.parent:null,i=n?n.children:null;return!(!n||!n.node.disabled)||(t===x?!(i&&i.some(function(e){return e.key&&o.has(e.key)})):!(a&&!a.node.disabled&&o.has(a.key)))})}function I(e,n,t){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=n,a=[],i=function(){var n,i,c,u=e[l],s=null===(n=r)||void 0===n?void 0:n.findIndex(function(e){var n=e[t.value];return o?String(n)===String(u):n===u}),d=-1!==s?null===(i=r)||void 0===i?void 0:i[s]:null;a.push({value:null!==(c=null==d?void 0:d[t.value])&&void 0!==c?c:u,index:s,option:d}),r=null==d?void 0:d[t.children]},l=0;l<e.length;l+=1)i();return a}function T(e,n){return p.useCallback(function(t){var o=[],r=[];return t.forEach(function(t){I(t,e,n).every(function(e){return e.option})?r.push(t):o.push(t)}),[r,o]},[e,n])}function D(e,n){var t=p.useMemo(function(){return n||[]},[n]),o=function(e,n){var t=p.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}});return p.useCallback(function(){return t.current.options!==e&&(t.current.options=e,t.current.info=h(e,{fieldNames:n,initWrapper:function(e){return r(r({},e),{},{pathKeyEntities:{}})},processEntity:function(e,t){var o=e.nodes.map(function(e){return e[n.value]}).join(y);t.pathKeyEntities[o]=e,e.key=o}})),t.current.info.pathKeyEntities},[n,e])}(t,e),a=p.useCallback(function(n){var t=o();return n.map(function(n){return t[n].nodes.map(function(n){return n[e.value]})})},[o,e]);return[t,o,a]}function R(e,n,t,r,a,i,l,c){return function(u){if(e){var s=_(u),d=w(t),f=w(r),p=d.includes(s),h=a.some(function(e){return _(e)===s}),m=t,g=a;if(h&&!p)g=a.filter(function(e){return _(e)!==s});else{var b,C=p?d.filter(function(e){return e!==s}):[].concat(o(d),[s]),k=i();if(p)b=v(C,{halfCheckedKeys:f},k).checkedKeys;else b=v(C,!0,k).checkedKeys;var y=M(b,i,c);m=l(y)}n([].concat(o(g),o(m)))}else n(u)}}function K(e,n,t,o,r){return p.useMemo(function(){var a=r(n),i=l(a,2),c=i[0],u=i[1];if(!e||!n.length)return[c,[],u];var s=w(c),d=t(),f=v(s,!0,d),p=f.checkedKeys,h=f.halfCheckedKeys;return[o(p),o(h),u]},[e,n,t,o,r])}var j=p.memo(function(e){return e.children},function(e,n){return!n.open});function A(e){var n,t=e.prefixCls,o=e.checked,r=e.halfChecked,i=e.disabled,l=e.onClick,c=e.disableCheckbox,u=p.useContext(g).checkable,s="boolean"!=typeof u?u:null;return p.createElement("span",{className:m("".concat(t),(n={},a(n,"".concat(t,"-checked"),o),a(n,"".concat(t,"-indeterminate"),!o&&r),a(n,"".concat(t,"-disabled"),i||c),n)),onClick:l},s)}var H="__cascader_fix_label__";function W(e){var n=e.prefixCls,t=e.multiple,r=e.options,i=e.activeValue,l=e.prevValuePath,c=e.onToggleOpen,u=e.onSelect,s=e.onActive,d=e.checkedSet,f=e.halfCheckedSet,h=e.loadingKeys,v=e.isSelectable,C=e.disabled,k="".concat(n,"-menu"),y="".concat(n,"-menu-item"),S=p.useContext(g),x=S.fieldNames,w=S.changeOnSelect,E=S.expandTrigger,V=S.expandIcon,O=S.loadingIcon,P=S.dropdownMenuColumnStyle,M=S.optionRender,I="hover"===E,T=function(e){return C||e},D=p.useMemo(function(){return r.map(function(e){var n,t=e.disabled,r=e.disableCheckbox,a=e[b],i=null!==(n=e[H])&&void 0!==n?n:e[x.label],c=e[x.value],u=N(e,x),s=a?a.map(function(e){return e[x.value]}):[].concat(o(l),[c]),p=_(s);return{disabled:t,label:i,value:c,isLeaf:u,isLoading:h.includes(p),checked:d.has(p),halfChecked:f.has(p),option:e,disableCheckbox:r,fullPath:s,fullPathKey:p}})},[r,d,x,f,h,l]);return p.createElement("ul",{className:k,role:"menu"},D.map(function(e){var r,l,d=e.disabled,f=e.label,h=e.value,g=e.isLeaf,b=e.isLoading,C=e.checked,k=e.halfChecked,S=e.option,x=e.fullPath,_=e.fullPathKey,E=e.disableCheckbox,N=function(){if(!T(d)){var e=o(x);I&&g&&e.pop(),s(e)}},D=function(){v(S)&&!T(d)&&u(x,g)};return"string"==typeof S.title?l=S.title:"string"==typeof f&&(l=f),p.createElement("li",{key:_,className:m(y,(r={},a(r,"".concat(y,"-expand"),!g),a(r,"".concat(y,"-active"),i===h||i===_),a(r,"".concat(y,"-disabled"),T(d)),a(r,"".concat(y,"-loading"),b),r)),style:P,role:"menuitemcheckbox",title:l,"aria-checked":C,"data-path-key":_,onClick:function(){N(),E||t&&!g||D()},onDoubleClick:function(){w&&c(!1)},onMouseEnter:function(){I&&N()},onMouseDown:function(e){e.preventDefault()}},t&&p.createElement(A,{prefixCls:"".concat(n,"-checkbox"),checked:C,halfChecked:k,disabled:T(d)||E,disableCheckbox:E,onClick:function(e){E||(e.stopPropagation(),D())}}),p.createElement("div",{className:"".concat(y,"-content")},M?M(S):f),!b&&V&&!g&&p.createElement("div",{className:"".concat(y,"-expand-icon")},V),b&&O&&p.createElement("div",{className:"".concat(y,"-loading-icon")},O))}))}const L=function(n,t,r,a,i,c,u){var s=u.direction,d=u.searchValue,f=u.toggleOpen,h=u.open,v="rtl"===s,m=p.useMemo(function(){for(var e=-1,n=t,o=[],i=[],l=a.length,c=O(t,r),u=function(t){var l=n.findIndex(function(e,n){return(c[n]?_(c[n]):e[r.value])===a[t]});if(-1===l)return 1;e=l,o.push(e),i.push(a[t]),n=n[e][r.children]},s=0;s<l&&n&&!u(s);s+=1);for(var d=t,f=0;f<o.length-1;f+=1)d=d[o[f]][r.children];return[i,e,d,c]},[a,r,t]),g=l(m,4),C=g[0],k=g[1],y=g[2],S=g[3],x=function(e){i(e)},w=function(){if(C.length>1){var e=C.slice(0,-1);x(e)}else f(!1)},E=function(){var e,n=((null===(e=y[k])||void 0===e?void 0:e[r.children])||[]).find(function(e){return!e.disabled});if(n){var t=[].concat(o(C),[n[r.value]]);x(t)}};p.useImperativeHandle(n,function(){return{onKeyDown:function(n){var t=n.which;switch(t){case e.UP:case e.DOWN:var o=0;t===e.UP?o=-1:t===e.DOWN&&(o=1),0!==o&&function(e){var n=y.length,t=k;-1===t&&e<0&&(t=n);for(var o=0;o<n;o+=1){var a=y[t=(t+e+n)%n];if(a&&!a.disabled){var i=C.slice(0,-1).concat(S[t]?_(S[t]):a[r.value]);return void x(i)}}}(o);break;case e.LEFT:if(d)break;v?E():w();break;case e.RIGHT:if(d)break;v?w():E();break;case e.BACKSPACE:d||w();break;case e.ENTER:if(C.length){var a=y[k],i=(null==a?void 0:a[b])||[];i.length?c(i.map(function(e){return e[r.value]}),i[i.length-1]):c(C,y[k])}break;case e.ESC:f(!1),h&&n.stopPropagation()}},onKeyUp:function(){}}})};var F=p.forwardRef(function(e,n){var t,i,u,s=e.prefixCls,d=e.multiple,f=e.searchValue,h=e.toggleOpen,v=e.notFoundContent,b=e.direction,C=e.open,k=e.disabled,S=p.useRef(null),x="rtl"===b,E=p.useContext(g),P=E.options,M=E.values,T=E.halfValues,D=E.fieldNames,R=E.changeOnSelect,K=E.onSelect,A=E.searchOptions,F=E.dropdownPrefixCls,U=E.loadData,B=E.expandTrigger,J=F||s,q=p.useState([]),z=l(q,2),G=z[0],Y=z[1];p.useEffect(function(){G.length&&G.forEach(function(e){var n=I(e.split(y),P,D,!0).map(function(e){return e.option}),t=n[n.length-1];(!t||t[D.children]||N(t,D))&&Y(function(n){return n.filter(function(n){return n!==e})})})},[P,G,D]);var Q=p.useMemo(function(){return new Set(w(M))},[M]),X=p.useMemo(function(){return new Set(w(T))},[T]),Z=function(e,n){var t=p.useContext(g).values[0],o=p.useState([]),r=l(o,2),a=r[0],i=r[1];return p.useEffect(function(){e||i(t||[])},[n,t]),[a,i]}(d,C),$=l(Z,2),ee=$[0],ne=$[1],te=function(e){ne(e),function(e){if(U&&!f){var n=I(e,P,D).map(function(e){return e.option}),t=n[n.length-1];if(t&&!N(t,D)){var r=_(e);Y(function(e){return[].concat(o(e),[r])}),U(n)}}}(e)},oe=function(e){if(k)return!1;var n=e.disabled,t=N(e,D);return!n&&(t||R||d)},re=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];K(e),!d&&(n||R&&("hover"===B||t))&&h(!1)},ae=p.useMemo(function(){return f?A:P},[f,A,P]),ie=p.useMemo(function(){for(var e=[{options:ae}],n=ae,t=O(n,D),o=function(){var o=ee[r],a=n.find(function(e,n){return(t[n]?_(t[n]):e[D.value])===o}),i=null==a?void 0:a[D.children];if(null==i||!i.length)return 1;n=i,e.push({options:i})},r=0;r<ee.length&&!o();r+=1);return e},[ae,ee,D]);L(n,ae,D,ee,te,function(e,n){oe(n)&&re(e,N(n,D),!0)},{direction:b,searchValue:f,toggleOpen:h,open:C}),p.useEffect(function(){if(!f)for(var e=0;e<ee.length;e+=1){var n,t=_(ee.slice(0,e+1)),o=null===(n=S.current)||void 0===n?void 0:n.querySelector('li[data-path-key="'.concat(t.replace(/\\{0,2}"/g,'\\"'),'"]'));o&&V(o)}},[ee,f]);var le=!(null!==(t=ie[0])&&void 0!==t&&null!==(t=t.options)&&void 0!==t&&t.length),ce=[(i={},a(i,D.value,"__EMPTY__"),a(i,H,v),a(i,"disabled",!0),i)],ue=r(r({},e),{},{multiple:!le&&d,onSelect:re,onActive:te,onToggleOpen:h,checkedSet:Q,halfCheckedSet:X,loadingKeys:G,isSelectable:oe}),se=(le?[{options:ce}]:ie).map(function(e,n){var t=ee.slice(0,n),o=ee[n];return p.createElement(W,c({key:n},ue,{prefixCls:J,options:e.options,prevValuePath:t,activeValue:o}))});return p.createElement(j,{open:C},p.createElement("div",{className:m("".concat(J,"-menus"),(u={},a(u,"".concat(J,"-menu-empty"),le),a(u,"".concat(J,"-rtl"),x),u)),ref:S},se))}),U=p.forwardRef(function(e,n){var t=s();return p.createElement(F,c({},e,t,{ref:n}))});function B(){}function J(e){var o,r=e,i=r.prefixCls,c=void 0===i?"rc-cascader":i,u=r.style,s=r.className,d=r.options,f=r.checkable,h=r.defaultValue,v=r.value,b=r.fieldNames,C=r.changeOnSelect,k=r.onChange,y=r.showCheckedStrategy,S=r.loadData,x=r.expandTrigger,_=r.expandIcon,w=void 0===_?">":_,N=r.loadingIcon,V=r.direction,O=r.notFoundContent,M=void 0===O?"Not Found":O,j=r.disabled,A=!!f,H=n(h,{value:v,postState:P}),W=l(H,2),L=W[0],U=W[1],J=p.useMemo(function(){return E(b)},[JSON.stringify(b)]),q=D(J,d),z=l(q,3),G=z[0],Y=z[1],Q=z[2],X=T(G,J),Z=K(A,L,Y,Q,X),$=l(Z,3),ee=$[0],ne=$[1],te=$[2],oe=t(function(e){if(U(e),k){var n=P(e),t=n.map(function(e){return I(e,G,J).map(function(e){return e.option})}),o=A?n:n[0],r=A?t:t[0];k(o,r)}}),re=R(A,oe,ee,ne,te,Y,Q,y),ae=t(function(e){re(e)}),ie=p.useMemo(function(){return{options:G,fieldNames:J,values:ee,halfValues:ne,changeOnSelect:C,onSelect:ae,checkable:f,searchOptions:[],dropdownPrefixCls:void 0,loadData:S,expandTrigger:x,expandIcon:w,loadingIcon:N,dropdownMenuColumnStyle:void 0}},[G,J,ee,ne,C,ae,f,S,x,w,N]),le="".concat(c,"-panel"),ce=!G.length;return p.createElement(g.Provider,{value:ie},p.createElement("div",{className:m(le,(o={},a(o,"".concat(le,"-rtl"),"rtl"===V),a(o,"".concat(le,"-empty"),ce),o),s),style:u},ce?M:p.createElement(F,{prefixCls:c,searchValue:"",multiple:A,toggleOpen:B,open:!0,direction:V,disabled:j})))}var q=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","onOpenChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],z=p.forwardRef(function(e,s){var h=e.id,v=e.prefixCls,m=void 0===v?"rc-cascader":v,y=e.fieldNames,x=e.defaultValue,N=e.value,V=e.changeOnSelect,O=e.onChange,j=e.displayRender,A=e.checkable,H=e.autoClearSearchValue,W=void 0===H||H,L=e.searchValue,F=e.onSearch,B=e.showSearch,J=e.expandTrigger,z=e.options,G=e.dropdownPrefixCls,Y=e.loadData,Q=e.popupVisible,X=e.open,Z=e.popupClassName,$=e.dropdownClassName,ee=e.dropdownMenuColumnStyle,ne=e.dropdownStyle,te=e.popupPlacement,oe=e.placement,re=e.onDropdownVisibleChange,ae=e.onPopupVisibleChange,ie=e.onOpenChange,le=e.expandIcon,ce=void 0===le?">":le,ue=e.loadingIcon,se=e.children,de=e.dropdownMatchSelectWidth,fe=void 0!==de&&de,pe=e.showCheckedStrategy,he=void 0===pe?S:pe,ve=e.optionRender,me=u(e,q),ge=d(h),be=!!A,Ce=n(x,{value:N,postState:P}),ke=l(Ce,2),ye=ke[0],Se=ke[1],xe=p.useMemo(function(){return E(y)},[JSON.stringify(y)]),_e=D(xe,z),we=l(_e,3),Ee=we[0],Ne=we[1],Ve=we[2],Oe=n("",{value:L,postState:function(e){return e||""}}),Pe=l(Oe,2),Me=Pe[0],Ie=Pe[1],Te=function(e){return p.useMemo(function(){if(!e)return[!1,{}];var n={matchInputWidth:!0,limit:50};return e&&"object"===i(e)&&(n=r(r({},n),e)),n.limit<=0&&(n.limit=!1),[!0,n]},[e])}(B),De=l(Te,2),Re=De[0],Ke=De[1],je=function(e,n,t,i,l,c){var u=l.filter,s=void 0===u?C:u,d=l.render,f=void 0===d?k:d,h=l.limit,v=void 0===h?50:h,m=l.sort;return p.useMemo(function(){var l=[];return e?(function n(u,d){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.forEach(function(u){if(!(!m&&!1!==v&&v>0&&l.length>=v)){var h,g=[].concat(o(d),[u]),C=u[t.children],k=p||u.disabled;C&&0!==C.length&&!c||s(e,g,{label:t.label})&&l.push(r(r({},u),{},(a(h={disabled:k},t.label,f(e,g,i,t)),a(h,b,g),a(h,t.children,void 0),h))),C&&n(u[t.children],g,k)}})}(n,[]),m&&l.sort(function(n,o){return m(n[b],o[b],e,t)}),!1!==v&&v>0?l.slice(0,v):l):[]},[e,n,t,i,f,c,s,m,v])}(Me,Ee,xe,G||m,Ke,V||be),Ae=T(Ee,xe),He=K(be,ye,Ne,Ve,Ae),We=l(He,3),Le=We[0],Fe=We[1],Ue=We[2],Be=function(e,n,t,r,a){return p.useMemo(function(){var l=a||function(e){var n=r?e.slice(-1):e;return n.every(function(e){return["string","number"].includes(i(e))})?n.join(" / "):n.reduce(function(e,n,t){var r=p.isValidElement(n)?p.cloneElement(n,{key:t}):n;return 0===t?[r]:[].concat(o(e),[" / ",r])},[])};return e.map(function(e){var o,r=I(e,n,t),a=l(r.map(function(e){var n,o=e.option,r=e.value;return null!==(n=null==o?void 0:o[t.label])&&void 0!==n?n:r}),r.map(function(e){return e.option})),i=_(e);return{label:a,value:i,key:i,valueCells:e,disabled:null===(o=r[r.length-1])||void 0===o||null===(o=o.option)||void 0===o?void 0:o.disabled}})},[e,n,t,a,r])}(p.useMemo(function(){var e=M(w(Le),Ne,he);return[].concat(o(Ue),o(Ve(e)))},[Le,Ne,Ve,Ue,he]),Ee,xe,be,j),Je=t(function(e){if(Se(e),O){var n=P(e),t=n.map(function(e){return I(e,Ee,xe).map(function(e){return e.option})}),o=be?n:n[0],r=be?t:t[0];O(o,r)}}),qe=R(be,Je,Le,Fe,Ue,Ne,Ve,he),ze=t(function(e){be&&!W||Ie(""),qe(e)}),Ge=void 0!==X?X:Q,Ye=$||Z,Qe=oe||te,Xe=p.useMemo(function(){return{options:Ee,fieldNames:xe,values:Le,halfValues:Fe,changeOnSelect:V,onSelect:ze,checkable:A,searchOptions:je,dropdownPrefixCls:G,loadData:Y,expandTrigger:J,expandIcon:ce,loadingIcon:ue,dropdownMenuColumnStyle:ee,optionRender:ve}},[Ee,xe,Le,Fe,V,ze,A,je,G,Y,J,ce,ue,ee,ve]),Ze=!(Me?je:Ee).length,$e=Me&&Ke.matchInputWidth||Ze?{}:{minWidth:"auto"};return p.createElement(g.Provider,{value:Xe},p.createElement(f,c({},me,{ref:s,id:ge,prefixCls:m,autoClearSearchValue:W,dropdownMatchSelectWidth:fe,dropdownStyle:r(r({},$e),ne),displayValues:Be,onDisplayValuesChange:function(e,n){if("clear"!==n.type){var t=n.values[0].valueCells;ze(t)}else Je([])},mode:be?"multiple":void 0,searchValue:Me,onSearch:function(e,n){Ie(e),"blur"!==n.source&&F&&F(e)},showSearch:Re,OptionList:U,emptyOptions:Ze,open:Ge,dropdownClassName:Ye,placement:Qe,onDropdownVisibleChange:function(e){null==ie||ie(e),null==re||re(e),null==ae||ae(e)},getRawInputElement:function(){return se}})))});z.SHOW_PARENT=S,z.SHOW_CHILD=x,z.Panel=J;export{z as C,J as P};
