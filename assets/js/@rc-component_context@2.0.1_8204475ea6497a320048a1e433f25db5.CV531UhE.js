import{h as e,e as t,i as r,s as n}from"./@rc-component_util@1.4.0_re_a8b68d4fbe51b122ded4cf0ecf2ca619.D3_e-sfJ.js";import{r as u}from"./react@19.2.1.BpVBN_43.js";import{r as a}from"./react-dom@19.2.1_react@19.2.1.BLi5rGn2.js";function c(t){const r=u.createContext(void 0);return{Context:r,Provider:({value:t,children:n})=>{const c=u.useRef(t);c.current=t;const[o]=u.useState(()=>({getValue:()=>c.current,listeners:new Set}));return e(()=>{a.unstable_batchedUpdates(()=>{o.listeners.forEach(e=>{e(t)})})},[t]),u.createElement(r.Provider,{value:o},n)},defaultValue:t}}function o(n,a){const c=t("function"==typeof a?a:e=>{if(void 0===a)return e;if(!Array.isArray(a))return e[a];const t={};return a.forEach(r=>{t[r]=e[r]}),t}),o=u.useContext(n?.Context),{listeners:s,getValue:f}=o||{},i=u.useRef();i.current=c(o?f():n?.defaultValue);const[,l]=u.useState({});return e(()=>{if(o)return s.add(e),()=>{s.delete(e)};function e(e){const t=c(e);r(i.current,t,!0)||l({})}},[o]),i.current}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(){const e=u.createContext(null);function t(){return u.useContext(e)}return{makeImmutable:function(r,a){const c=n(r),o=(n,o)=>{const f=c?{ref:o}:{},i=u.useRef(0),l=u.useRef(n);return null!==t()?u.createElement(r,s({},n,f)):(a&&!a(l.current,n)||(i.current+=1),l.current=n,u.createElement(e.Provider,{value:i.current},u.createElement(r,s({},n,f))))};return c?u.forwardRef(o):o},responseImmutable:function(e,r){const a=n(e),c=(r,n)=>{const c=a?{ref:n}:{};return t(),u.createElement(e,s({},r,c))};return u.memo(a?u.forwardRef(c):c,r)},useImmutableMark:t}}export{c as a,f as c,o as u};
