import{i as e}from"./@babel_runtime@7.28.4.CP2Urufz.js";import{h as t,m as a,d as o,A as n}from"./@rc-component_util@1.4.0_re_a8b68d4fbe51b122ded4cf0ecf2ca619.D3_e-sfJ.js";import{c as l}from"./clsx@2.1.1.BvmCeSbq.js";import{r as i}from"./react@19.2.1.BpVBN_43.js";import{C as r}from"./@rc-component_motion@1.1.6__0afcbe001b0ce065bd610efbbf939bf0.BsUikez1.js";const s=(e,t)=>{if(!e)return null;const a={left:e.offsetLeft,right:e.parentElement.clientWidth-e.clientWidth-e.offsetLeft,width:e.clientWidth,top:e.offsetTop,bottom:e.parentElement.clientHeight-e.clientHeight-e.offsetTop,height:e.clientHeight};return t?{left:0,right:0,width:0,top:a.top,bottom:a.bottom,height:a.height}:{left:a.left,right:a.right,width:a.width,top:0,bottom:0,height:0}},m=e=>void 0!==e?`${e}px`:void 0;function c(e){const{prefixCls:o,containerRef:n,value:c,getValueIndex:u,motionName:h,onMotionStart:d,onMotionEnd:f,direction:b,vertical:p=!1}=e,v=i.useRef(null),[g,w]=i.useState(c),y=e=>{const t=u(e),a=n.current?.querySelectorAll(`.${o}-item`)[t];return a?.offsetParent&&a},[N,$]=i.useState(null),[x,E]=i.useState(null);t(()=>{if(g!==c){const e=y(g),t=y(c),a=s(e,p),o=s(t,p);w(c),$(a),E(o),e&&t?d():f()}},[c]);const S=i.useMemo(()=>m(p?N?.top??0:"rtl"===b?-N?.right:N?.left),[p,b,N]),C=i.useMemo(()=>m(p?x?.top??0:"rtl"===b?-x?.right:x?.left),[p,b,x]);return N&&x?i.createElement(r,{visible:!0,motionName:h,motionAppear:!0,onAppearStart:()=>p?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"},onAppearActive:()=>p?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"},onVisibleChanged:()=>{$(null),E(null),f()}},({className:e,style:t},n)=>{const r={...t,"--thumb-start-left":S,"--thumb-start-width":m(N?.width),"--thumb-active-left":C,"--thumb-active-width":m(x?.width),"--thumb-start-top":S,"--thumb-start-height":m(N?.height),"--thumb-active-top":C,"--thumb-active-height":m(x?.height)},s={ref:a(v,n),style:r,className:l(`${o}-thumb`,e)};return i.createElement("div",s)}):null}const u=({prefixCls:e,className:t,style:a,styles:o,classNames:n,data:r,disabled:s,checked:m,label:c,title:u,value:h,name:d,onChange:f,onFocus:b,onBlur:p,onKeyDown:v,onKeyUp:g,onMouseDown:w,itemRender:y=e=>e})=>y(i.createElement("label",{className:l(t,{[`${e}-item-disabled`]:s}),style:a,onMouseDown:w},i.createElement("input",{name:d,className:`${e}-item-input`,type:"radio",disabled:s,checked:m,onChange:e=>{s||f(e,h)},onFocus:b,onBlur:p,onKeyDown:v,onKeyUp:g}),i.createElement("div",{className:l(`${e}-item-label`,n?.label),title:u,role:"radio","aria-checked":m,style:o?.label},c)),{item:r}),h=i.forwardRef((t,r)=>{const{prefixCls:s="rc-segmented",direction:m,vertical:h,options:d=[],disabled:f,defaultValue:b,value:p,name:v,onChange:g,className:w="",style:y,styles:N,classNames:$,motionName:x="thumb-motion",itemRender:E,...S}=t,C=i.useRef(null),M=i.useMemo(()=>a(C,r),[C,r]),A=i.useMemo(()=>function(e){return e.map(e=>{if("object"==typeof e&&null!==e){const t=function(e){return void 0!==e.title?e.title:"object"!=typeof e.label?e.label?.toString():void 0}(e);return{...e,title:t}}return{label:e?.toString(),title:e?.toString(),value:e}})}(d),[d]),[R,k]=o(b??A[0]?.value,p),[j,D]=i.useState(!1),_=(e,t)=>{k(t),g?.(t)},K=n(S,["children"]),[I,T]=i.useState(!1),[U,V]=i.useState(!1),B=()=>{V(!0)},F=()=>{V(!1)},H=()=>{T(!1)},L=e=>{"Tab"===e.key&&T(!0)},W=e=>{const t=A.findIndex(e=>e.value===R),a=A.length,o=A[(t+e+a)%a];o&&(k(o.value),g?.(o.value))},X=e=>{switch(e.key){case"ArrowLeft":case"ArrowUp":W(-1);break;case"ArrowRight":case"ArrowDown":W(1)}};return i.createElement("div",e({role:"radiogroup","aria-label":"segmented control",tabIndex:f?void 0:0,style:y},K,{className:l(s,{[`${s}-rtl`]:"rtl"===m,[`${s}-disabled`]:f,[`${s}-vertical`]:h},w),ref:M}),i.createElement("div",{className:`${s}-group`},i.createElement(c,{vertical:h,prefixCls:s,value:R,containerRef:C,motionName:`${s}-${x}`,direction:m,getValueIndex:e=>A.findIndex(t=>t.value===e),onMotionStart:()=>{D(!0)},onMotionEnd:()=>{D(!1)}}),A.map(t=>{const{value:a,disabled:o}=t;return i.createElement(u,e({},t,{name:v,data:t,itemRender:E,key:a,prefixCls:s,className:l(t.className,`${s}-item`,$?.item,{[`${s}-item-selected`]:a===R&&!j,[`${s}-item-focused`]:U&&I&&a===R}),style:N?.item,classNames:$,styles:N,checked:a===R,onChange:_,onFocus:B,onBlur:F,onKeyDown:X,onKeyUp:L,onMouseDown:H,disabled:!!f||!!o}))})))});export{h as T};
