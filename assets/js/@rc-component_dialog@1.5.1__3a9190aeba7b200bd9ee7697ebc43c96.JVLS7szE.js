import{P as e}from"./@rc-component_portal@2.2.0__23d0e188c8e59a845be2370f4ba3b141.C5QFGiBV.js";import{r as t,e as n}from"./react@19.2.3.DikTGMTS.js";import{c as o}from"./clsx@2.1.1.DMqMD_4V.js";import{j as r,p as l,f as a,k as s,K as c}from"./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304.BwjZ45jd.js";import{C as i}from"./@rc-component_motion@1.1.6__75bed58c5aa0279623e804b6e3100d82.BH4WDxGu.js";const u=t.createContext({});function d(e,t,n){let o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}function m(e,t){let n=e["page".concat(t?"Y":"X","Offset")];const o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){const t=e.document;n=t.documentElement[o],"number"!=typeof n&&(n=t.body[o])}return n}const f=t.memo(({children:e})=>e,(e,{shouldUpdate:t})=>!t);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const v={width:0,height:0,overflow:"hidden",outline:"none"},b={outline:"none"},y=n.forwardRef((e,a)=>{const{prefixCls:s,className:c,style:i,title:d,ariaId:m,footer:y,closable:h,closeIcon:g,onClose:C,children:E,bodyStyle:N,bodyProps:O,modalRender:j,onMouseDown:w,onMouseUp:k,holderRef:x,visible:R,forceRender:P,width:I,height:M,classNames:S,styles:_}=e,{panel:A}=n.useContext(u),D=r(x,A),T=t.useRef(null),H=t.useRef(null);n.useImperativeHandle(a,()=>({focus:()=>{var e;null==(e=T.current)||e.focus({preventScroll:!0})},changeActive:e=>{const{activeElement:t}=document;e&&t===H.current?T.current.focus({preventScroll:!0}):e||t!==T.current||H.current.focus({preventScroll:!0})}}));const U={};void 0!==I&&(U.width=I),void 0!==M&&(U.height=M);const V=y?n.createElement("div",{className:o("".concat(s,"-footer"),null==S?void 0:S.footer),style:{...null==_?void 0:_.footer}},y):null,z=d?n.createElement("div",{className:o("".concat(s,"-header"),null==S?void 0:S.header),style:{...null==_?void 0:_.header}},n.createElement("div",{className:o("".concat(s,"-title"),null==S?void 0:S.title),id:m,style:{...null==_?void 0:_.title}},d)):null,K=t.useMemo(()=>"object"==typeof h&&null!==h?h:h?{closeIcon:null!=g?g:n.createElement("span",{className:"".concat(s,"-close-x")})}:{},[h,g,s]),L=l(K,!0),B="object"==typeof h&&h.disabled,W=h?n.createElement("button",p({type:"button",onClick:C,"aria-label":"Close"},L,{className:"".concat(s,"-close"),disabled:B}),K.closeIcon):null,X=n.createElement("div",{className:o("".concat(s,"-container"),null==S?void 0:S.container),style:null==_?void 0:_.container},W,z,n.createElement("div",p({className:o("".concat(s,"-body"),null==S?void 0:S.body),style:{...N,...null==_?void 0:_.body}},O),E),V);return n.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":d?m:null,"aria-modal":"true",ref:D,style:{...i,...U},className:o(s,c),onMouseDown:w,onMouseUp:k},n.createElement("div",{ref:T,tabIndex:0,style:b},n.createElement(f,{shouldUpdate:R||P},j?j(X):X)),n.createElement("div",{tabIndex:0,ref:H,style:v}))});function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}const g=t.forwardRef((e,n)=>{const{prefixCls:r,title:l,style:a,className:s,visible:c,forceRender:u,destroyOnHidden:d,motionName:f,ariaId:p,onVisibleChanged:v,mousePosition:b}=e,g=t.useRef(null),C=t.useRef(null);t.useImperativeHandle(n,()=>({...C.current,inMotion:g.current.inMotion,enableMotion:g.current.enableMotion}));const[E,N]=t.useState(),O={};function j(){const e=function(e){const t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow;return n.left+=m(r),n.top+=m(r,!0),n}(g.current.nativeElement);N(b&&(b.x||b.y)?"".concat(b.x-e.left,"px ").concat(b.y-e.top,"px"):"")}return E&&(O.transformOrigin=E),t.createElement(i,{visible:c,onVisibleChanged:v,onAppearPrepare:j,onEnterPrepare:j,forceRender:u,motionName:f,removeOnLeave:d,ref:g},({className:n,style:c},i)=>t.createElement(y,h({},e,{ref:C,title:l,ariaId:p,prefixCls:r,holderRef:i,style:{...c,...a,...O},className:o(s,n)})))});function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},C.apply(this,arguments)}const E=e=>{const{prefixCls:n,style:r,visible:l,maskProps:a,motionName:s,className:c}=e;return t.createElement(i,{key:"mask",visible:l,motionName:s,leavedClassName:"".concat(n,"-mask-hidden")},({className:e,style:l},s)=>t.createElement("div",C({ref:s,style:{...l,...r},className:o("".concat(n,"-mask"),e,c)},a)))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}const O=e=>{const{prefixCls:n="rc-dialog",zIndex:r,visible:i=!1,keyboard:u=!0,focusTriggerAfterClose:m=!0,wrapStyle:f,wrapClassName:p,wrapProps:v,onClose:b,afterOpenChange:y,afterClose:h,transitionName:C,animation:O,closable:j=!0,mask:w=!0,maskTransitionName:k,maskAnimation:x,maskClosable:R=!0,maskStyle:P,maskProps:I,rootClassName:M,rootStyle:S,classNames:_,styles:A}=e,D=t.useRef(null),T=t.useRef(null),H=t.useRef(null),[U,V]=t.useState(i),z=a();function K(){if(V(!1),w&&D.current&&m){try{D.current.focus({preventScroll:!0})}catch(e){}D.current=null}U&&(null==h||h())}function L(e){null==b||b(e)}const B=t.useRef(!1),W=t.useRef(null);let X=null;R&&(X=e=>{B.current?B.current=!1:T.current===e.target&&L(e)}),t.useEffect(()=>{i?(V(!0),s(T.current,document.activeElement)||(D.current=document.activeElement)):U&&H.current.enableMotion()&&!H.current.inMotion()&&K()},[i]),t.useEffect(()=>()=>{clearTimeout(W.current)},[]);const Y={zIndex:r,...f,...null==A?void 0:A.wrapper,display:U?null:"none"};return t.createElement("div",N({className:o("".concat(n,"-root"),M),style:S},l(e,{data:!0})),t.createElement(E,{prefixCls:n,visible:w&&i,motionName:d(n,k,x),style:{zIndex:r,...P,...null==A?void 0:A.mask},maskProps:I,className:null==_?void 0:_.mask}),t.createElement("div",N({tabIndex:-1,onKeyDown:function(e){if(u&&e.keyCode===c.ESC)return e.stopPropagation(),void L(e);i&&e.keyCode===c.TAB&&H.current.changeActive(!e.shiftKey)},className:o("".concat(n,"-wrap"),p,null==_?void 0:_.wrapper),ref:T,onClick:X,style:Y},v),t.createElement(g,N({},e,{onMouseDown:()=>{clearTimeout(W.current),B.current=!0},onMouseUp:()=>{W.current=setTimeout(()=>{B.current=!1})},ref:H,closable:j,ariaId:z,prefixCls:n,visible:i&&U,onClose:L,onVisibleChanged:function(e){var t;e?s(T.current,document.activeElement)||null==(t=H.current)||t.focus():K(),null==y||y(e)},motionName:d(n,C,O)}))))};function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}const w=n=>{const{visible:o,getContainer:r,forceRender:l,destroyOnHidden:a=!1,afterClose:s,closable:c,panelRef:i}=n,[d,m]=t.useState(o),f=t.useMemo(()=>({panel:i}),[i]);return t.useEffect(()=>{o&&m(!0)},[o]),l||!a||d?t.createElement(u.Provider,{value:f},t.createElement(e,{open:o||l||d,autoDestroy:!1,getContainer:r,autoLock:o||d},t.createElement(O,j({},n,{destroyOnHidden:a,afterClose:()=>{const e=c&&"object"==typeof c?c:{},{afterClose:t}=e||{};null==t||t(),null==s||s(),m(!1)}})))):null};export{w as D,y as P};
