import{c as e}from"./classnames@2.5.1.nkqM0Cxh.js";import{e as n,r as t}from"./react@19.0.0.C56gzhl-.js";import{f as a,d as r,k as o,g as l,i as s,h as u,j as c}from"./@babel_runtime@7.26.9.Bt-OOtGO.js";import{C as i,z as f}from"./rc-util@5.44.4_react-dom@19.0.0_react@19.0.0.iKXSQ1s6.js";function d(e,n,t){var a=n.cloneNode(!0),r=Object.create(e,{target:{value:a},currentTarget:{value:a}});return a.value=t,"number"==typeof n.selectionStart&&"number"==typeof n.selectionEnd&&(a.selectionStart=n.selectionStart,a.selectionEnd=n.selectionEnd),a.setSelectionRange=function(){n.setSelectionRange.apply(n,arguments)},r}function p(e,n,t,a){if(t){var r=n;"click"!==n.type?"file"===e.type||void 0===a?t(r):t(r=d(n,e,a)):t(r=d(n,e,""))}}function m(e,n){if(e){e.focus(n);var t=(n||{}).cursor;if(t){var a=e.value.length;switch(t){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(a,a);break;default:e.setSelectionRange(0,a)}}}}var v=n.forwardRef((function(s,u){var c,i,f,d=s.inputElement,p=s.children,m=s.prefixCls,v=s.prefix,x=s.suffix,g=s.addonBefore,y=s.addonAfter,h=s.className,E=s.style,w=s.disabled,C=s.readOnly,N=s.focused,b=s.triggerFocus,S=s.allowClear,R=s.value,F=s.handleReset,j=s.hidden,k=s.classes,B=s.classNames,W=s.dataAttrs,K=s.styles,z=s.components,A=s.onClear,D=null!=p?p:d,I=(null==z?void 0:z.affixWrapper)||"span",L=(null==z?void 0:z.groupWrapper)||"span",P=(null==z?void 0:z.wrapper)||"span",U=(null==z?void 0:z.groupAddon)||"span",_=t.useRef(null),H=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(s),M=t.cloneElement(D,{value:R,className:e(null===(c=D.props)||void 0===c?void 0:c.className,!H&&(null==B?void 0:B.variant))||null}),O=t.useRef(null);if(n.useImperativeHandle(u,(function(){return{nativeElement:O.current||_.current}})),H){var T=null;if(S){var V=!w&&!C&&R,q="".concat(m,"-clear-icon"),G="object"===a(S)&&null!=S&&S.clearIcon?S.clearIcon:"âœ–";T=n.createElement("button",{type:"button",onClick:function(e){null==F||F(e),null==A||A()},onMouseDown:function(e){return e.preventDefault()},className:e(q,r(r({},"".concat(q,"-hidden"),!V),"".concat(q,"-has-suffix"),!!x))},G)}var J="".concat(m,"-affix-wrapper"),Q=e(J,r(r(r(r(r({},"".concat(m,"-disabled"),w),"".concat(J,"-disabled"),w),"".concat(J,"-focused"),N),"".concat(J,"-readonly"),C),"".concat(J,"-input-with-clear-btn"),x&&S&&R),null==k?void 0:k.affixWrapper,null==B?void 0:B.affixWrapper,null==B?void 0:B.variant),X=(x||S)&&n.createElement("span",{className:e("".concat(m,"-suffix"),null==B?void 0:B.suffix),style:null==K?void 0:K.suffix},T,x);M=n.createElement(I,o({className:Q,style:null==K?void 0:K.affixWrapper,onClick:function(e){var n;null!==(n=_.current)&&void 0!==n&&n.contains(e.target)&&(null==b||b())}},null==W?void 0:W.affixWrapper,{ref:_}),v&&n.createElement("span",{className:e("".concat(m,"-prefix"),null==B?void 0:B.prefix),style:null==K?void 0:K.prefix},v),M,X)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(s)){var Y="".concat(m,"-group"),Z="".concat(Y,"-addon"),$="".concat(Y,"-wrapper"),ee=e("".concat(m,"-wrapper"),Y,null==k?void 0:k.wrapper,null==B?void 0:B.wrapper),ne=e($,r({},"".concat($,"-disabled"),w),null==k?void 0:k.group,null==B?void 0:B.groupWrapper);M=n.createElement(L,{className:ne,ref:O},n.createElement(P,{className:ee},g&&n.createElement(U,{className:Z},g),M,y&&n.createElement(U,{className:Z},y)))}return n.cloneElement(M,{className:e(null===(i=M.props)||void 0===i?void 0:i.className,h)||null,style:l(l({},null===(f=M.props)||void 0===f?void 0:f.style),E),hidden:j})})),x=["show"];function g(e,n){return t.useMemo((function(){var t={};n&&(t.show="object"===a(n)&&n.formatter?n.formatter:!!n);var r=t=l(l({},t),e),o=r.show,u=s(r,x);return l(l({},u),{},{show:!!o,showFormatter:"function"==typeof o?o:void 0,strategy:u.strategy||function(e){return e.length}})}),[e,n])}var y=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],h=t.forwardRef((function(a,d){var x=a.autoComplete,h=a.onChange,E=a.onFocus,w=a.onBlur,C=a.onPressEnter,N=a.onKeyDown,b=a.onKeyUp,S=a.prefixCls,R=void 0===S?"rc-input":S,F=a.disabled,j=a.htmlSize,k=a.className,B=a.maxLength,W=a.suffix,K=a.showCount,z=a.count,A=a.type,D=void 0===A?"text":A,I=a.classes,L=a.classNames,P=a.styles,U=a.onCompositionStart,_=a.onCompositionEnd,H=s(a,y),M=t.useState(!1),O=u(M,2),T=O[0],V=O[1],q=t.useRef(!1),G=t.useRef(!1),J=t.useRef(null),Q=t.useRef(null),X=function(e){J.current&&m(J.current,e)},Y=i(a.defaultValue,{value:a.value}),Z=u(Y,2),$=Z[0],ee=Z[1],ne=null==$?"":String($),te=t.useState(null),ae=u(te,2),re=ae[0],oe=ae[1],le=g(z,K),se=le.max||B,ue=le.strategy(ne),ce=!!se&&ue>se;t.useImperativeHandle(d,(function(){var e;return{focus:X,blur:function(){var e;null===(e=J.current)||void 0===e||e.blur()},setSelectionRange:function(e,n,t){var a;null===(a=J.current)||void 0===a||a.setSelectionRange(e,n,t)},select:function(){var e;null===(e=J.current)||void 0===e||e.select()},input:J.current,nativeElement:(null===(e=Q.current)||void 0===e?void 0:e.nativeElement)||J.current}})),t.useEffect((function(){G.current&&(G.current=!1),V((function(e){return(!e||!F)&&e}))}),[F]);var ie=function(e,n,t){var a,r,o=n;if(!q.current&&le.exceedFormatter&&le.max&&le.strategy(n)>le.max)n!==(o=le.exceedFormatter(n,{max:le.max}))&&oe([(null===(a=J.current)||void 0===a?void 0:a.selectionStart)||0,(null===(r=J.current)||void 0===r?void 0:r.selectionEnd)||0]);else if("compositionEnd"===t.source)return;ee(o),J.current&&p(J.current,e,h,o)};t.useEffect((function(){var e;re&&(null===(e=J.current)||void 0===e||e.setSelectionRange.apply(e,c(re)))}),[re]);var fe,de=function(e){ie(e,e.target.value,{source:"change"})},pe=function(e){q.current=!1,ie(e,e.currentTarget.value,{source:"compositionEnd"}),null==_||_(e)},me=function(e){C&&"Enter"===e.key&&!G.current&&(G.current=!0,C(e)),null==N||N(e)},ve=function(e){"Enter"===e.key&&(G.current=!1),null==b||b(e)},xe=function(e){V(!0),null==E||E(e)},ge=function(e){G.current&&(G.current=!1),V(!1),null==w||w(e)},ye=ce&&"".concat(R,"-out-of-range");return n.createElement(v,o({},H,{prefixCls:R,className:e(k,ye),handleReset:function(e){ee(""),X(),J.current&&p(J.current,e,h)},value:ne,focused:T,triggerFocus:X,suffix:function(){var t=Number(se)>0;if(W||le.show){var a=le.showFormatter?le.showFormatter({value:ne,count:ue,maxLength:se}):"".concat(ue).concat(t?" / ".concat(se):"");return n.createElement(n.Fragment,null,le.show&&n.createElement("span",{className:e("".concat(R,"-show-count-suffix"),r({},"".concat(R,"-show-count-has-suffix"),!!W),null==L?void 0:L.count),style:l({},null==P?void 0:P.count)},a),W)}return null}(),disabled:F,classes:I,classNames:L,styles:P}),(fe=f(a,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]),n.createElement("input",o({autoComplete:x},fe,{onChange:de,onFocus:xe,onBlur:ge,onKeyDown:me,onKeyUp:ve,className:e(R,r({},"".concat(R,"-disabled"),F),null==L?void 0:L.input),style:null==P?void 0:P.input,ref:J,size:j,type:D,onCompositionStart:function(e){q.current=!0,null==U||U(e)},onCompositionEnd:pe}))))}));export{v as B,h as I,p as r,m as t,g as u};
