import{r as e}from"./react@19.2.3.D3o_8b5j.js";import{c as t,a as n,u as o}from"./@rc-component_context@2.0.1_9fe36d481fc46b168d9be8c7e1532bb4.7OSEexam.js";import{u as l,i as r,q as c,e as s,h as a,G as i,I as d,t as u,c as f,F as p,l as m,J as x,H as h,p as y}from"./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304.OytLLzRX.js";import{c as w}from"./clsx@2.1.1.BvmCeSbq.js";import{R as v}from"./@rc-component_resize-observ_a5d141e3de655ef602de0c6d9e51ffb4.DTkZgLwN.js";import{L as C}from"./@rc-component_virtual-list@_eab7c240f5d5dcfc3960e23bede0b5bd.BMbuch9V.js";const E={},b="rc-table-internal-hook",{makeImmutable:g,responseImmutable:S,useImmutableMark:R}=t(),N=n(),k=e.createContext({renderWithProps:!1});function I(e){const t=[],n={};return e.forEach(e=>{const{key:o,dataIndex:l}=e||{};let r=o||(c=l,null==c?[]:Array.isArray(c)?c:[c]).join("-")||"RC_TABLE_KEY";for(var c;n[r];)r="".concat(r,"_next");n[r]=!0,t.push(r)}),t}function O(e){return null!=e}function L(t,n,o,s,a,i){const d=e.useContext(k),u=R();return l(()=>{if(O(s))return[s];const l=null==n||""===n?[]:Array.isArray(n)?n:[n],r=c(t,l);let i,u=r;if(a){const n=a(r,t,o);!(f=n)||"object"!=typeof f||Array.isArray(f)||e.isValidElement(f)?u=n:(u=n.children,i=n.props,d.renderWithProps=!0)}var f;return[u,i]},[u,t,s,n,a,o],(e,t)=>{if(i){const[,n]=e,[,o]=t;return i(o,n)}return!!d.renderWithProps||!r(e,t,!0)})}function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},M.apply(this,arguments)}const T=t=>{var n,l,r,c,a,i,d;const{component:u,children:f,ellipsis:p,scope:m,prefixCls:x,className:h,style:y,align:v,record:C,render:E,dataIndex:b,renderIndex:g,shouldCellUpdate:S,index:R,rowType:k,colSpan:I,rowSpan:O,fixStart:T,fixEnd:H,fixedStartShadow:W,fixedEndShadow:j,offsetFixedStartShadow:K,offsetFixedEndShadow:z,zIndex:P,zIndexReverse:B,appendNode:_,additionalProps:A={},isSticky:F}=t,X="".concat(x,"-cell"),{allColumnsFixedLeft:V,rowHoverable:D}=o(N,["allColumnsFixedLeft","rowHoverable"]),[U,Y]=L(C,b,g,f,E,S),G={},q="number"==typeof T&&!V,J="number"==typeof H&&!V,[Q,Z]=o(N,({scrollInfo:e})=>{if(!q&&!J)return[!1,!1];const[t,n]=e;return[(q&&W&&t)-K>=1,(J&&j&&n-t)-z>1]});q&&(G.insetInlineStart=T,G["--z-offset"]=P,G["--z-offset-reverse"]=B),J&&(G.insetInlineEnd=H,G["--z-offset"]=P,G["--z-offset-reverse"]=B);const $=null!=(r=null!=(l=null!=(n=null==Y?void 0:Y.colSpan)?n:A.colSpan)?l:I)?r:1,ee=null!=(i=null!=(a=null!=(c=null==Y?void 0:Y.rowSpan)?c:A.rowSpan)?a:O)?i:1,[te,ne]=function(e,t){return o(N,n=>{var o,l,r,c;return[(o=e,l=t||1,r=n.hoverStartRow,c=n.hoverEndRow,o<=c&&o+l-1>=r),n.onHover]})}(R,ee),oe=s(e=>{var t;C&&ne(R,R+ee-1),null==(t=null==A?void 0:A.onMouseEnter)||t.call(A,e)}),le=s(e=>{var t;C&&ne(-1,-1),null==(t=null==A?void 0:A.onMouseLeave)||t.call(A,e)});if(0===$||0===ee)return null;const re=null!=(d=A.title)?d:(({ellipsis:t,rowType:n,children:o})=>{var l,r;let c;const s=!0===t?{showTitle:!0}:t;return s&&(s.showTitle||"header"===n)&&("string"==typeof o||"number"==typeof o?c=o.toString():e.isValidElement(o)&&"string"==typeof(null==(l=o.props)?void 0:l.children)&&(c=null==(r=o.props)?void 0:r.children)),c})({rowType:k,ellipsis:p,children:U}),ce=w(X,h,{["".concat(X,"-fix")]:q||J,["".concat(X,"-fix-start")]:q,["".concat(X,"-fix-end")]:J,["".concat(X,"-fix-start-shadow")]:W,["".concat(X,"-fix-start-shadow-show")]:W&&Q,["".concat(X,"-fix-end-shadow")]:j,["".concat(X,"-fix-end-shadow-show")]:j&&Z,["".concat(X,"-ellipsis")]:p,["".concat(X,"-with-append")]:_,["".concat(X,"-fix-sticky")]:(q||J)&&F,["".concat(X,"-row-hover")]:!Y&&te},A.className,null==Y?void 0:Y.className),se={};v&&(se.textAlign=v);const ae={...null==Y?void 0:Y.style,...G,...se,...A.style,...y};let ie=U;return"object"!=typeof ie||Array.isArray(ie)||e.isValidElement(ie)||(ie=null),p&&(W||j)&&(ie=e.createElement("span",{className:"".concat(X,"-content")},ie)),e.createElement(u,M({},Y,A,{className:ce,style:ae,title:re,scope:m,onMouseEnter:D?oe:void 0,onMouseLeave:D?le:void 0,colSpan:1!==$?$:null,rowSpan:1!==ee?ee:null}),_,ie)},H=e.memo(T);function W(e){return"start"===e.fixed}function j(e){return"end"===e.fixed}function K(e,t,n,o){const l=n[e]||{},r=n[t]||{};let c=null,s=null;W(l)&&W(r)?c=o.start[e]:j(r)&&j(l)&&(s=o.end[t]);let a=!1,i=!1,d=0,u=0;null!==c&&(a=!n[t+1]||!W(n[t+1]),d=2*n.length-e,u=n.length+e),null!==s&&(i=!n[e-1]||!j(n[e-1]),d=t,u=n.length-t);let f=0,p=0;if(a)for(let m=0;m<e;m+=1)W(n[m])||(f+=o.widths[m]||0);if(i)for(let m=n.length-1;m>t;m-=1)j(n[m])||(p+=o.widths[m]||0);return{fixStart:c,fixEnd:s,fixedStartShadow:a,fixedEndShadow:i,offsetFixedStartShadow:f,offsetFixedEndShadow:p,isSticky:o.isSticky,zIndex:d,zIndexReverse:u}}const z=e.createContext({});function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}const B=e=>{const{children:t}=e;return t};B.Row=t=>{const{children:n,...o}=t;return e.createElement("tr",o,n)},B.Cell=t=>{const{className:n,index:l,children:r,colSpan:c=1,rowSpan:s,align:a}=t,{prefixCls:i}=o(N,["prefixCls"]),{scrollColumnIndex:d,stickyOffsets:u,flattenColumns:f}=e.useContext(z),p=l+c-1+1===d?c+1:c,m=e.useMemo(()=>K(l,l+p-1,f,u),[l,p,f,u]);return e.createElement(H,P({className:n,index:l,component:"td",prefixCls:i,record:null,dataIndex:null,align:a,colSpan:p,rowSpan:s,render:()=>r},m))};const _=S(t=>{const{children:n,stickyOffsets:l,flattenColumns:r}=t,c=o(N,"prefixCls"),s=r.length-1,a=r[s],i=e.useMemo(()=>({stickyOffsets:l,flattenColumns:r,scrollColumnIndex:(null==a?void 0:a.scrollbar)?s:null}),[a,r,s,l]);return e.createElement(z.Provider,{value:i},e.createElement("tfoot",{className:"".concat(c,"-summary")},n))}),A=B;function F(e,t,n,o,l,r,c){const s=r(t,c);e.push({record:t,indent:n,index:c,rowKey:s});const a=null==l?void 0:l.has(s);if(t&&Array.isArray(t[o])&&a)for(let i=0;i<t[o].length;i+=1)F(e,t[o][i],n+1,o,l,r,i)}function X(t,n,o,l){return e.useMemo(()=>{if(null==o?void 0:o.size){const e=[];for(let r=0;r<(null==t?void 0:t.length);r+=1){F(e,t[r],0,n,o,l,r)}return e}return null==t?void 0:t.map((e,t)=>({record:e,indent:0,index:t,rowKey:l(e,t)}))},[t,n,o,l])}function V(e,t,n,l){const r=o(N,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),{flattenColumns:c,expandableType:a,expandedKeys:i,childrenColumnName:d,onTriggerExpand:u,rowExpandable:f,onRow:p,expandRowByClick:m,rowClassName:x}=r,h="nest"===a,y="row"===a&&(!f||f(e)),v=y||h,C=i&&i.has(t),E=d&&e&&e[d],b=s(u),g=null==p?void 0:p(e,n),S=null==g?void 0:g.onClick;let R;"string"==typeof x?R=x:"function"==typeof x&&(R=x(e,n,l));const k=I(c);return{...r,columnsKey:k,nestExpandable:h,expanded:C,hasNestChildren:E,record:e,onTriggerExpand:b,rowSupportExpand:y,expandable:v,rowProps:{...g,className:w(R,null==g?void 0:g.className),onClick:(t,...n)=>{m&&v&&u(e,t),null==S||S(t,...n)}}}}const D=t=>{const{prefixCls:n,children:l,component:r,cellComponent:c,className:s,expanded:a,colSpan:i,isEmpty:d,stickyOffset:u=0}=t,{scrollbarSize:f,fixHeader:p,fixColumn:m,componentWidth:x,horizonScroll:h}=o(N,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]);let y=l;return(d?h&&x:m)&&(y=e.createElement("div",{style:{width:x-u-(p&&!d?f:0),position:"sticky",left:u,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},y)),e.createElement(r,{className:s,style:{display:a?null:"none"}},e.createElement(H,{component:c,prefixCls:n,colSpan:i},y))};function U({prefixCls:t,record:n,onExpand:o,expanded:l,expandable:r}){const c="".concat(t,"-row-expand-icon");if(!r)return e.createElement("span",{className:w(c,"".concat(t,"-row-spaced"))});return e.createElement("span",{className:w(c,{["".concat(t,"-row-expanded")]:l,["".concat(t,"-row-collapsed")]:!l}),onClick:e=>{o(n,e),e.stopPropagation()}})}function Y(e,t,n,o){return"string"==typeof e?e:"function"==typeof e?e(t,n,o):""}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},G.apply(this,arguments)}function q(t,n,o,l,r,c=[],s=0){var a;const{record:i,prefixCls:d,columnsKey:u,fixedInfoList:f,expandIconColumnIndex:p,nestExpandable:m,indentSize:x,expandIcon:h,expanded:y,hasNestChildren:w,onTriggerExpand:v,expandable:C,expandedKeys:E}=t,b=u[o],g=f[o];let S;o===(p||0)&&m&&(S=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(x*l,"px")},className:"".concat(d,"-row-indent indent-level-").concat(l)}),h({prefixCls:d,expanded:y,expandable:w,record:i,onExpand:v})));const R=(null==(a=n.onCell)?void 0:a.call(n,i,r))||{};if(s){const{rowSpan:e=1}=R;if(C&&e&&o<s){let t=e;for(let n=r;n<r+e;n+=1){const e=c[n];E.has(e)&&(t+=1)}R.rowSpan=t}}return{key:b,fixedInfo:g,appendCellNode:S,additionalCellProps:R}}const J=S(t=>{const{className:n,style:o,classNames:l,styles:r,record:c,index:s,renderIndex:a,rowKey:i,rowKeys:d,indent:u=0,rowComponent:f,cellComponent:p,scopeCellComponent:m,expandedRowInfo:x}=t,h=V(c,i,s,u),{prefixCls:y,flattenColumns:v,expandedRowClassName:C,expandedRowRender:E,rowProps:b,expanded:g,rowSupportExpand:S}=h,R=e.useRef(!1);R.current||(R.current=g);const N=Y(C,c,s,u),k=e.createElement(f,G({},b,{"data-row-key":i,className:w(n,"".concat(y,"-row"),"".concat(y,"-row-level-").concat(u),null==b?void 0:b.className,l.row,{[N]:u>=1}),style:{...o,...null==b?void 0:b.style,...r.row}}),v.map((t,n)=>{const{render:o,dataIndex:i,className:f}=t,{key:v,fixedInfo:C,appendCellNode:E,additionalCellProps:b}=q(h,t,n,u,s,d,null==x?void 0:x.offset);return e.createElement(H,G({className:w(f,l.cell),style:r.cell,ellipsis:t.ellipsis,align:t.align,scope:t.rowScope,component:t.rowScope?m:p,prefixCls:y,key:v,record:c,index:s,renderIndex:a,dataIndex:i,render:o,shouldCellUpdate:t.shouldCellUpdate},C,{appendNode:E,additionalProps:b}))}));let I;if(S&&(R.current||g)){const t=E(c,s,u+1,g);I=e.createElement(D,{expanded:g,className:w("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(u+1),N),prefixCls:y,component:f,cellComponent:p,colSpan:x?x.colSpan:v.length,isEmpty:!1,stickyOffset:null==x?void 0:x.sticky},t)}return e.createElement(e.Fragment,null,k,I)}),Q=t=>{const{columnKey:n,onColumnResize:o,title:l}=t,r=e.useRef(null);return a(()=>{r.current&&o(n,r.current.offsetWidth)},[]),e.createElement(v,{data:n},e.createElement("td",{ref:r,style:{paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden",fontWeight:"bold"}},l||"Â ")))},Z=({prefixCls:t,columnsKey:n,onColumnResize:l,columns:r})=>{const c=e.useRef(null),{measureRowRender:s}=o(N,["measureRowRender"]),a=e.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0},ref:c},e.createElement(v.Collection,{onBatchResize:e=>{i(c.current)&&e.forEach(({data:e,size:t})=>{l(e,t.offsetWidth)})}},n.map(t=>{const n=r.find(e=>e.key===t),o=null==n?void 0:n.title,c=e.isValidElement(o)?e.cloneElement(o,{ref:null}):o;return e.createElement(Q,{key:t,columnKey:t,onColumnResize:l,title:c})})));return"function"==typeof s?s(a):a},$=S(t=>{const{data:n,measureColumnWidth:l}=t,{prefixCls:r,getComponent:c,onColumnResize:s,flattenColumns:a,getRowKey:i,expandedKeys:d,childrenColumnName:u,emptyNode:f,classNames:p,styles:m,expandedRowOffset:x=0,colWidths:h}=o(N,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","classNames","styles","expandedRowOffset","fixedInfoList","colWidths"]),{body:y={}}=p||{},{body:v={}}=m||{},C=X(n,u,d,i),E=e.useMemo(()=>C.map(e=>e.rowKey),[C]),b=e.useRef({renderWithProps:!1}),g=e.useMemo(()=>{const e=a.length-x;let t=0;for(let n=0;n<x;n+=1)t+=h[n]||0;return{offset:x,colSpan:e,sticky:t}},[a.length,x,h]),S=c(["body","wrapper"],"tbody"),R=c(["body","row"],"tr"),O=c(["body","cell"],"td"),L=c(["body","cell"],"th");let M;M=n.length?C.map((t,n)=>{const{record:o,indent:l,index:r,rowKey:c}=t;return e.createElement(J,{classNames:y,styles:v,key:c,rowKey:c,rowKeys:E,record:o,index:n,renderIndex:r,rowComponent:R,cellComponent:O,scopeCellComponent:L,indent:l,expandedRowInfo:g})}):e.createElement(D,{expanded:!0,className:"".concat(r,"-placeholder"),prefixCls:r,component:R,cellComponent:O,colSpan:a.length,isEmpty:!0},f);const T=I(a);return e.createElement(k.Provider,{value:b.current},e.createElement(S,{style:v.wrapper,className:w("".concat(r,"-tbody"),y.wrapper)},l&&e.createElement(Z,{prefixCls:r,columnsKey:T,onColumnResize:s,columns:a}),M))}),ee="RC_TABLE_INTERNAL_COL_DEFINE";function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},te.apply(this,arguments)}const ne=t=>{const{colWidths:n,columns:l,columCount:r}=t,{tableLayout:c}=o(N,["tableLayout"]),s=[];let a=!1;for(let o=(r||l.length)-1;o>=0;o-=1){const t=n[o],r=l&&l[o];let i,d;if(r&&(i=r[ee],"auto"===c&&(d=r.minWidth)),t||d||i||a){const{columnType:n,...l}=i||{};s.unshift(e.createElement("col",te({key:o,style:{width:t,minWidth:d}},l))),a=!0}}return s.length>0?e.createElement("colgroup",null,s):null};const oe=e.forwardRef((t,n)=>{const{className:l,style:r,noData:c,columns:s,flattenColumns:a,colWidths:i,colGroup:u,columCount:f,stickyOffsets:p,direction:m,fixHeader:x,stickyTopOffset:h,stickyBottomOffset:y,stickyClassName:v,scrollX:C,tableLayout:E="fixed",onScroll:b,maxContentScroll:g,children:S,...R}=t,{prefixCls:k,scrollbarSize:I,isSticky:O,getComponent:L}=o(N,["prefixCls","scrollbarSize","isSticky","getComponent"]),M=L(["header","table"],"table"),T=O&&!x?0:I,H=e.useRef(null),W=e.useCallback(e=>{d(n,e),d(H,e)},[]);e.useEffect(()=>{function e(e){const{currentTarget:t,deltaX:n}=e;if(n){const{scrollLeft:o,scrollWidth:l,clientWidth:r}=t,c=l-r;let s=o+n;"rtl"===m?(s=Math.max(-c,s),s=Math.min(0,s)):(s=Math.min(c,s),s=Math.max(0,s)),b({currentTarget:t,scrollLeft:s}),e.preventDefault()}}const t=H.current;return null==t||t.addEventListener("wheel",e,{passive:!1}),()=>{null==t||t.removeEventListener("wheel",e)}},[]);const j=a[a.length-1],K={fixed:j?j.fixed:null,scrollbar:!0,onHeaderCell:()=>({className:"".concat(k,"-cell-scrollbar")})},z=e.useMemo(()=>T?[...s,K]:s,[T,s]),P=e.useMemo(()=>T?[...a,K]:a,[T,a]),B=e.useMemo(()=>{const{start:e,end:t}=p;return{...p,start:e,end:[...t.map(e=>e+T),0],isSticky:O}},[T,p,O]),_=function(t,n){return e.useMemo(()=>{const e=[];for(let o=0;o<n;o+=1){const n=t[o];if(void 0===n)return null;e[o]=n}return e},[t.join("_"),n])}(i,f),A=e.useMemo(()=>{const e=!_||!_.length||_.every(e=>!e);return c||e},[c,_]);return e.createElement("div",{style:{overflow:"hidden",...O?{top:h,bottom:y}:{},...r},ref:W,className:w(l,{[v]:!!v})},e.createElement(M,{style:{tableLayout:E,minWidth:"100%",width:C}},A?u:e.createElement(ne,{colWidths:[..._,T],columCount:f+1,columns:P}),S({...R,stickyOffsets:B,columns:z,flattenColumns:P})))}),le=e.memo(oe);function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},re.apply(this,arguments)}const ce=t=>{const{cells:n,stickyOffsets:l,flattenColumns:r,rowComponent:c,cellComponent:s,onHeaderRow:a,index:i,classNames:d,styles:u}=t,{prefixCls:f}=o(N,["prefixCls"]);let p;a&&(p=a(n.map(e=>e.column),i));const m=I(n.map(e=>e.column));return e.createElement(c,re({},p,{className:d.row,style:u.row}),n.map((t,n)=>{var o;const{column:c,colStart:a,colEnd:i,colSpan:d}=t,u=K(a,i,r,l),p=(null==(o=null==c?void 0:c.onHeaderCell)?void 0:o.call(c,c))||{};return e.createElement(H,re({},t,{scope:c.title?d>1?"colgroup":"col":null,ellipsis:c.ellipsis,align:c.align,component:s,prefixCls:f,key:m[n]},u,{additionalProps:p,rowType:"header"}))}))};const se=S(t=>{const{stickyOffsets:n,columns:l,flattenColumns:r,onHeaderRow:c}=t,{prefixCls:s,getComponent:a,classNames:i,styles:d}=o(N,["prefixCls","getComponent","classNames","styles"]),{header:u={}}=i||{},{header:f={}}=d||{},p=e.useMemo(()=>function(e,t,n){const o=[];!function e(l,r,c=0){o[c]=o[c]||[];let s=r;return l.filter(Boolean).map(l=>{const r={key:l.key,className:w(l.className,t.cell)||"",style:n.cell,children:l.title,column:l,colStart:s};let a=1;const i=l.children;return i&&i.length>0&&(a=e(i,s,c+1).reduce((e,t)=>e+t,0),r.hasSubColumns=!0),"colSpan"in l&&({colSpan:a}=l),"rowSpan"in l&&(r.rowSpan=l.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,o[c].push(r),s+=a,a})}(e,0);const l=o.length;for(let r=0;r<l;r+=1)o[r].forEach(e=>{"rowSpan"in e||e.hasSubColumns||(e.rowSpan=l-r)});return o}(l,u,f),[l,u,f]),m=a(["header","wrapper"],"thead"),x=a(["header","row"],"tr"),h=a(["header","cell"],"th");return e.createElement(m,{className:w("".concat(s,"-thead"),u.wrapper),style:f.wrapper},p.map((t,o)=>e.createElement(ce,{classNames:u,styles:f,key:o,flattenColumns:r,cells:t,stickyOffsets:n,rowComponent:x,cellComponent:h,onHeaderRow:c,index:o})))});function ae(e,t=""){return"number"==typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}function ie(t){return u(t).filter(t=>e.isValidElement(t)).map(e=>{const{key:t,props:n}=e,{children:o,...l}=n,r={key:t,...l};return o&&(r.children=ie(o)),r})}function de(e){return e.filter(e=>e&&"object"==typeof e&&!e.hidden).map(e=>{const t=e.children;return t&&t.length>0?{...e,children:de(t)}:e})}function ue(e,t="key"){return e.filter(e=>e&&"object"==typeof e).reduce((e,n,o)=>{const{fixed:l}=n,r=!0===l||"left"===l?"start":"right"===l?"end":l,c="".concat(t,"-").concat(o),s=n.children;return s&&s.length>0?[...e,...ue(s,c).map(e=>{var t;return{...e,fixed:null!=(t=e.fixed)?t:r}})]:[...e,{key:c,...n,fixed:r}]},[])}function fe({prefixCls:t,columns:n,children:o,expandable:l,expandedKeys:r,columnTitle:c,getRowKey:s,onTriggerExpand:a,expandIcon:i,rowExpandable:d,expandIconColumnIndex:u,expandedRowOffset:f=0,direction:p,expandRowByClick:m,columnWidth:x,fixed:h,scrollWidth:y,clientWidth:w},v){const C=e.useMemo(()=>de((n||ie(o)||[]).slice()),[n,o]),b=e.useMemo(()=>{if(l){let n=C.slice();if(!n.includes(E)){const e=u||0,t=0!==e||"right"!==h&&"end"!==h?e:C.length;t>=0&&n.splice(t,0,E)}const o=n.indexOf(E);n=n.filter((e,t)=>e!==E||t===o);const l=C[o];let p;p=h||(l?l.fixed:null);const y={[ee]:{className:"".concat(t,"-expand-icon-col"),columnType:"EXPAND_COLUMN"},title:c,fixed:p,className:"".concat(t,"-row-expand-icon-cell"),width:x,render:(n,o,l)=>{const c=s(o,l),u=r.has(c),f=!d||d(o),p=i({prefixCls:t,expanded:u,expandable:f,record:o,onExpand:a});return m?e.createElement("span",{onClick:e=>e.stopPropagation()},p):p}};return n.map((e,t)=>{const n=e===E?y:e;return t<f?{...n,fixed:n.fixed||"start"}:n})}return C.filter(e=>e!==E)},[l,C,s,r,i,p,f]),g=e.useMemo(()=>{let e=b;return v&&(e=v(e)),e.length||(e=[{render:()=>null}]),e},[v,b,p]),S=e.useMemo(()=>ue(g),[g,p,y]),[R,N]=function(t,n,o){return e.useMemo(()=>{if(n&&n>0){let e=0,l=0;t.forEach(t=>{const o=ae(n,t.width);o?e+=o:l+=1});const r=Math.max(n,o);let c=Math.max(r-e,l),s=l;const a=c/l;let i=0;const d=t.map(e=>{const t={...e},o=ae(n,t.width);if(o)t.width=o;else{const e=Math.floor(a);t.width=1===s?c:e,c-=e,s-=1}return i+=t.width,t});if(i<r){const e=r/i;c=r,d.forEach((t,n)=>{const o=Math.floor(t.width*e);t.width=n===d.length-1?c:o,c-=o})}return[d,Math.max(i,r)]}return[t,n]},[t,n,o])}(S,y,w);return[g,R,N]}const pe=f()?window:null;const me=t=>{const{children:n,className:o,style:l}=t;return e.createElement("div",{className:o,style:l},n)};function xe(e){const t=p(e).getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}const he="mouseup",ye="mousemove",we="scroll",ve="resize",Ce=(t,n)=>{var l,r;const{scrollBodyRef:c,onScroll:s,offsetScroll:a,container:i,direction:d}=t,u=o(N,"prefixCls"),f=(null==(l=c.current)?void 0:l.scrollWidth)||0,h=(null==(r=c.current)?void 0:r.clientWidth)||0,y=f&&h*(h/f),v=e.useRef(null),[C,E]=function(t){const n=e.useRef(t),[,o]=e.useState({}),l=e.useRef(null),r=e.useRef([]);return e.useEffect(()=>()=>{l.current=null},[]),[n.current,function(e){r.current.push(e);const t=Promise.resolve();l.current=t,t.then(()=>{if(l.current===t){const e=r.current,t=n.current;r.current=[],e.forEach(e=>{n.current=e(n.current)}),l.current=null,t!==n.current&&o({})}})}]}({scrollLeft:0,isHiddenScrollBar:!0}),b=e.useRef({delta:0,x:0}),[g,S]=e.useState(!1),R=e.useRef(null);e.useEffect(()=>()=>{m.cancel(R.current)},[]);const k=()=>{S(!1)},I=e=>{const{buttons:t}=e||(null==window?void 0:window.event);if(!g||0===t)return void(g&&S(!1));let n=b.current.x+e.pageX-b.current.x-b.current.delta;const o="rtl"===d;n=Math.max(o?y-h:0,Math.min(o?0:h-y,n));(!o||Math.abs(n)+Math.abs(y)<h)&&(s({scrollLeft:n/h*(f+2)}),b.current.x=e.pageX)},O=()=>{m.cancel(R.current),R.current=m(()=>{if(!c.current)return;const e=xe(c.current).top,t=e+c.current.offsetHeight,n=i===window?document.documentElement.scrollTop+window.innerHeight:xe(i).top+i.clientHeight;t-x()<=n||e>=n-a?E(e=>({...e,isHiddenScrollBar:!0})):E(e=>({...e,isHiddenScrollBar:!1}))})},L=e=>{E(t=>({...t,scrollLeft:e/f*h||0}))};return e.useImperativeHandle(n,()=>({setScrollLeft:L,checkScrollBarVisible:O})),e.useEffect(()=>(document.body.addEventListener(he,k,!1),document.body.addEventListener(ye,I,!1),O(),()=>{document.body.removeEventListener(he,k),document.body.removeEventListener(ye,I)}),[y,g]),e.useEffect(()=>{if(c.current){const e=[];let t=p(c.current);for(;t;)e.push(t),t=t.parentElement;return e.forEach(e=>{e.addEventListener(we,O,!1)}),window.addEventListener(ve,O,!1),window.addEventListener(we,O,!1),i.addEventListener(we,O,!1),()=>{e.forEach(e=>{e.removeEventListener(we,O)}),window.removeEventListener(ve,O),window.removeEventListener(we,O),i.removeEventListener(we,O)}}},[i]),e.useEffect(()=>{C.isHiddenScrollBar||E(e=>{const t=c.current;return t?{...e,scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}:e})},[C.isHiddenScrollBar]),f<=h||!y||C.isHiddenScrollBar?null:e.createElement("div",{style:{height:x(),width:h,bottom:a},className:"".concat(u,"-sticky-scroll")},e.createElement("div",{onMouseDown:e=>{e.persist(),b.current.delta=e.pageX-C.scrollLeft,b.current.x=0,S(!0),e.preventDefault()},ref:v,className:w("".concat(u,"-sticky-scroll-bar"),{["".concat(u,"-sticky-scroll-bar-active")]:g}),style:{width:"".concat(y,"px"),transform:"translate3d(".concat(C.scrollLeft,"px, 0, 0)")}}))},Ee=e.forwardRef(Ce);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},be.apply(this,arguments)}const ge="rc-table",Se=[],Re={};function Ne(){return"No Data"}const ke=(t,n)=>{var o,i;const d={rowKey:"key",prefixCls:ge,emptyText:Ne,...t},{prefixCls:u,className:f,rowClassName:m,style:x,classNames:C,styles:E,data:g,rowKey:S,scroll:R,tableLayout:k,direction:L,title:M,footer:T,summary:H,caption:W,id:j,showHeader:z,components:P,emptyText:A,onRow:F,onHeaderRow:X,measureRowRender:V,onScroll:D,internalHooks:Y,transformColumns:G,internalRefs:q,tailor:J,getContainerWidth:Q,sticky:Z,rowHoverable:ee=!0}=d,te=g||Se,oe=!!te.length,re=Y===b,ce=e.useCallback((e,t)=>c(P,e)||t,[P]),ae=e.useMemo(()=>"function"==typeof S?S:e=>e&&e[S],[S]),ie=ce(["body"]),[de,ue,xe]=function(){const[t,n]=e.useState(-1),[o,l]=e.useState(-1);return[t,o,e.useCallback((e,t)=>{n(e),l(t)},[])]}(),[he,ye,we,ve,Ce,ke]=function(t,n,o){const l=function(e){const{expandable:t,...n}=e;let o;return o="expandable"in e?{...n,...t}:n,!1===o.showExpandColumn&&(o.expandIconColumnIndex=-1),o}(t),{expandIcon:r,expandedRowKeys:c,defaultExpandedRowKeys:s,defaultExpandAllRows:a,expandedRowRender:i,onExpand:d,onExpandedRowsChange:u,childrenColumnName:f}=l,p=r||U,m=f||"children",x=e.useMemo(()=>i?"row":!!(t.expandable&&t.internalHooks===b&&t.expandable.__PARENT_RENDER_ICON__||n.some(e=>e&&"object"==typeof e&&e[m]))&&"nest",[!!i,n]),[h,y]=e.useState(()=>s||(a?function(e,t,n){const o=[];return function e(l){(l||[]).forEach((l,r)=>{o.push(t(l,r)),e(l[n])})}(e),o}(n,o,m):[])),w=e.useMemo(()=>new Set(c||h||[]),[c,h]),v=e.useCallback(e=>{const t=o(e,n.indexOf(e));let l;const r=w.has(t);r?(w.delete(t),l=[...w]):l=[...w,t],y(l),d&&d(!r,e),u&&u(l)},[o,w,n,d,u]);return[l,x,w,p,m,v]}(d,te,ae),Ie=null==R?void 0:R.x,[Oe,Le]=e.useState(0),[Me,Te,He]=fe({...d,...he,expandable:!!he.expandedRowRender,columnTitle:he.columnTitle,expandedKeys:we,getRowKey:ae,onTriggerExpand:ke,expandIcon:ve,expandIconColumnIndex:he.expandIconColumnIndex,direction:L,scrollWidth:re&&J&&"number"==typeof Ie?Ie:null,clientWidth:Oe},re?G:null),We=null!=He?He:Ie,je=e.useMemo(()=>({columns:Me,flattenColumns:Te}),[Me,Te]),Ke=e.useRef(null),ze=e.useRef(null),Pe=e.useRef(null),Be=e.useRef(null);e.useImperativeHandle(n,()=>({nativeElement:Ke.current,scrollTo:e=>{var t,n,o;if(Pe.current instanceof HTMLElement){const{index:n,top:l,key:r,offset:c}=e;if("number"!=typeof(o=l)||Number.isNaN(o)){const e=null!=r?r:ae(te[n]),t=Pe.current.querySelector('[data-row-key="'.concat(e,'"]'));if(t)if(c){const e=t.offsetTop;Pe.current.scrollTo({top:e+c})}else t.scrollIntoView()}else null==(t=Pe.current)||t.scrollTo({top:l})}else(null==(n=Pe.current)?void 0:n.scrollTo)&&Pe.current.scrollTo(e)}}));const _e=e.useRef(null),[Ae,Fe]=e.useState(!1),[Xe,Ve]=e.useState(!1),[De,Ue]=e.useState(new Map),Ye=I(Te).map(e=>De.get(e)),Ge=e.useMemo(()=>Ye,[Ye.join("_")]),qe=function(t,n){return e.useMemo(()=>{const e=n.length,o=(e,o,l)=>{const r=[];let c=0;for(let s=e;s!==o;s+=l)r.push(c),n[s].fixed&&(c+=t[s]||0);return r};return{start:o(0,e,1),end:o(e-1,-1,-1).reverse(),widths:t}},[t,n])}(Ge,Te),Je=R&&O(R.y),Qe=R&&O(We)||Boolean(he.fixed),Ze=Qe&&Te.some(({fixed:e})=>e),$e=e.useRef(null),{isSticky:et,offsetHeader:tt,offsetSummary:nt,offsetScroll:ot,stickyClassName:lt,container:rt}=function(t,n){const{offsetHeader:o=0,offsetSummary:l=0,offsetScroll:r=0,getContainer:c=()=>pe}="object"==typeof t?t:{},s=c()||pe,a=!!t;return e.useMemo(()=>({isSticky:a,stickyClassName:a?"".concat(n,"-sticky-holder"):"",offsetHeader:o,offsetSummary:l,offsetScroll:r,container:s}),[a,r,o,l,n,s])}(Z,u),ct=e.useMemo(()=>null==H?void 0:H(te),[H,te]),st=(Je||et)&&e.isValidElement(ct)&&ct.type===B&&ct.props.fixed;let at,it,dt;Je&&(it={overflowY:oe?"scroll":"auto",maxHeight:R.y}),Qe&&(at={overflowX:"auto"},Je||(it={overflowY:"hidden"}),dt={width:!0===We?"auto":We,minWidth:"100%"});const ut=e.useCallback((e,t)=>{Ue(n=>{if(n.get(e)!==t){const o=new Map(n);return o.set(e,t),o}return n})},[]),[ft,pt]=function(){const t=e.useRef(null),n=e.useRef(null);function o(){clearTimeout(n.current)}return e.useEffect(()=>o,[]),[function(e){t.current=e,o(),n.current=setTimeout(()=>{t.current=null,n.current=void 0},100)},function(){return t.current}]}();function mt(e,t){t&&("function"==typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout(()=>{t.scrollLeft=e},0)))}const[xt,ht]=e.useState([0,0]),yt=s(({currentTarget:e,scrollLeft:t})=>{var n;const o="number"==typeof t?t:e.scrollLeft,l=e||Re;pt()&&pt()!==l||(ft(l),mt(o,ze.current),mt(o,Pe.current),mt(o,_e.current),mt(o,null==(n=$e.current)?void 0:n.setScrollLeft));const c=e||ze.current;if(c){const e=re&&J&&"number"==typeof We?We:c.scrollWidth,t=c.clientWidth,n=Math.abs(o);if(ht(o=>{const l=[n,e-t];return r(o,l)?o:l}),e===t)return Fe(!1),void Ve(!1);Fe(n>0),Ve(n<e-t-1)}}),wt=s(e=>{yt(e),null==D||D(e)}),vt=()=>{var e;Qe&&Pe.current?yt({currentTarget:p(Pe.current),scrollLeft:null==(e=Pe.current)?void 0:e.scrollLeft}):(Fe(!1),Ve(!1))},Ct=e=>{var t,n,o;null==(t=$e.current)||t.checkScrollBarVisible();let l=null!=(o=null!=e?e:null==(n=Ke.current)?void 0:n.offsetWidth)?o:0;re&&Q&&Ke.current&&(l=Q(Ke.current,l)||l),l!==Oe&&(vt(),Le(l))};a(()=>{Qe&&Ct()},[Qe]);const Et=e.useRef(!1);e.useEffect(()=>{Et.current&&vt()},[Qe,g,Me.length]),e.useEffect(()=>{Et.current=!0},[]);const[bt,gt]=e.useState(0);a(()=>{J&&re||(Pe.current instanceof Element?gt(h(Pe.current).width):gt(h(Be.current).width))},[]),e.useEffect(()=>{re&&q&&(q.body.current=Pe.current)});const St=e.useCallback(t=>e.createElement(e.Fragment,null,e.createElement(se,t),"top"===st&&e.createElement(_,t,ct)),[st,ct]),Rt=e.useCallback(t=>e.createElement(_,t,ct),[ct]),Nt=ce(["table"],"table"),kt=e.useMemo(()=>k||(Ze?"max-content"===We?"auto":"fixed":Je||et||Te.some(({ellipsis:e})=>e)?"fixed":"auto"),[Je,Ze,Te,k,et]);let It;const Ot={colWidths:Ge,columCount:Te.length,stickyOffsets:qe,onHeaderRow:X,fixHeader:Je,scroll:R},Lt=e.useMemo(()=>oe?null:"function"==typeof A?A():A,[oe,A]),Mt=e.createElement($,{data:te,measureColumnWidth:Je||Qe||et}),Tt=e.createElement(ne,{colWidths:Te.map(({width:e})=>e),columns:Te}),Ht=null!=W?e.createElement("caption",{className:"".concat(u,"-caption")},W):void 0,Wt=y(d,{data:!0}),jt=y(d,{aria:!0});if(Je||et){let t;"function"==typeof ie?(t=ie(te,{scrollbarSize:bt,ref:Pe,onScroll:yt}),Ot.colWidths=Te.map(({width:e},t)=>{const n=t===Te.length-1?e-bt:e;return"number"!=typeof n||Number.isNaN(n)?0:n})):t=e.createElement("div",{style:{...at,...it},onScroll:wt,ref:Pe,className:"".concat(u,"-body")},e.createElement(Nt,be({style:{...dt,tableLayout:kt}},jt),Ht,Tt,Mt,!st&&ct&&e.createElement(_,{stickyOffsets:qe,flattenColumns:Te},ct)));const n={noData:!te.length,maxContentScroll:Qe&&"max-content"===We,...Ot,...je,direction:L,stickyClassName:lt,scrollX:We,tableLayout:kt,onScroll:yt};It=e.createElement(e.Fragment,null,!1!==z&&e.createElement(le,be({},n,{stickyTopOffset:tt,className:"".concat(u,"-header"),ref:ze,colGroup:Tt}),St),t,st&&"top"!==st&&e.createElement(le,be({},n,{stickyBottomOffset:nt,className:"".concat(u,"-summary"),ref:_e,colGroup:Tt}),Rt),et&&Pe.current&&Pe.current instanceof Element&&e.createElement(Ee,{ref:$e,offsetScroll:ot,scrollBodyRef:Pe,onScroll:yt,container:rt,direction:L}))}else It=e.createElement("div",{style:{...at,...it,...null==E?void 0:E.content},className:w("".concat(u,"-content"),null==C?void 0:C.content),onScroll:yt,ref:Pe},e.createElement(Nt,be({style:{...dt,tableLayout:kt}},jt),Ht,Tt,!1!==z&&e.createElement(se,be({},Ot,je)),Mt,ct&&e.createElement(_,{stickyOffsets:qe,flattenColumns:Te},ct)));const Kt={...x};et&&(Kt["--columns-count"]=Te.length);let zt=e.createElement("div",be({className:w(u,f,{["".concat(u,"-rtl")]:"rtl"===L,["".concat(u,"-fix-start-shadow")]:Qe,["".concat(u,"-fix-end-shadow")]:Qe,["".concat(u,"-fix-start-shadow-show")]:Qe&&Ae,["".concat(u,"-fix-end-shadow-show")]:Qe&&Xe,["".concat(u,"-layout-fixed")]:"fixed"===k,["".concat(u,"-fixed-header")]:Je,["".concat(u,"-fixed-column")]:Ze,["".concat(u,"-scroll-horizontal")]:Qe,["".concat(u,"-has-fix-start")]:null==(o=Te[0])?void 0:o.fixed,["".concat(u,"-has-fix-end")]:"end"===(null==(i=Te[Te.length-1])?void 0:i.fixed)}),style:Kt,id:j,ref:Ke},Wt),M&&e.createElement(me,{className:w("".concat(u,"-title"),null==C?void 0:C.title),style:null==E?void 0:E.title},M(te)),e.createElement("div",{ref:Be,className:w("".concat(u,"-container"),null==C?void 0:C.section),style:null==E?void 0:E.section},It),T&&e.createElement(me,{className:w("".concat(u,"-footer"),null==C?void 0:C.footer),style:null==E?void 0:E.footer},T(te)));Qe&&(zt=e.createElement(v,{onResize:({offsetWidth:e})=>Ct(e)},zt));const Pt=function(t,n){const o=e.useMemo(()=>t.map((e,o)=>K(o,o,t,n)),[t,n]);return l(()=>o,[o],(e,t)=>!r(e,t))}(Te,qe),Bt=e.useMemo(()=>({scrollX:We,scrollInfo:xt,classNames:C,styles:E,prefixCls:u,getComponent:ce,scrollbarSize:bt,direction:L,fixedInfoList:Pt,isSticky:et,componentWidth:Oe,fixHeader:Je,fixColumn:Ze,horizonScroll:Qe,tableLayout:kt,rowClassName:m,expandedRowClassName:he.expandedRowClassName,expandIcon:ve,expandableType:ye,expandRowByClick:he.expandRowByClick,expandedRowRender:he.expandedRowRender,expandedRowOffset:he.expandedRowOffset,onTriggerExpand:ke,expandIconColumnIndex:he.expandIconColumnIndex,indentSize:he.indentSize,allColumnsFixedLeft:Te.every(e=>"start"===e.fixed),emptyNode:Lt,columns:Me,flattenColumns:Te,onColumnResize:ut,colWidths:Ge,hoverStartRow:de,hoverEndRow:ue,onHover:xe,rowExpandable:he.rowExpandable,onRow:F,getRowKey:ae,expandedKeys:we,childrenColumnName:Ce,rowHoverable:ee,measureRowRender:V}),[We,xt,C,E,u,ce,bt,L,Pt,et,Oe,Je,Ze,Qe,kt,m,he.expandedRowClassName,ve,ye,he.expandRowByClick,he.expandedRowRender,he.expandedRowOffset,ke,he.expandIconColumnIndex,he.indentSize,Lt,Me,Te,ut,Ge,de,ue,xe,he.rowExpandable,F,ae,we,Ce,ee,V]);return e.createElement(N.Provider,{value:Bt},zt)},Ie=e.forwardRef(ke),Oe=e=>g(Ie,e),Le=Oe();Le.EXPAND_COLUMN=E,Le.INTERNAL_HOOKS=b,Le.Column=function(e){return null},Le.ColumnGroup=function(e){return null},Le.Summary=A;const Me=n(null),Te=n(null);function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},He.apply(this,arguments)}const We=t=>{const{rowInfo:n,column:l,colIndex:r,indent:c,index:s,component:a,renderIndex:i,record:d,style:u,className:f,inverse:p,getHeight:m}=t,{render:x,dataIndex:h,className:y,width:v}=l,{columnsOffset:C}=o(Te,["columnsOffset"]),{key:E,fixedInfo:b,appendCellNode:g,additionalCellProps:S}=q(n,l,r,c,s),{style:R,colSpan:N=1,rowSpan:k=1}=S,I=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(r-1,N,C),O=N>1?v-I:0,L={...R,...u,flex:"0 0 ".concat(I,"px"),width:"".concat(I,"px"),marginRight:O,pointerEvents:"auto"},M=e.useMemo(()=>p?k<=1:0===N||0===k||k>1,[k,N,p]);M?L.visibility="hidden":p&&(L.height=null==m?void 0:m(k));const T=M?()=>null:x,W={};return 0!==k&&0!==N||(W.rowSpan=1,W.colSpan=1),e.createElement(H,He({className:w(y,f),ellipsis:l.ellipsis,align:l.align,scope:l.rowScope,component:a,prefixCls:n.prefixCls,key:E,record:d,index:s,renderIndex:i,dataIndex:h,render:T,shouldCellUpdate:l.shouldCellUpdate},b,{appendNode:g,additionalProps:{...S,style:L,...W}}))};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},je.apply(this,arguments)}const Ke=S(e.forwardRef((t,n)=>{const{data:l,index:r,className:c,rowKey:s,style:a,extra:i,getHeight:d,...u}=t,{record:f,indent:p,index:m}=l,{scrollX:x,flattenColumns:h,prefixCls:y,fixColumn:v,componentWidth:C}=o(N,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),{getComponent:E}=o(Me,["getComponent"]),b=V(f,s,r,p),g=E(["body","row"],"div"),S=E(["body","cell"],"div"),{rowSupportExpand:R,expanded:k,rowProps:I,expandedRowRender:O,expandedRowClassName:L}=b;let M;if(R&&k){const t=O(f,r,p+1,k),n=Y(L,f,r,p);let o={};v&&(o={style:{"--virtual-width":"".concat(C,"px")}});const l="".concat(y,"-expanded-row-cell");M=e.createElement(g,{className:w("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(p+1),n)},e.createElement(H,{component:S,prefixCls:y,className:w(l,{["".concat(l,"-fixed")]:v}),additionalProps:o},t))}const T={...a,width:x};i&&(T.position="absolute",T.pointerEvents="none");const W=e.createElement(g,je({},I,u,{"data-row-key":s,ref:R?null:n,className:w(c,"".concat(y,"-row"),null==I?void 0:I.className,{["".concat(y,"-row-extra")]:i}),style:{...T,...null==I?void 0:I.style}}),h.map((t,n)=>e.createElement(We,{key:n,component:S,rowInfo:b,column:t,colIndex:n,indent:p,index:r,renderIndex:m,record:f,inverse:i,getHeight:d})));return R?e.createElement("div",{ref:n},W,M):W})),ze=S(e.forwardRef((t,n)=>{const{data:l,onScroll:r}=t,{flattenColumns:c,onColumnResize:s,getRowKey:a,expandedKeys:i,prefixCls:d,childrenColumnName:u,scrollX:f,direction:p}=o(N,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),{sticky:m,scrollY:x,listItemHeight:h,getComponent:y,onScroll:w}=o(Me),v=e.useRef(null),E=X(l,u,i,a),b=e.useMemo(()=>{let e=0;return c.map(({width:t,minWidth:n,key:o})=>{const l=Math.max(t||0,n||0);return e+=l,[o,l,e]})},[c]),g=e.useMemo(()=>b.map(e=>e[2]),[b]);e.useEffect(()=>{b.forEach(([e,t])=>{s(e,t)})},[b]),e.useImperativeHandle(n,()=>{var e;const t={scrollTo:e=>{var t,n;const{offset:o,...l}=e;o?null==(t=v.current)||t.scrollTo({...l,offset:o,align:"top"}):null==(n=v.current)||n.scrollTo(e)},nativeElement:null==(e=v.current)?void 0:e.nativeElement};return Object.defineProperty(t,"scrollLeft",{get:()=>{var e;return(null==(e=v.current)?void 0:e.getScrollInfo().x)||0},set:e=>{var t;null==(t=v.current)||t.scrollTo({left:e})}}),Object.defineProperty(t,"scrollTop",{get:()=>{var e;return(null==(e=v.current)?void 0:e.getScrollInfo().y)||0},set:e=>{var t;null==(t=v.current)||t.scrollTo({top:e})}}),t});const S=(e,t)=>{var n,o;const l=null==(n=E[t])?void 0:n.record,{onCell:r}=e;if(r){const e=r(l,t);return null!=(o=null==e?void 0:e.rowSpan)?o:1}return 1},R=e.useMemo(()=>({columnsOffset:g}),[g]),k="".concat(d,"-tbody"),I=y(["body","wrapper"]),O={};return m&&(O.position="sticky",O.bottom=0,"object"==typeof m&&m.offsetScroll&&(O.bottom=m.offsetScroll)),e.createElement(Te.Provider,{value:R},e.createElement(C,{fullHeight:!1,ref:v,prefixCls:"".concat(k,"-virtual"),styles:{horizontalScrollBar:O},className:k,height:x,itemHeight:h||24,data:E,itemKey:e=>a(e.record),component:I,scrollWidth:f,direction:p,onVirtualScroll:({x:e})=>{var t;r({currentTarget:null==(t=v.current)?void 0:t.nativeElement,scrollLeft:e})},onScroll:w,extraRender:t=>{const{start:n,end:o,getSize:l,offsetY:r}=t;if(o<0)return null;let s=c.filter(e=>0===S(e,n)),i=n;for(let e=n;e>=0;e-=1)if(s=s.filter(t=>0===S(t,e)),!s.length){i=e;break}let d=c.filter(e=>1!==S(e,o)),u=o;for(let e=o;e<E.length;e+=1)if(d=d.filter(t=>1!==S(t,e)),!d.length){u=Math.max(e-1,o);break}const f=[];for(let e=i;e<=u;e+=1){E[e]&&(c.some(t=>S(t,e)>1)&&f.push(e))}return f.map(t=>{const n=E[t],o=a(n.record,t),c=l(o);return e.createElement(Ke,{key:t,data:n,rowKey:o,index:t,style:{top:-r+c.top},extra:!0,getHeight:e=>{const n=t+e-1,r=a(E[n].record,n),c=l(o,r);return c.bottom-c.top}})})}},(t,n,o)=>{const l=a(t.record,n);return e.createElement(Ke,{data:t,rowKey:l,index:n,style:o.style})}))}));function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pe.apply(this,arguments)}const Be=(t,n)=>{const{ref:o,onScroll:l}=n;return e.createElement(ze,{ref:o,data:t,onScroll:l})},_e=(t,n)=>{const{data:o,columns:l,scroll:r,sticky:a,prefixCls:i=ge,className:d,listItemHeight:u,components:f,onScroll:p}=t;let{x:m,y:x}=r||{};"number"!=typeof m&&(m=1),"number"!=typeof x&&(x=500);const h=s((e,t)=>c(f,e)||t),y=s(p),v=e.useMemo(()=>({sticky:a,scrollY:x,listItemHeight:u,getComponent:h,onScroll:y}),[a,x,u,h,y]);return e.createElement(Me.Provider,{value:v},e.createElement(Le,Pe({},t,{className:w(d,"".concat(i,"-virtual")),scroll:{...r,x:m},components:{...f,body:(null==o?void 0:o.length)?Be:void 0},columns:l,internalHooks:b,tailor:!0,ref:n})))},Ae=e.forwardRef(_e),Fe=e=>g(Ae,e);Fe();export{E,A as F,ee as I,Fe as a,b,ie as c,Oe as g};
