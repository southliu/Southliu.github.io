import{r as e,j as l}from"./react@19.2.3.D3o_8b5j.js";import{h as a,b as s,g as t,f as i,a as n}from"./helper.Ckyn93_d.js";import"./BaseTimeRangePicker.QkwHdtiu.js";import{a as r}from"./index.BYqucvOQ.js";import{u as o}from"./react-i18next@16.5.1_i18nex_e0732ae603aefaca3ccb08379955d50d.CFoO-yg_.js";import{F as c,B as d,h as m,c as p}from"./antd@6.1.3_react-dom@19.2.3_react@19.2.3__react@19.2.3.B59SJbiP.js";import{h,E as u,i as x}from"./@ant-design_icons@6.1.0_rea_578d967b89ca52aedd84b4dfb2c6cf72.CojizEej.js";const f=f=>{var j;const{ref:b,list:v,data:g,initialValues:w,searchForm:y,isLoading:C,isSearch:N=!0,isReset:F=!0,isRowExpand:_=!0,type:k="default",style:E,className:R,children:P,labelCol:S,wrapperCol:W,defaultColCount:B=4,defaultRowExpand:V=2,handleFinish:I}=f,{t:L}=o(),{isPhone:T}=r();let[z]=c.useForm();const[D,M]=e.useState(!1),[O,q]=e.useState(!0);y&&(z=y);const A=e.useMemo(()=>{if(!_)return!1;return B*V<v.length},[B,V,_,v.length]);e.useEffect(()=>{try{Object.keys(g).length&&O&&(q(!1),z.setFieldsValue({...g}))}catch(e){}},[g,z,O]);const G={...f};delete G.type,delete G.isSearch,delete G.isReset,delete G.isLoading,delete G.handleFinish;const H=e=>(null==e?void 0:e.labelWidth)?{style:{width:e.labelWidth}}:(null==e?void 0:e.labelCol)?e.labelCol:S||("grid"!==k||T?void 0:{span:6}),J=e=>(null==e?void 0:e.wrapperWidth)?{style:{width:e.wrapperWidth}}:(null==e?void 0:e.wrapperCol)?e.wrapperCol:W||("grid"!==k||T?void 0:{span:18}),K=l.jsxs("div",{className:"flex flex-wrap gap-10px",children:[!!N&&l.jsx(d,{type:"primary",htmlType:"submit",className:"!mb-5px ".concat(T?"mr-5px":""),loading:C,icon:l.jsx(h,{}),children:L("public.search")}),!!F&&l.jsx(d,{className:"!mb-5px ".concat(T?"mr-5px":""),icon:l.jsx(u,{}),onClick:()=>{null==z||z.resetFields(),null==z||z.setFieldsValue(w?{...w}:{}),null==z||z.submit()},children:L("public.reset")}),P&&l.jsx("div",{className:"!mb-5px ".concat(T?"mr-5px":""),children:P}),"grid"===k&&!!A&&l.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff mt-8px",onClick:()=>{M(!D)},children:[l.jsx(x,{rotate:D?180:0}),D?"收缩":"展开"]})]});return l.jsx("div",{id:"searches",style:E,className:R,children:l.jsxs(c,{layout:T?"horizontal":"inline",...G,ref:b,form:z,onFinish:e=>{if(I){let l=i(e,v);l=n(l),null==I||I(l)}},onFinishFailed:e=>{},autoComplete:"off",children:["default"===k&&l.jsxs(l.Fragment,{children:[null==v?void 0:v.map(l=>e.createElement(c.Item,{...s(l),key:"".concat(l.name),className:"".concat((null==l?void 0:l.className)||""," !mb-5px"),labelCol:H(l),wrapperCol:J(l),valuePropName:a(l.component)},t(L,l,z))),K]}),"grid"===k&&l.jsxs(m,{wrap:!0,className:"w-full",children:[null==(j=(e=>{if(!A)return e;const l=B*V;for(let a=0;a<e.length;a++){const s=e[a];a<l?s.hidden=!1:s.hidden=!D}return e})(v))?void 0:j.map(e=>l.jsx("div",{style:{width:e.hidden?0:"".concat(100/(T?1:B),"%")},children:l.jsx(c.Item,{...s(e),className:"".concat((null==e?void 0:e.className)||""," !mb-5px"),labelCol:H(e),wrapperCol:J(e),valuePropName:a(e.component),children:t(L,e,z)})},"".concat(e.name))),l.jsx(p,{flex:(null==v?void 0:v.length)%B===0||A?"auto":void 0,children:l.jsx(m,{justify:"flex-end",children:K})})]})]})})};export{f as B};
