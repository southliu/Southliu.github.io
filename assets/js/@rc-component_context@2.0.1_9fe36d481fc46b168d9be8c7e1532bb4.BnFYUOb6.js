import{h as e,e as t,i as r,s as n}from"./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304.BwjZ45jd.js";import{r as u}from"./react@19.2.3.DikTGMTS.js";import{r as a}from"./react-dom@19.2.3_react@19.2.3.CfFRTaoX.js";function o(t){const r=u.createContext(void 0);return{Context:r,Provider:({value:t,children:n})=>{const o=u.useRef(t);o.current=t;const[c]=u.useState(()=>({getValue:()=>o.current,listeners:new Set}));return e(()=>{a.unstable_batchedUpdates(()=>{c.listeners.forEach(e=>{e(t)})})},[t]),u.createElement(r.Provider,{value:c},n)},defaultValue:t}}function c(n,a){const o=t("function"==typeof a?a:e=>{if(void 0===a)return e;if(!Array.isArray(a))return e[a];const t={};return a.forEach(r=>{t[r]=e[r]}),t}),c=u.useContext(null==n?void 0:n.Context),{listeners:s,getValue:l}=c||{},f=u.useRef();f.current=o(c?l():null==n?void 0:n.defaultValue);const[,i]=u.useState({});return e(()=>{if(c)return s.add(e),()=>{s.delete(e)};function e(e){const t=o(e);r(f.current,t,!0)||i({})}},[c]),f.current}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function l(){const e=u.createContext(null);function t(){return u.useContext(e)}return{makeImmutable:function(r,a){const o=n(r),c=(n,c)=>{const l=o?{ref:c}:{},f=u.useRef(0),i=u.useRef(n);return null!==t()?u.createElement(r,s({},n,l)):(a&&!a(i.current,n)||(f.current+=1),i.current=n,u.createElement(e.Provider,{value:f.current},u.createElement(r,s({},n,l))))};return o?u.forwardRef(c):c},responseImmutable:function(e,r){const a=n(e),o=(r,n)=>{const o=a?{ref:n}:{};return t(),u.createElement(e,s({},r,o))};return u.memo(a?u.forwardRef(o):o,r)},useImmutableMark:t}}export{o as a,l as c,c as u};
