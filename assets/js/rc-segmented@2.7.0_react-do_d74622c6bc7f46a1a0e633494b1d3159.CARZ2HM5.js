import{h as t,g as e,i as n,k as a,d as o,f as i}from"./@babel_runtime@7.28.4.Bon8fWH5.js";import{c as r}from"./classnames@2.5.1.Cs1ETqqi.js";import{a as l,l as u,f as c,B as s}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.D28gyqkz.js";import{r as d}from"./react@19.1.1.DAMsdXqD.js";import{C as m}from"./rc-motion@2.9.5_react-dom@19.1.1_react@19.1.1__react@19.1.1.ewexviDm.js";var v=function(t,e){if(!t)return null;var n={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return e?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(t){return void 0!==t?"".concat(t,"px"):void 0};function h(n){var a=n.prefixCls,o=n.containerRef,i=n.value,c=n.getValueIndex,s=n.motionName,h=n.onMotionStart,b=n.onMotionEnd,p=n.direction,g=n.vertical,w=void 0!==g&&g,N=d.useRef(null),x=d.useState(i),y=t(x,2),C=y[0],E=y[1],S=function(t){var e,n=c(t),i=null===(e=o.current)||void 0===e?void 0:e.querySelectorAll(".".concat(a,"-item"))[n];return(null==i?void 0:i.offsetParent)&&i},M=d.useState(null),A=t(M,2),_=A[0],k=A[1],j=d.useState(null),D=t(j,2),I=D[0],K=D[1];l(function(){if(C!==i){var t=S(C),e=S(i),n=v(t,w),a=v(e,w);E(i),k(n),K(a),t&&e?h():b()}},[i]);var R=d.useMemo(function(){var t;return f(w?null!==(t=null==_?void 0:_.top)&&void 0!==t?t:0:"rtl"===p?-(null==_?void 0:_.right):null==_?void 0:_.left)},[w,p,_]),V=d.useMemo(function(){var t;return f(w?null!==(t=null==I?void 0:I.top)&&void 0!==t?t:0:"rtl"===p?-(null==I?void 0:I.right):null==I?void 0:I.left)},[w,p,I]);return _&&I?d.createElement(m,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:function(){return w?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return w?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){k(null),K(null),b()}},function(t,n){var o=t.className,i=t.style,l=e(e({},i),{},{"--thumb-start-left":R,"--thumb-start-width":f(null==_?void 0:_.width),"--thumb-active-left":V,"--thumb-active-width":f(null==I?void 0:I.width),"--thumb-start-top":R,"--thumb-start-height":f(null==_?void 0:_.height),"--thumb-active-top":V,"--thumb-active-height":f(null==I?void 0:I.height)}),c={ref:u(N,n),style:l,className:r("".concat(a,"-thumb"),o)};return d.createElement("div",c)}):null}var b=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function p(t){return t.map(function(t){if("object"===i(t)&&null!==t){var n=function(t){return void 0!==t.title?t.title:"object"!==i(t.label)?null===(e=t.label)||void 0===e?void 0:e.toString():void 0;var e}(t);return e(e({},t),{},{title:n})}return{label:null==t?void 0:t.toString(),title:null==t?void 0:t.toString(),value:t}})}var g=function(t){var e=t.prefixCls,n=t.className,a=t.disabled,i=t.checked,l=t.label,u=t.title,c=t.value,s=t.name,m=t.onChange,v=t.onFocus,f=t.onBlur,h=t.onKeyDown,b=t.onKeyUp,p=t.onMouseDown;return d.createElement("label",{className:r(n,o({},"".concat(e,"-item-disabled"),a)),onMouseDown:p},d.createElement("input",{name:s,className:"".concat(e,"-item-input"),type:"radio",disabled:a,checked:i,onChange:function(t){a||m(t,c)},onFocus:v,onBlur:f,onKeyDown:h,onKeyUp:b}),d.createElement("div",{className:"".concat(e,"-item-label"),title:u,"aria-selected":i},l))},w=d.forwardRef(function(e,i){var l,m,v=e.prefixCls,f=void 0===v?"rc-segmented":v,w=e.direction,N=e.vertical,x=e.options,y=void 0===x?[]:x,C=e.disabled,E=e.defaultValue,S=e.value,M=e.name,A=e.onChange,_=e.className,k=void 0===_?"":_,j=e.motionName,D=void 0===j?"thumb-motion":j,I=n(e,b),K=d.useRef(null),R=d.useMemo(function(){return u(K,i)},[K,i]),V=d.useMemo(function(){return p(y)},[y]),B=c(null===(l=V[0])||void 0===l?void 0:l.value,{value:S,defaultValue:E}),T=t(B,2),U=T[0],F=T[1],H=d.useState(!1),L=t(H,2),W=L[0],X=L[1],Y=function(t,e){F(e),null==A||A(e)},q=s(I,["children"]),P=d.useState(!1),z=t(P,2),G=z[0],J=z[1],O=d.useState(!1),Q=t(O,2),Z=Q[0],$=Q[1],tt=function(){$(!0)},et=function(){$(!1)},nt=function(){J(!1)},at=function(t){"Tab"===t.key&&J(!0)},ot=function(t){var e=V.findIndex(function(t){return t.value===U}),n=V.length,a=V[(e+t+n)%n];a&&(F(a.value),null==A||A(a.value))},it=function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":ot(-1);break;case"ArrowRight":case"ArrowDown":ot(1)}};return d.createElement("div",a({role:"radiogroup","aria-label":"segmented control",tabIndex:C?void 0:0},q,{className:r(f,(m={},o(m,"".concat(f,"-rtl"),"rtl"===w),o(m,"".concat(f,"-disabled"),C),o(m,"".concat(f,"-vertical"),N),m),k),ref:R}),d.createElement("div",{className:"".concat(f,"-group")},d.createElement(h,{vertical:N,prefixCls:f,value:U,containerRef:K,motionName:"".concat(f,"-").concat(D),direction:w,getValueIndex:function(t){return V.findIndex(function(e){return e.value===t})},onMotionStart:function(){X(!0)},onMotionEnd:function(){X(!1)}}),V.map(function(t){var e;return d.createElement(g,a({},t,{name:M,key:t.value,prefixCls:f,className:r(t.className,"".concat(f,"-item"),(e={},o(e,"".concat(f,"-item-selected"),t.value===U&&!W),o(e,"".concat(f,"-item-focused"),Z&&G&&t.value===U),e)),checked:t.value===U,onChange:Y,onFocus:tt,onBlur:et,onKeyDown:it,onKeyUp:at,onMouseDown:nt,disabled:!!C||!!t.disabled}))})))});export{w as T};
