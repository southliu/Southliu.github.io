import{k as e,h as t,g as n,j as o,i as r}from"./@babel_runtime@7.28.2.ESkOsrAB.js";import{P as i}from"./@rc-component_portal@1.1.2__8aa033335f6bdcfb032385b1cecccec1.D3hlDWeL.js";import{c as a}from"./classnames@2.5.1.D0YHNMe_.js";import{R as l}from"./rc-resize-observer@1.4.3_re_83d0d5e9c67ffebc59212995af3a6882.CY0Jp_Qm.js";import{a as u,j as s,s as c,k as f,h as p,l as v,e as d,m,n as h,g,o as y,p as b}from"./rc-util@5.44.4_react-dom@19.1.0_react@19.1.0__react@19.1.0.cDkafaIC.js";import{r as x}from"./react@19.1.0.Bf1nU3Xp.js";import{C as w}from"./rc-motion@2.9.5_react-dom@19.1.0_react@19.1.0__react@19.1.0.Dtmeacfz.js";function E(e){var t=e.prefixCls,n=e.align,o=e.arrow,r=e.arrowPos,i=o||{},l=i.className,u=i.content,s=r.x,c=void 0===s?0:s,f=r.y,p=void 0===f?0:f,v=x.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],h=n.points[1],g=m[0],y=m[1],b=h[0],w=h[1];g!==b&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=p,y!==w&&["l","r"].includes(y)?"l"===y?d.left=0:d.right=0:d.left=c}return x.createElement("div",{ref:v,className:a("".concat(t,"-arrow"),l),style:d},u)}function C(t){var n=t.prefixCls,o=t.open,r=t.zIndex,i=t.mask,l=t.motion;return i?x.createElement(w,e({},l,{motionAppear:!0,visible:o,removeOnLeave:!0}),function(e){var t=e.className;return x.createElement("div",{style:{zIndex:r},className:a("".concat(n,"-mask"),t)})}):null}var M=x.memo(function(e){return e.children},function(e,t){return t.cache}),P=x.forwardRef(function(o,r){var i=o.popup,c=o.className,f=o.prefixCls,p=o.style,v=o.target,d=o.onVisibleChanged,m=o.open,h=o.keepDom,g=o.fresh,y=o.onClick,b=o.mask,P=o.arrow,k=o.arrowPos,R=o.align,N=o.motion,L=o.maskMotion,A=o.forceRender,D=o.getPopupContainer,S=o.autoDestroy,T=o.portal,B=o.zIndex,H=o.onMouseEnter,X=o.onMouseLeave,Y=o.onPointerEnter,_=o.onPointerDownCapture,j=o.ready,z=o.offsetX,V=o.offsetY,W=o.offsetR,F=o.offsetB,O=o.onAlign,I=o.onPrepare,J=o.stretch,$=o.targetWidth,q=o.targetHeight,G="function"==typeof i?i():i,K=m||h,Q=(null==D?void 0:D.length)>0,U=x.useState(!D||!Q),Z=t(U,2),ee=Z[0],te=Z[1];if(u(function(){!ee&&Q&&v&&te(!0)},[ee,Q,v]),!ee)return null;var ne="auto",oe={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if(j||!m){var re,ie=R.points,ae=R.dynamicInset||(null===(re=R._experimental)||void 0===re?void 0:re.dynamicInset),le=ae&&"r"===ie[0][1],ue=ae&&"b"===ie[0][0];le?(oe.right=W,oe.left=ne):(oe.left=z,oe.right=ne),ue?(oe.bottom=F,oe.top=ne):(oe.top=V,oe.bottom=ne)}var se={};return J&&(J.includes("height")&&q?se.height=q:J.includes("minHeight")&&q&&(se.minHeight=q),J.includes("width")&&$?se.width=$:J.includes("minWidth")&&$&&(se.minWidth=$)),m||(se.pointerEvents="none"),x.createElement(T,{open:A||K,getContainer:D&&function(){return D(v)},autoDestroy:S},x.createElement(C,{prefixCls:f,open:m,zIndex:B,mask:b,motion:L}),x.createElement(l,{onResize:O,disabled:!m},function(t){return x.createElement(w,e({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:A,leavedClassName:"".concat(f,"-hidden")},N,{onAppearPrepare:I,onEnterPrepare:I,visible:m,onVisibleChanged:function(e){var t;null==N||null===(t=N.onVisibleChanged)||void 0===t||t.call(N,e),d(e)}}),function(e,o){var i=e.className,l=e.style,u=a(f,i,c);return x.createElement("div",{ref:s(t,r,o),className:u,style:n(n(n(n({"--arrow-x":"".concat(k.x||0,"px"),"--arrow-y":"".concat(k.y||0,"px")},oe),se),l),{},{boxSizing:"border-box",zIndex:B},p),onMouseEnter:H,onMouseLeave:X,onPointerEnter:Y,onClick:y,onPointerDownCapture:_},P&&x.createElement(E,{prefixCls:f,arrow:P,arrowPos:k,align:R}),x.createElement(M,{cache:!m&&!g},G))})}))}),k=x.forwardRef(function(e,t){var n=e.children,o=e.getTriggerDOMNode,r=c(n),i=x.useCallback(function(e){f(t,o?o(e):e)},[o]),a=p(i,v(n));return r?x.cloneElement(n,{ref:a}):n}),R=x.createContext(null);function N(e){return e?Array.isArray(e)?e:[e]:[]}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function A(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function D(e){return e.ownerDocument.defaultView}function S(e){for(var t=[],n=null==e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var r=D(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some(function(e){return o.includes(e)})&&t.push(n),n=n.parentElement}return t}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function B(e){return T(parseFloat(e),0)}function H(e,t){var o=n({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=D(e).getComputedStyle(e),n=t.overflow,r=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,l=t.borderLeftWidth,u=t.borderRightWidth,s=e.getBoundingClientRect(),c=e.offsetHeight,f=e.clientHeight,p=e.offsetWidth,v=e.clientWidth,d=B(i),m=B(a),h=B(l),g=B(u),y=T(Math.round(s.width/p*1e3)/1e3),b=T(Math.round(s.height/c*1e3)/1e3),x=(p-v-h-g)*y,w=(c-f-d-m)*b,E=d*b,C=m*b,M=h*y,P=g*y,k=0,R=0;if("clip"===n){var N=B(r);k=N*y,R=N*b}var L=s.x+M-k,A=s.y+E-R,S=L+s.width+2*k-M-P-x,H=A+s.height+2*R-E-C-w;o.left=Math.max(o.left,L),o.top=Math.max(o.top,A),o.right=Math.min(o.right,S),o.bottom=Math.min(o.bottom,H)}}),o}function X(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Y(e,n){var o=t(n||[],2),r=o[0],i=o[1];return[X(e.width,r),X(e.height,i)]}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function j(e,t){var n,o=t[0],r=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function z(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,o){return o===t?n[e]||"c":e}).join("")}var V=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return x.forwardRef(function(i,s){var c=i.prefixCls,f=void 0===c?"rc-trigger-popup":c,p=i.children,v=i.action,w=void 0===v?"hover":v,E=i.showAction,C=i.hideAction,M=i.popupVisible,B=i.defaultPopupVisible,X=i.onPopupVisibleChange,W=i.afterPopupVisibleChange,F=i.mouseEnterDelay,O=i.mouseLeaveDelay,I=void 0===O?.1:O,J=i.focusDelay,$=i.blurDelay,q=i.mask,G=i.maskClosable,K=void 0===G||G,Q=i.getPopupContainer,U=i.forceRender,Z=i.autoDestroy,ee=i.destroyPopupOnHide,te=i.popup,ne=i.popupClassName,oe=i.popupStyle,re=i.popupPlacement,ie=i.builtinPlacements,ae=void 0===ie?{}:ie,le=i.popupAlign,ue=i.zIndex,se=i.stretch,ce=i.getPopupClassNameFromAlign,fe=i.fresh,pe=i.alignPoint,ve=i.onPopupClick,de=i.onPopupAlign,me=i.arrow,he=i.popupMotion,ge=i.maskMotion,ye=i.popupTransitionName,be=i.popupAnimation,xe=i.maskTransitionName,we=i.maskAnimation,Ee=i.className,Ce=i.getTriggerDOMNode,Me=r(i,V),Pe=Z||ee||!1,ke=x.useState(!1),Re=t(ke,2),Ne=Re[0],Le=Re[1];u(function(){Le(y())},[]);var Ae=x.useRef({}),De=x.useContext(R),Se=x.useMemo(function(){return{registerSubPopup:function(e,t){Ae.current[e]=t,null==De||De.registerSubPopup(e,t)}}},[De]),Te=b(),Be=x.useState(null),He=t(Be,2),Xe=He[0],Ye=He[1],_e=x.useRef(null),je=d(function(e){_e.current=e,m(e)&&Xe!==e&&Ye(e),null==De||De.registerSubPopup(Te,e)}),ze=x.useState(null),Ve=t(ze,2),We=Ve[0],Fe=Ve[1],Oe=x.useRef(null),Ie=d(function(e){m(e)&&We!==e&&(Fe(e),Oe.current=e)}),Je=x.Children.only(p),$e=(null==Je?void 0:Je.props)||{},qe={},Ge=d(function(e){var t,n,o=We;return(null==o?void 0:o.contains(e))||(null===(t=g(o))||void 0===t?void 0:t.host)===e||e===o||(null==Xe?void 0:Xe.contains(e))||(null===(n=g(Xe))||void 0===n?void 0:n.host)===e||e===Xe||Object.values(Ae.current).some(function(t){return(null==t?void 0:t.contains(e))||e===t})}),Ke=A(f,he,be,ye),Qe=A(f,ge,we,xe),Ue=x.useState(B||!1),Ze=t(Ue,2),et=Ze[0],tt=Ze[1],nt=null!=M?M:et,ot=d(function(e){void 0===M&&tt(e)});u(function(){tt(M||!1)},[M]);var rt=x.useRef(nt);rt.current=nt;var it=x.useRef([]);it.current=[];var at=d(function(e){var t;ot(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:nt)!==e&&(it.current.push(e),null==X||X(e))}),lt=x.useRef(),ut=function(){clearTimeout(lt.current)},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ut(),0===t?at(e):lt.current=setTimeout(function(){at(e)},1e3*t)};x.useEffect(function(){return ut},[]);var ct=x.useState(!1),ft=t(ct,2),pt=ft[0],vt=ft[1];u(function(e){e&&!nt||vt(!0)},[nt]);var dt=x.useState(null),mt=t(dt,2),ht=mt[0],gt=mt[1],yt=x.useState(null),bt=t(yt,2),xt=bt[0],wt=bt[1],Et=function(e){wt([e.clientX,e.clientY])},Ct=function(e,o,r,i,a,l,s){var c=x.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),f=t(c,2),p=f[0],v=f[1],g=x.useRef(0),y=x.useMemo(function(){return o?S(o):[]},[o]),b=x.useRef({});e||(b.current={});var w=d(function(){if(o&&r&&e){let e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se,o=X.x+e,r=X.y+t,i=o+U,a=r+Q,l=Math.max(o,n.left),u=Math.max(r,n.top),s=Math.min(i,n.right),c=Math.min(a,n.bottom);return Math.max(0,(s-l)*(c-u))},kt=function(){Me=X.y+Ye,Pe=Me+Q,ke=X.x+Xe,Re=ke+U};var u,c,f,p,d,g=o,x=g.ownerDocument,w=D(g),E=w.getComputedStyle(g).position,C=g.style.left,M=g.style.top,P=g.style.right,k=g.style.bottom,R=g.style.overflow,N=n(n({},a[i]),l),L=x.createElement("div");if(null===(u=g.parentElement)||void 0===u||u.appendChild(L),L.style.left="".concat(g.offsetLeft,"px"),L.style.top="".concat(g.offsetTop,"px"),L.style.position=E,L.style.height="".concat(g.offsetHeight,"px"),L.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden",Array.isArray(r))d={x:r[0],y:r[1],width:0,height:0};else{var A,S,B=r.getBoundingClientRect();B.x=null!==(A=B.x)&&void 0!==A?A:B.left,B.y=null!==(S=B.y)&&void 0!==S?S:B.top,d={x:B.x,y:B.y,width:B.width,height:B.height}}var X=g.getBoundingClientRect(),V=w.getComputedStyle(g),W=V.height,F=V.width;X.x=null!==(c=X.x)&&void 0!==c?c:X.left,X.y=null!==(f=X.y)&&void 0!==f?f:X.top;var O=x.documentElement,I=O.clientWidth,J=O.clientHeight,$=O.scrollWidth,q=O.scrollHeight,G=O.scrollTop,K=O.scrollLeft,Q=X.height,U=X.width,Z=d.height,ee=d.width,te={left:0,top:0,right:I,bottom:J},ne={left:-K,top:-G,right:$-K,bottom:q-G},oe=N.htmlRegion,re="visible",ie="visibleFirst";"scroll"!==oe&&oe!==ie&&(oe=re);var ae=oe===ie,le=H(ne,y),ue=H(te,y),se=oe===re?ue:le,ce=ae?ue:se;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var fe=g.getBoundingClientRect();g.style.left=C,g.style.top=M,g.style.right=P,g.style.bottom=k,g.style.overflow=R,null===(p=g.parentElement)||void 0===p||p.removeChild(L);var pe=T(Math.round(U/parseFloat(F)*1e3)/1e3),ve=T(Math.round(Q/parseFloat(W)*1e3)/1e3);if(0===pe||0===ve||m(r)&&!h(r))return;var de=N.offset,me=N.targetOffset,he=Y(X,de),ge=t(he,2),ye=ge[0],be=ge[1],xe=Y(d,me),we=t(xe,2),Ee=we[0],Ce=we[1];d.x-=Ee,d.y-=Ce;var Me,Pe,ke,Re,Ne=N.points||[],Le=t(Ne,2),Ae=Le[0],De=_(Le[1]),Se=_(Ae),Te=j(d,De),Be=j(X,Se),He=n({},N),Xe=Te.x-Be.x+ye,Ye=Te.y-Be.y+be,_e=e(Xe,Ye),je=e(Xe,Ye,ue),ze=j(d,["t","l"]),Ve=j(X,["t","l"]),We=j(d,["b","r"]),Fe=j(X,["b","r"]),Oe=N.overflow||{},Ie=Oe.adjustX,Je=Oe.adjustY,$e=Oe.shiftX,qe=Oe.shiftY,Ge=function(e){return"boolean"==typeof e?e:e>=0};kt();var Ke=Ge(Je),Qe=Se[0]===De[0];if(Ke&&"t"===Se[0]&&(Pe>ce.bottom||b.current.bt)){var Ue=Ye;Qe?Ue-=Q-Z:Ue=ze.y-Fe.y-be;var Ze=e(Xe,Ue),et=e(Xe,Ue,ue);Ze>_e||Ze===_e&&(!ae||et>=je)?(b.current.bt=!0,Ye=Ue,be=-be,He.points=[z(Se,0),z(De,0)]):b.current.bt=!1}if(Ke&&"b"===Se[0]&&(Me<ce.top||b.current.tb)){var tt=Ye;Qe?tt+=Q-Z:tt=We.y-Ve.y-be;var nt=e(Xe,tt),ot=e(Xe,tt,ue);nt>_e||nt===_e&&(!ae||ot>=je)?(b.current.tb=!0,Ye=tt,be=-be,He.points=[z(Se,0),z(De,0)]):b.current.tb=!1}var rt=Ge(Ie),it=Se[1]===De[1];if(rt&&"l"===Se[1]&&(Re>ce.right||b.current.rl)){var at=Xe;it?at-=U-ee:at=ze.x-Fe.x-ye;var lt=e(at,Ye),ut=e(at,Ye,ue);lt>_e||lt===_e&&(!ae||ut>=je)?(b.current.rl=!0,Xe=at,ye=-ye,He.points=[z(Se,1),z(De,1)]):b.current.rl=!1}if(rt&&"r"===Se[1]&&(ke<ce.left||b.current.lr)){var st=Xe;it?st+=U-ee:st=We.x-Ve.x-ye;var ct=e(st,Ye),ft=e(st,Ye,ue);ct>_e||ct===_e&&(!ae||ft>=je)?(b.current.lr=!0,Xe=st,ye=-ye,He.points=[z(Se,1),z(De,1)]):b.current.lr=!1}kt();var pt=!0===$e?0:$e;"number"==typeof pt&&(ke<ue.left&&(Xe-=ke-ue.left-ye,d.x+ee<ue.left+pt&&(Xe+=d.x-ue.left+ee-pt)),Re>ue.right&&(Xe-=Re-ue.right-ye,d.x>ue.right-pt&&(Xe+=d.x-ue.right+pt)));var vt=!0===qe?0:qe;"number"==typeof vt&&(Me<ue.top&&(Ye-=Me-ue.top-be,d.y+Z<ue.top+vt&&(Ye+=d.y-ue.top+Z-vt)),Pe>ue.bottom&&(Ye-=Pe-ue.bottom-be,d.y>ue.bottom-vt&&(Ye+=d.y-ue.bottom+vt)));var dt=X.x+Xe,mt=dt+U,ht=X.y+Ye,gt=ht+Q,yt=d.x,bt=yt+ee,xt=d.y,wt=xt+Z,Et=(Math.max(dt,yt)+Math.min(mt,bt))/2-dt,Ct=(Math.max(ht,xt)+Math.min(gt,wt))/2-ht;null==s||s(o,He);var Mt=fe.right-X.x-(Xe+X.width),Pt=fe.bottom-X.y-(Ye+X.height);1===pe&&(Xe=Math.round(Xe),Mt=Math.round(Mt)),1===ve&&(Ye=Math.round(Ye),Pt=Math.round(Pt)),v({ready:!0,offsetX:Xe/pe,offsetY:Ye/ve,offsetR:Mt/pe,offsetB:Pt/ve,arrowX:Et/pe,arrowY:Ct/ve,scaleX:pe,scaleY:ve,align:He})}}),E=function(){v(function(e){return n(n({},e),{},{ready:!1})})};return u(E,[i]),u(function(){e||E()},[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){g.current+=1;var e=g.current;Promise.resolve().then(function(){g.current===e&&w()})}]}(nt,Xe,pe&&null!==xt?xt:We,re,ae,le,de),Mt=t(Ct,11),Pt=Mt[0],kt=Mt[1],Rt=Mt[2],Nt=Mt[3],Lt=Mt[4],At=Mt[5],Dt=Mt[6],St=Mt[7],Tt=Mt[8],Bt=Mt[9],Ht=Mt[10],Xt=function(e,t,n,o){return x.useMemo(function(){var r=N(null!=n?n:t),i=N(null!=o?o:t),a=new Set(r),l=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[a,l]},[e,t,n,o])}(Ne,w,E,C),Yt=t(Xt,2),_t=Yt[0],jt=Yt[1],zt=_t.has("click"),Vt=jt.has("click")||jt.has("contextMenu"),Wt=d(function(){pt||Ht()});!function(e,t,n,r,i){u(function(){if(e&&t&&n){let e=function(){r(),i()};var a=n,l=S(t),u=S(a),s=D(a),c=new Set([s].concat(o(l),o(u)));return c.forEach(function(t){t.addEventListener("scroll",e,{passive:!0})}),s.addEventListener("resize",e,{passive:!0}),r(),function(){c.forEach(function(t){t.removeEventListener("scroll",e),s.removeEventListener("resize",e)})}}},[e,t,n])}(nt,We,Xe,Wt,function(){rt.current&&pe&&Vt&&st(!1)}),u(function(){Wt()},[xt,re]),u(function(){!nt||null!=ae&&ae[re]||Wt()},[JSON.stringify(le)]);var Ft=x.useMemo(function(){var e=function(e,t,n,o){for(var r=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var l,u=i[a];if(L(null===(l=e[u])||void 0===l?void 0:l.points,r,o))return"".concat(t,"-placement-").concat(u)}return""}(ae,f,Bt,pe);return a(e,null==ce?void 0:ce(Bt))},[Bt,ce,ae,f,pe]);x.useImperativeHandle(s,function(){return{nativeElement:Oe.current,popupElement:_e.current,forceAlign:Wt}});var Ot=x.useState(0),It=t(Ot,2),Jt=It[0],$t=It[1],qt=x.useState(0),Gt=t(qt,2),Kt=Gt[0],Qt=Gt[1],Ut=function(){if(se&&We){var e=We.getBoundingClientRect();$t(e.width),Qt(e.height)}};function Zt(e,t,n,o){qe[e]=function(r){var i;null==o||o(r),st(t,n);for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];null===(i=$e[e])||void 0===i||i.call.apply(i,[$e,r].concat(l))}}u(function(){ht&&(Ht(),ht(),gt(null))},[ht]),(zt||Vt)&&(qe.onClick=function(e){var t;rt.current&&Vt?st(!1):!rt.current&&zt&&(Et(e),st(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=$e.onClick)||void 0===t||t.call.apply(t,[$e,e].concat(o))});var en,tn,nn=function(e,t,n,o,r,i,a,l){var u=x.useRef(e);u.current=e;var s=x.useRef(!1);return x.useEffect(function(){if(t&&o&&(!r||i)){var e=function(){s.current=!1},c=function(e){var t;!u.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||s.current||l(!1)},f=D(o);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0);var p=g(n);return p&&(p.addEventListener("mousedown",c,!0),p.addEventListener("contextmenu",c,!0)),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0),p&&(p.removeEventListener("mousedown",c,!0),p.removeEventListener("contextmenu",c,!0))}}},[t,n,o,r,i]),function(){s.current=!0}}(nt,Vt,We,Xe,q,K,Ge,st),on=_t.has("hover"),rn=jt.has("hover");on&&(Zt("onMouseEnter",!0,F,function(e){Et(e)}),Zt("onPointerEnter",!0,F,function(e){Et(e)}),en=function(e){(nt||pt)&&null!=Xe&&Xe.contains(e.target)&&st(!0,F)},pe&&(qe.onMouseMove=function(e){var t;null===(t=$e.onMouseMove)||void 0===t||t.call($e,e)})),rn&&(Zt("onMouseLeave",!1,I),Zt("onPointerLeave",!1,I),tn=function(){st(!1,I)}),_t.has("focus")&&Zt("onFocus",!0,J),jt.has("focus")&&Zt("onBlur",!1,$),_t.has("contextMenu")&&(qe.onContextMenu=function(e){var t;rt.current&&jt.has("contextMenu")?st(!1):(Et(e),st(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=$e.onContextMenu)||void 0===t||t.call.apply(t,[$e,e].concat(o))}),Ee&&(qe.className=a($e.className,Ee));var an=x.useRef(!1);an.current||(an.current=U||nt||pt);var ln=n(n({},$e),qe),un={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){Me[e]&&(un[e]=function(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===(t=ln[e])||void 0===t||t.call.apply(t,[ln].concat(o)),Me[e].apply(Me,o)})});var sn=x.cloneElement(Je,n(n({},ln),un)),cn={x:At,y:Dt},fn=me?n({},!0!==me?me:{}):null;return x.createElement(x.Fragment,null,x.createElement(l,{disabled:!nt,ref:Ie,onResize:function(){Ut(),Wt()}},x.createElement(k,{getTriggerDOMNode:Ce},sn)),an.current&&x.createElement(R.Provider,{value:Se},x.createElement(P,{portal:e,ref:je,prefixCls:f,popup:te,className:a(ne,Ft),style:oe,target:We,onMouseEnter:en,onMouseLeave:tn,onPointerEnter:en,zIndex:ue,open:nt,keepDom:pt,fresh:fe,onClick:ve,onPointerDownCapture:nn,mask:q,motion:Ke,maskMotion:Qe,onVisibleChanged:function(e){vt(!1),Ht(),null==W||W(e)},onPrepare:function(){return new Promise(function(e){Ut(),gt(function(){return e})})},forceRender:U,autoDestroy:Pe,getPopupContainer:Q,align:Bt,arrow:fn,arrowPos:cn,ready:Pt,offsetX:kt,offsetY:Rt,offsetR:Nt,offsetB:Lt,onAlign:Wt,stretch:se,targetWidth:Jt/St,targetHeight:Kt/Tt})))})}(i);export{W as T};
