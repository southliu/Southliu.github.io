import{r as e}from"./react.a7da97a2.js";const n={};function t(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];"string"==typeof t[0]&&n[t[0]]||("string"==typeof t[0]&&(n[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&(n[0]=`react-i18next:: ${n[0]}`)}}(...t))}const s=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout((()=>{e.off("initialized",t)}),0),n()};e.on("initialized",t)}};function a(e,n,t){e.loadNamespaces(n,s(e,t))}function o(e,n,t,a){"string"==typeof t&&(t=[t]),t.forEach((n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)})),e.loadLanguages(n,s(e,a))}const r=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,i={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},c=e=>i[e];let u,g={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(r,c)};const l={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g={...g,...e}}(e.options.react),function(e){u=e}(e)}},p=e.createContext();class d{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function f(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:r}=s,{i18n:i,defaultNS:c}=e.useContext(p)||{},l=r||i||u;if(l&&!l.reportNamespaces&&(l.reportNamespaces=new d),!l){t("You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>"string"==typeof n?n:n&&"object"==typeof n&&"string"==typeof n.defaultValue?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}l.options.react&&void 0!==l.options.react.wait&&t("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...g,...l.options.react,...s},{useSuspense:h,keyPrefix:m}=f;let y=n||c||l.options&&l.options.defaultNS;y="string"==typeof y?[y]:y||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(y);const b=(l.isInitialized||l.initializedStoreOnce)&&y.every((e=>function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.languages&&n.languages.length?void 0!==n.options.ignoreJSONStructure?n.hasLoadedNamespace(e,{lng:s.lng,precheck:(n,t)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!t(n.isLanguageChangingTo,e))return!1}}):function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=n.languages[0],a=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(e,t)=>{const s=n.services.backendConnector.state[`${e}|${t}`];return-1===s||2===s};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,e)||!n.hasResourceBundle(s,e)&&n.services.backendConnector.backend&&(!n.options.resources||n.options.partialBundledLanguages)&&(!r(s,e)||a&&!r(o,e)))}(e,n,s):(t("i18n.languages were undefined or empty",n.languages),!0)}(e,l,f)));function N(){return l.getFixedT(s.lng||null,"fallback"===f.nsMode?y:y[0],m)}const[v,x]=e.useState(N);let C=y.join();s.lng&&(C=`${s.lng}${C}`);const w=((n,t)=>{const s=e.useRef();return e.useEffect((()=>{s.current=t?s.current:n}),[n,t]),s.current})(C),k=e.useRef(!0);e.useEffect((()=>{const{bindI18n:e,bindI18nStore:n}=f;function t(){k.current&&x(N)}return k.current=!0,b||h||(s.lng?o(l,s.lng,y,(()=>{k.current&&x(N)})):a(l,y,(()=>{k.current&&x(N)}))),b&&w&&w!==C&&k.current&&x(N),e&&l&&l.on(e,t),n&&l&&l.store.on(n,t),()=>{k.current=!1,e&&l&&e.split(" ").forEach((e=>l.off(e,t))),n&&l&&n.split(" ").forEach((e=>l.store.off(e,t)))}}),[l,C]);const I=e.useRef(!0);e.useEffect((()=>{k.current&&!I.current&&x(N),I.current=!1}),[l,m]);const S=[v,l,b];if(S.t=v,S.i18n=l,S.ready=b,b)return S;if(!b&&!h)return S;throw new Promise((e=>{s.lng?o(l,s.lng,y,(()=>e())):a(l,y,(()=>e()))}))}export{l as i,f as u};
