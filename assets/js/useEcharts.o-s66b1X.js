import{r as e}from"./react@18.2.0.CwGjMYfB.js";import{i as r}from"./echarts@5.5.0.C_LTCPIf.js";import{u as t}from"./index.SJbFXdoq.js";const s=(s,n)=>{const{isRefresh:u}=t(),[c,i]=e.useState(!1),o=e.useRef(),f=e.useRef(null),a=()=>{var e;f.current&&(null==(e=o.current)||e.dispose())},l=e.useCallback((()=>{i(!1),s&&(a(),f.current&&(o.current=r(f.current),o.current.setOption(s,!0)))}),[s]);return e.useEffect((()=>{c&&l()}),[l,c]),e.useEffect((()=>{s&&u&&i(!0)}),[s,u]),e.useEffect((()=>(l(),window.addEventListener("resize",l,!1),()=>{window.removeEventListener("resize",l),a()})),[]),e.useEffect((()=>{var e;n&&(null==(e=null==o?void 0:o.current)||e.setOption(s,!0))}),[n]),[f,l]};export{s as u};
