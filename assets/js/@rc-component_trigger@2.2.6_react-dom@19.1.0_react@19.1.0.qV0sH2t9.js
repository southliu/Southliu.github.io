import{k as e,h as t,g as n,j as o,i as r}from"./@babel_runtime@7.27.6.R8rA2vPb.js";import{P as i}from"./@rc-component_portal@1.1.2_react-dom@19.1.0_react@19.1.0.DQ6b-AvD.js";import{c as a}from"./classnames@2.5.1.6O6XshCl.js";import{R as l}from"./rc-resize-observer@1.4.3_react-dom@19.1.0_react@19.1.0.FPNjRaMA.js";import{a as u,j as s,s as c,k as f,h as p,l as v,e as d,m,n as h,g,o as y,p as b}from"./rc-util@5.44.4_react-dom@19.1.0_react@19.1.0.ZpIlvg4e.js";import{r as x}from"./react@19.1.0.QBh3HWPD.js";import{C as w}from"./rc-motion@2.9.5_react-dom@19.1.0_react@19.1.0.DwLOWyha.js";function E(e){var t=e.prefixCls,n=e.align,o=e.arrow,r=e.arrowPos,i=o||{},l=i.className,u=i.content,s=r.x,c=void 0===s?0:s,f=r.y,p=void 0===f?0:f,v=x.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],h=n.points[1],g=m[0],y=m[1],b=h[0],w=h[1];g!==b&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=p,y!==w&&["l","r"].includes(y)?"l"===y?d.left=0:d.right=0:d.left=c}return x.createElement("div",{ref:v,className:a("".concat(t,"-arrow"),l),style:d},u)}function M(t){var n=t.prefixCls,o=t.open,r=t.zIndex,i=t.mask,l=t.motion;return i?x.createElement(w,e({},l,{motionAppear:!0,visible:o,removeOnLeave:!0}),(function(e){var t=e.className;return x.createElement("div",{style:{zIndex:r},className:a("".concat(n,"-mask"),t)})})):null}var C=x.memo((function(e){return e.children}),(function(e,t){return t.cache})),P=x.forwardRef((function(o,r){var i=o.popup,c=o.className,f=o.prefixCls,p=o.style,v=o.target,d=o.onVisibleChanged,m=o.open,h=o.keepDom,g=o.fresh,y=o.onClick,b=o.mask,P=o.arrow,k=o.arrowPos,R=o.align,N=o.motion,A=o.maskMotion,L=o.forceRender,D=o.getPopupContainer,S=o.autoDestroy,T=o.portal,B=o.zIndex,H=o.onMouseEnter,X=o.onMouseLeave,Y=o.onPointerEnter,j=o.onPointerDownCapture,z=o.ready,V=o.offsetX,W=o.offsetY,O=o.offsetR,F=o.offsetB,I=o.onAlign,_=o.onPrepare,J=o.stretch,$=o.targetWidth,q=o.targetHeight,G="function"==typeof i?i():i,K=m||h,Q=(null==D?void 0:D.length)>0,U=x.useState(!D||!Q),Z=t(U,2),ee=Z[0],te=Z[1];if(u((function(){!ee&&Q&&v&&te(!0)}),[ee,Q,v]),!ee)return null;var ne="auto",oe={left:"-1000vw",top:"-1000vh",right:ne,bottom:ne};if(z||!m){var re,ie=R.points,ae=R.dynamicInset||(null===(re=R._experimental)||void 0===re?void 0:re.dynamicInset),le=ae&&"r"===ie[0][1],ue=ae&&"b"===ie[0][0];le?(oe.right=O,oe.left=ne):(oe.left=V,oe.right=ne),ue?(oe.bottom=F,oe.top=ne):(oe.top=W,oe.bottom=ne)}var se={};return J&&(J.includes("height")&&q?se.height=q:J.includes("minHeight")&&q&&(se.minHeight=q),J.includes("width")&&$?se.width=$:J.includes("minWidth")&&$&&(se.minWidth=$)),m||(se.pointerEvents="none"),x.createElement(T,{open:L||K,getContainer:D&&function(){return D(v)},autoDestroy:S},x.createElement(M,{prefixCls:f,open:m,zIndex:B,mask:b,motion:A}),x.createElement(l,{onResize:I,disabled:!m},(function(t){return x.createElement(w,e({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:L,leavedClassName:"".concat(f,"-hidden")},N,{onAppearPrepare:_,onEnterPrepare:_,visible:m,onVisibleChanged:function(e){var t;null==N||null===(t=N.onVisibleChanged)||void 0===t||t.call(N,e),d(e)}}),(function(e,o){var i=e.className,l=e.style,u=a(f,i,c);return x.createElement("div",{ref:s(t,r,o),className:u,style:n(n(n(n({"--arrow-x":"".concat(k.x||0,"px"),"--arrow-y":"".concat(k.y||0,"px")},oe),se),l),{},{boxSizing:"border-box",zIndex:B},p),onMouseEnter:H,onMouseLeave:X,onPointerEnter:Y,onClick:y,onPointerDownCapture:j},P&&x.createElement(E,{prefixCls:f,arrow:P,arrowPos:k,align:R}),x.createElement(C,{cache:!m&&!g},G))}))})))})),k=x.forwardRef((function(e,t){var n=e.children,o=e.getTriggerDOMNode,r=c(n),i=x.useCallback((function(e){f(t,o?o(e):e)}),[o]),a=p(i,v(n));return r?x.cloneElement(n,{ref:a}):n})),R=x.createContext(null);function N(e){return e?Array.isArray(e)?e:[e]:[]}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function L(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function D(e){return e.ownerDocument.defaultView}function S(e){for(var t=[],n=null==e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var r=D(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some((function(e){return o.includes(e)}))&&t.push(n),n=n.parentElement}return t}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function B(e){return T(parseFloat(e),0)}function H(e,t){var o=n({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=D(e).getComputedStyle(e),n=t.overflow,r=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,l=t.borderLeftWidth,u=t.borderRightWidth,s=e.getBoundingClientRect(),c=e.offsetHeight,f=e.clientHeight,p=e.offsetWidth,v=e.clientWidth,d=B(i),m=B(a),h=B(l),g=B(u),y=T(Math.round(s.width/p*1e3)/1e3),b=T(Math.round(s.height/c*1e3)/1e3),x=(p-v-h-g)*y,w=(c-f-d-m)*b,E=d*b,M=m*b,C=h*y,P=g*y,k=0,R=0;if("clip"===n){var N=B(r);k=N*y,R=N*b}var A=s.x+C-k,L=s.y+E-R,S=A+s.width+2*k-C-P-x,H=L+s.height+2*R-E-M-w;o.left=Math.max(o.left,A),o.top=Math.max(o.top,L),o.right=Math.min(o.right,S),o.bottom=Math.min(o.bottom,H)}})),o}function X(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Y(e,n){var o=t(n||[],2),r=o[0],i=o[1];return[X(e.width,r),X(e.height,i)]}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function z(e,t){var n,o=t[0],r=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function V(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,o){return o===t?n[e]||"c":e})).join("")}var W=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return x.forwardRef((function(i,s){var c=i.prefixCls,f=void 0===c?"rc-trigger-popup":c,p=i.children,v=i.action,w=void 0===v?"hover":v,E=i.showAction,M=i.hideAction,C=i.popupVisible,B=i.defaultPopupVisible,X=i.onPopupVisibleChange,O=i.afterPopupVisibleChange,F=i.mouseEnterDelay,I=i.mouseLeaveDelay,_=void 0===I?.1:I,J=i.focusDelay,$=i.blurDelay,q=i.mask,G=i.maskClosable,K=void 0===G||G,Q=i.getPopupContainer,U=i.forceRender,Z=i.autoDestroy,ee=i.destroyPopupOnHide,te=i.popup,ne=i.popupClassName,oe=i.popupStyle,re=i.popupPlacement,ie=i.builtinPlacements,ae=void 0===ie?{}:ie,le=i.popupAlign,ue=i.zIndex,se=i.stretch,ce=i.getPopupClassNameFromAlign,fe=i.fresh,pe=i.alignPoint,ve=i.onPopupClick,de=i.onPopupAlign,me=i.arrow,he=i.popupMotion,ge=i.maskMotion,ye=i.popupTransitionName,be=i.popupAnimation,xe=i.maskTransitionName,we=i.maskAnimation,Ee=i.className,Me=i.getTriggerDOMNode,Ce=r(i,W),Pe=Z||ee||!1,ke=x.useState(!1),Re=t(ke,2),Ne=Re[0],Ae=Re[1];u((function(){Ae(y())}),[]);var Le=x.useRef({}),De=x.useContext(R),Se=x.useMemo((function(){return{registerSubPopup:function(e,t){Le.current[e]=t,null==De||De.registerSubPopup(e,t)}}}),[De]),Te=b(),Be=x.useState(null),He=t(Be,2),Xe=He[0],Ye=He[1],je=x.useRef(null),ze=d((function(e){je.current=e,m(e)&&Xe!==e&&Ye(e),null==De||De.registerSubPopup(Te,e)})),Ve=x.useState(null),We=t(Ve,2),Oe=We[0],Fe=We[1],Ie=x.useRef(null),_e=d((function(e){m(e)&&Oe!==e&&(Fe(e),Ie.current=e)})),Je=x.Children.only(p),$e=(null==Je?void 0:Je.props)||{},qe={},Ge=d((function(e){var t,n,o=Oe;return(null==o?void 0:o.contains(e))||(null===(t=g(o))||void 0===t?void 0:t.host)===e||e===o||(null==Xe?void 0:Xe.contains(e))||(null===(n=g(Xe))||void 0===n?void 0:n.host)===e||e===Xe||Object.values(Le.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Ke=L(f,he,be,ye),Qe=L(f,ge,we,xe),Ue=x.useState(B||!1),Ze=t(Ue,2),et=Ze[0],tt=Ze[1],nt=null!=C?C:et,ot=d((function(e){void 0===C&&tt(e)}));u((function(){tt(C||!1)}),[C]);var rt=x.useRef(nt);rt.current=nt;var it=x.useRef([]);it.current=[];var at=d((function(e){var t;ot(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:nt)!==e&&(it.current.push(e),null==X||X(e))})),lt=x.useRef(),ut=function(){clearTimeout(lt.current)},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ut(),0===t?at(e):lt.current=setTimeout((function(){at(e)}),1e3*t)};x.useEffect((function(){return ut}),[]);var ct=x.useState(!1),ft=t(ct,2),pt=ft[0],vt=ft[1];u((function(e){e&&!nt||vt(!0)}),[nt]);var dt=x.useState(null),mt=t(dt,2),ht=mt[0],gt=mt[1],yt=x.useState(null),bt=t(yt,2),xt=bt[0],wt=bt[1],Et=function(e){wt([e.clientX,e.clientY])},Mt=function(e,o,r,i,a,l,s){var c=x.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),f=t(c,2),p=f[0],v=f[1],g=x.useRef(0),y=x.useMemo((function(){return o?S(o):[]}),[o]),b=x.useRef({});e||(b.current={});var w=d((function(){if(o&&r&&e){let e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue,o=O.x+e,r=O.y+t,i=o+Q,a=r+K,l=Math.max(o,n.left),u=Math.max(r,n.top),s=Math.min(i,n.right),c=Math.min(a,n.bottom);return Math.max(0,(s-l)*(c-u))},Pt=function(){Me=O.y+Xe,Ce=Me+K,Pe=O.x+He,ke=Pe+Q};var u,c,f,p,d,g=o,x=g.ownerDocument,w=D(g).getComputedStyle(g),E=w.width,M=w.height,C=w.position,P=g.style.left,k=g.style.top,R=g.style.right,N=g.style.bottom,A=g.style.overflow,L=n(n({},a[i]),l),S=x.createElement("div");if(null===(u=g.parentElement)||void 0===u||u.appendChild(S),S.style.left="".concat(g.offsetLeft,"px"),S.style.top="".concat(g.offsetTop,"px"),S.style.position=C,S.style.height="".concat(g.offsetHeight,"px"),S.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden",Array.isArray(r))d={x:r[0],y:r[1],width:0,height:0};else{var B,X,W=r.getBoundingClientRect();W.x=null!==(B=W.x)&&void 0!==B?B:W.left,W.y=null!==(X=W.y)&&void 0!==X?X:W.top,d={x:W.x,y:W.y,width:W.width,height:W.height}}var O=g.getBoundingClientRect();O.x=null!==(c=O.x)&&void 0!==c?c:O.left,O.y=null!==(f=O.y)&&void 0!==f?f:O.top;var F=x.documentElement,I=F.clientWidth,_=F.clientHeight,J=F.scrollWidth,$=F.scrollHeight,q=F.scrollTop,G=F.scrollLeft,K=O.height,Q=O.width,U=d.height,Z=d.width,ee={left:0,top:0,right:I,bottom:_},te={left:-G,top:-q,right:J-G,bottom:$-q},ne=L.htmlRegion,oe="visible",re="visibleFirst";"scroll"!==ne&&ne!==re&&(ne=oe);var ie=ne===re,ae=H(te,y),le=H(ee,y),ue=ne===oe?le:ae,se=ie?le:ue;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var ce=g.getBoundingClientRect();g.style.left=P,g.style.top=k,g.style.right=R,g.style.bottom=N,g.style.overflow=A,null===(p=g.parentElement)||void 0===p||p.removeChild(S);var fe=T(Math.round(Q/parseFloat(E)*1e3)/1e3),pe=T(Math.round(K/parseFloat(M)*1e3)/1e3);if(0===fe||0===pe||m(r)&&!h(r))return;var ve=L.offset,de=L.targetOffset,me=Y(O,ve),he=t(me,2),ge=he[0],ye=he[1],be=Y(d,de),xe=t(be,2),we=xe[0],Ee=xe[1];d.x-=we,d.y-=Ee;var Me,Ce,Pe,ke,Re=L.points||[],Ne=t(Re,2),Ae=Ne[0],Le=j(Ne[1]),De=j(Ae),Se=z(d,Le),Te=z(O,De),Be=n({},L),He=Se.x-Te.x+ge,Xe=Se.y-Te.y+ye,Ye=e(He,Xe),je=e(He,Xe,le),ze=z(d,["t","l"]),Ve=z(O,["t","l"]),We=z(d,["b","r"]),Oe=z(O,["b","r"]),Fe=L.overflow||{},Ie=Fe.adjustX,_e=Fe.adjustY,Je=Fe.shiftX,$e=Fe.shiftY,qe=function(e){return"boolean"==typeof e?e:e>=0};Pt();var Ge=qe(_e),Ke=De[0]===Le[0];if(Ge&&"t"===De[0]&&(Ce>se.bottom||b.current.bt)){var Qe=Xe;Ke?Qe-=K-U:Qe=ze.y-Oe.y-ye;var Ue=e(He,Qe),Ze=e(He,Qe,le);Ue>Ye||Ue===Ye&&(!ie||Ze>=je)?(b.current.bt=!0,Xe=Qe,ye=-ye,Be.points=[V(De,0),V(Le,0)]):b.current.bt=!1}if(Ge&&"b"===De[0]&&(Me<se.top||b.current.tb)){var et=Xe;Ke?et+=K-U:et=We.y-Ve.y-ye;var tt=e(He,et),nt=e(He,et,le);tt>Ye||tt===Ye&&(!ie||nt>=je)?(b.current.tb=!0,Xe=et,ye=-ye,Be.points=[V(De,0),V(Le,0)]):b.current.tb=!1}var ot=qe(Ie),rt=De[1]===Le[1];if(ot&&"l"===De[1]&&(ke>se.right||b.current.rl)){var it=He;rt?it-=Q-Z:it=ze.x-Oe.x-ge;var at=e(it,Xe),lt=e(it,Xe,le);at>Ye||at===Ye&&(!ie||lt>=je)?(b.current.rl=!0,He=it,ge=-ge,Be.points=[V(De,1),V(Le,1)]):b.current.rl=!1}if(ot&&"r"===De[1]&&(Pe<se.left||b.current.lr)){var ut=He;rt?ut+=Q-Z:ut=We.x-Ve.x-ge;var st=e(ut,Xe),ct=e(ut,Xe,le);st>Ye||st===Ye&&(!ie||ct>=je)?(b.current.lr=!0,He=ut,ge=-ge,Be.points=[V(De,1),V(Le,1)]):b.current.lr=!1}Pt();var ft=!0===Je?0:Je;"number"==typeof ft&&(Pe<le.left&&(He-=Pe-le.left-ge,d.x+Z<le.left+ft&&(He+=d.x-le.left+Z-ft)),ke>le.right&&(He-=ke-le.right-ge,d.x>le.right-ft&&(He+=d.x-le.right+ft)));var pt=!0===$e?0:$e;"number"==typeof pt&&(Me<le.top&&(Xe-=Me-le.top-ye,d.y+U<le.top+pt&&(Xe+=d.y-le.top+U-pt)),Ce>le.bottom&&(Xe-=Ce-le.bottom-ye,d.y>le.bottom-pt&&(Xe+=d.y-le.bottom+pt)));var vt=O.x+He,dt=vt+Q,mt=O.y+Xe,ht=mt+K,gt=d.x,yt=gt+Z,bt=d.y,xt=bt+U,wt=(Math.max(vt,gt)+Math.min(dt,yt))/2-vt,Et=(Math.max(mt,bt)+Math.min(ht,xt))/2-mt;null==s||s(o,Be);var Mt=ce.right-O.x-(He+O.width),Ct=ce.bottom-O.y-(Xe+O.height);1===fe&&(He=Math.round(He),Mt=Math.round(Mt)),1===pe&&(Xe=Math.round(Xe),Ct=Math.round(Ct)),v({ready:!0,offsetX:He/fe,offsetY:Xe/pe,offsetR:Mt/fe,offsetB:Ct/pe,arrowX:wt/fe,arrowY:Et/pe,scaleX:fe,scaleY:pe,align:Be})}})),E=function(){v((function(e){return n(n({},e),{},{ready:!1})}))};return u(E,[i]),u((function(){e||E()}),[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,function(){g.current+=1;var e=g.current;Promise.resolve().then((function(){g.current===e&&w()}))}]}(nt,Xe,pe&&null!==xt?xt:Oe,re,ae,le,de),Ct=t(Mt,11),Pt=Ct[0],kt=Ct[1],Rt=Ct[2],Nt=Ct[3],At=Ct[4],Lt=Ct[5],Dt=Ct[6],St=Ct[7],Tt=Ct[8],Bt=Ct[9],Ht=Ct[10],Xt=function(e,t,n,o){return x.useMemo((function(){var r=N(null!=n?n:t),i=N(null!=o?o:t),a=new Set(r),l=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[a,l]}),[e,t,n,o])}(Ne,w,E,M),Yt=t(Xt,2),jt=Yt[0],zt=Yt[1],Vt=jt.has("click"),Wt=zt.has("click")||zt.has("contextMenu"),Ot=d((function(){pt||Ht()}));!function(e,t,n,r,i){u((function(){if(e&&t&&n){let e=function(){r(),i()};var a=n,l=S(t),u=S(a),s=D(a),c=new Set([s].concat(o(l),o(u)));return c.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),s.addEventListener("resize",e,{passive:!0}),r(),function(){c.forEach((function(t){t.removeEventListener("scroll",e),s.removeEventListener("resize",e)}))}}}),[e,t,n])}(nt,Oe,Xe,Ot,(function(){rt.current&&pe&&Wt&&st(!1)})),u((function(){Ot()}),[xt,re]),u((function(){!nt||null!=ae&&ae[re]||Ot()}),[JSON.stringify(le)]);var Ft=x.useMemo((function(){var e=function(e,t,n,o){for(var r=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var l,u=i[a];if(A(null===(l=e[u])||void 0===l?void 0:l.points,r,o))return"".concat(t,"-placement-").concat(u)}return""}(ae,f,Bt,pe);return a(e,null==ce?void 0:ce(Bt))}),[Bt,ce,ae,f,pe]);x.useImperativeHandle(s,(function(){return{nativeElement:Ie.current,popupElement:je.current,forceAlign:Ot}}));var It=x.useState(0),_t=t(It,2),Jt=_t[0],$t=_t[1],qt=x.useState(0),Gt=t(qt,2),Kt=Gt[0],Qt=Gt[1],Ut=function(){if(se&&Oe){var e=Oe.getBoundingClientRect();$t(e.width),Qt(e.height)}};function Zt(e,t,n,o){qe[e]=function(r){var i;null==o||o(r),st(t,n);for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];null===(i=$e[e])||void 0===i||i.call.apply(i,[$e,r].concat(l))}}u((function(){ht&&(Ht(),ht(),gt(null))}),[ht]),(Vt||Wt)&&(qe.onClick=function(e){var t;rt.current&&Wt?st(!1):!rt.current&&Vt&&(Et(e),st(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=$e.onClick)||void 0===t||t.call.apply(t,[$e,e].concat(o))});var en,tn,nn=function(e,t,n,o,r,i,a,l){var u=x.useRef(e);u.current=e;var s=x.useRef(!1);return x.useEffect((function(){if(t&&o&&(!r||i)){var e=function(){s.current=!1},c=function(e){var t;!u.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||s.current||l(!1)},f=D(o);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0);var p=g(n);return p&&(p.addEventListener("mousedown",c,!0),p.addEventListener("contextmenu",c,!0)),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0),p&&(p.removeEventListener("mousedown",c,!0),p.removeEventListener("contextmenu",c,!0))}}}),[t,n,o,r,i]),function(){s.current=!0}}(nt,Wt,Oe,Xe,q,K,Ge,st),on=jt.has("hover"),rn=zt.has("hover");on&&(Zt("onMouseEnter",!0,F,(function(e){Et(e)})),Zt("onPointerEnter",!0,F,(function(e){Et(e)})),en=function(e){(nt||pt)&&null!=Xe&&Xe.contains(e.target)&&st(!0,F)},pe&&(qe.onMouseMove=function(e){var t;null===(t=$e.onMouseMove)||void 0===t||t.call($e,e)})),rn&&(Zt("onMouseLeave",!1,_),Zt("onPointerLeave",!1,_),tn=function(){st(!1,_)}),jt.has("focus")&&Zt("onFocus",!0,J),zt.has("focus")&&Zt("onBlur",!1,$),jt.has("contextMenu")&&(qe.onContextMenu=function(e){var t;rt.current&&zt.has("contextMenu")?st(!1):(Et(e),st(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=$e.onContextMenu)||void 0===t||t.call.apply(t,[$e,e].concat(o))}),Ee&&(qe.className=a($e.className,Ee));var an=n(n({},$e),qe),ln={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Ce[e]&&(ln[e]=function(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===(t=an[e])||void 0===t||t.call.apply(t,[an].concat(o)),Ce[e].apply(Ce,o)})}));var un=x.cloneElement(Je,n(n({},an),ln)),sn={x:Lt,y:Dt},cn=me?n({},!0!==me?me:{}):null;return x.createElement(x.Fragment,null,x.createElement(l,{disabled:!nt,ref:_e,onResize:function(){Ut(),Ot()}},x.createElement(k,{getTriggerDOMNode:Me},un)),x.createElement(R.Provider,{value:Se},x.createElement(P,{portal:e,ref:ze,prefixCls:f,popup:te,className:a(ne,Ft),style:oe,target:Oe,onMouseEnter:en,onMouseLeave:tn,onPointerEnter:en,zIndex:ue,open:nt,keepDom:pt,fresh:fe,onClick:ve,onPointerDownCapture:nn,mask:q,motion:Ke,maskMotion:Qe,onVisibleChanged:function(e){vt(!1),Ht(),null==O||O(e)},onPrepare:function(){return new Promise((function(e){Ut(),gt((function(){return e}))}))},forceRender:U,autoDestroy:Pe,getPopupContainer:Q,align:Bt,arrow:cn,arrowPos:sn,ready:Pt,offsetX:kt,offsetY:Rt,offsetR:Nt,offsetB:At,onAlign:Ot,stretch:se,targetWidth:Jt/St,targetHeight:Kt/Tt})))}))}(i);export{O as T};
