import{g as e,d as t,k as r,h as n,f as o,_ as i,a as u,i as a}from"./@babel_runtime@7.26.9.Bt-OOtGO.js";import{c}from"./classnames@2.5.1.nkqM0Cxh.js";import{R as l}from"./rc-resize-observer@1.4.3_react-dom@19.0.0_react@19.0.0.DoCay-bQ.js";import{t as s,O as f,a as v,e as d}from"./rc-util@5.44.4_react-dom@19.0.0_react@19.0.0.iKXSQ1s6.js";import{r as h}from"./react@19.0.0.C56gzhl-.js";import{r as m}from"./react-dom@19.0.0_react@19.0.0.BNMklCqC.js";var g=h.forwardRef((function(n,o){var i=n.height,u=n.offsetY,a=n.offsetX,s=n.children,f=n.prefixCls,v=n.onInnerResize,d=n.innerProps,m=n.rtl,g=n.extra,p={},w={display:"flex",flexDirection:"column"};return void 0!==u&&(p={height:i,position:"relative",overflow:"hidden"},w=e(e({},w),{},t(t(t(t(t({transform:"translateY(".concat(u,"px)")},m?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:p},h.createElement(l,{onResize:function(e){e.offsetHeight&&v&&v()}},h.createElement("div",r({style:w,className:c(t({},"".concat(f,"-holder-inner"),f)),ref:o},d),s,g)))}));function p(e){var t=e.children,r=e.setRef,n=h.useCallback((function(e){r(e)}),[]);return h.cloneElement(t,{ref:n})}function w(e,t,r){var o=h.useState(e),i=n(o,2),u=i[0],a=i[1],c=h.useState(null),l=n(c,2),s=l[0],f=l[1];return h.useEffect((function(){var r=function(e,t,r){var n,o,i=e.length,u=t.length;if(0===i&&0===u)return null;i<u?(n=e,o=t):(n=t,o=e);var a={__EMPTY_ITEM__:!0};function c(e){return void 0!==e?r(e):a}for(var l=null,s=1!==Math.abs(i-u),f=0;f<o.length;f+=1){var v=c(n[f]);if(v!==c(o[f])){l=f,s=s||v!==c(o[f+1]);break}}return null===l?null:{index:l,multiple:s}}(u||[],e||[],t);void 0!==(null==r?void 0:r.index)&&f(e[r.index]),a(e)}),[e]),[s]}g.displayName="Filler";var E="object"===("undefined"==typeof navigator?"undefined":o(navigator))&&/Firefox/i.test(navigator.userAgent);const R=function(e,t,r,n){var o=h.useRef(!1),i=h.useRef(null);var u=h.useRef({top:e,bottom:t,left:r,right:n});return u.current.top=e,u.current.bottom=t,u.current.left=r,u.current.right=n,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return r&&n?(clearTimeout(i.current),o.current=!1):n&&!o.current||(clearTimeout(i.current),o.current=!0,i.current=setTimeout((function(){o.current=!1}),50)),!o.current&&n}};function M(e,t,r,n,o,i,u){var a=h.useRef(0),c=h.useRef(null),l=h.useRef(null),f=h.useRef(!1),v=R(t,r,n,o);var d=h.useRef(null),m=h.useRef(null);return[function(t){if(e){s.cancel(m.current),m.current=s((function(){d.current=null}),2);var r=t.deltaX,n=t.deltaY,o=t.shiftKey,h=r,g=n;("sx"===d.current||!d.current&&o&&n&&!r)&&(h=n,g=0,d.current="sx");var p=Math.abs(h),w=Math.abs(g);null===d.current&&(d.current=i&&p>w?"x":"y"),"y"===d.current?function(e,t){if(s.cancel(c.current),!v(!1,t)){var r=e;r._virtualHandled||(r._virtualHandled=!0,a.current+=t,l.current=t,E||r.preventDefault(),c.current=s((function(){var e=f.current?10:1;u(a.current*e,!1),a.current=0})))}}(t,g):function(e,t){u(t,!0),E||e.preventDefault()}(t,h)}},function(t){e&&(f.current=t.detail===l.current)}]}var S=function(){function e(){u(this,e),t(this,"maps",void 0),t(this,"id",0),t(this,"diffKeys",new Set),this.maps=Object.create(null)}return i(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function y(e){var t=parseFloat(e);return isNaN(t)?0:t}var b=14/15;function x(e){return Math.floor(Math.pow(e,.5))}function L(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var H=h.forwardRef((function(r,o){var i=r.prefixCls,u=r.rtl,a=r.scrollOffset,l=r.scrollRange,f=r.onStartMove,v=r.onStopMove,d=r.onScroll,m=r.horizontal,g=r.spinSize,p=r.containerSize,w=r.style,E=r.thumbStyle,R=r.showScrollBar,M=h.useState(!1),S=n(M,2),y=S[0],b=S[1],x=h.useState(null),H=n(x,2),T=H[0],z=H[1],_=h.useState(null),D=n(_,2),k=D[0],N=D[1],Y=!u,C=h.useRef(),B=h.useRef(),j=h.useState(R),I=n(j,2),P=I[0],X=I[1],K=h.useRef(),O=function(){!0!==R&&!1!==R&&(clearTimeout(K.current),X(!0),K.current=setTimeout((function(){X(!1)}),3e3))},A=l-p||0,V=p-g||0,W=h.useMemo((function(){return 0===a||0===A?0:a/A*V}),[a,A,V]),F=h.useRef({top:W,dragging:y,pageY:T,startTop:k});F.current={top:W,dragging:y,pageY:T,startTop:k};var q=function(e){b(!0),z(L(e,m)),N(F.current.top),f(),e.stopPropagation(),e.preventDefault()};h.useEffect((function(){var e=function(e){e.preventDefault()},t=C.current,r=B.current;return t.addEventListener("touchstart",e,{passive:!1}),r.addEventListener("touchstart",q,{passive:!1}),function(){t.removeEventListener("touchstart",e),r.removeEventListener("touchstart",q)}}),[]);var G=h.useRef();G.current=A;var J=h.useRef();J.current=V,h.useEffect((function(){if(y){var e,t=function(t){var r=F.current,n=r.dragging,o=r.pageY,i=r.startTop;s.cancel(e);var u=C.current.getBoundingClientRect(),a=p/(m?u.width:u.height);if(n){var c=(L(t,m)-o)*a,l=i;!Y&&m?l-=c:l+=c;var f=G.current,v=J.current,h=v?l/v:0,g=Math.ceil(h*f);g=Math.max(g,0),g=Math.min(g,f),e=s((function(){d(g,m)}))}},r=function(){b(!1),v()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",r,{passive:!0}),window.addEventListener("touchend",r,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",r),window.removeEventListener("touchend",r),s.cancel(e)}}}),[y]),h.useEffect((function(){return O(),function(){clearTimeout(K.current)}}),[a]),h.useImperativeHandle(o,(function(){return{delayHidden:O}}));var Q="".concat(i,"-scrollbar"),U={position:"absolute",visibility:P?null:"hidden"},Z={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return m?(U.height=8,U.left=0,U.right=0,U.bottom=0,Z.height="100%",Z.width=g,Y?Z.left=W:Z.right=W):(U.width=8,U.top=0,U.bottom=0,Y?U.right=0:U.left=0,Z.width="100%",Z.height=g,Z.top=W),h.createElement("div",{ref:C,className:c(Q,t(t(t({},"".concat(Q,"-horizontal"),m),"".concat(Q,"-vertical"),!m),"".concat(Q,"-visible"),P)),style:e(e({},U),w),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:O},h.createElement("div",{ref:B,className:c("".concat(Q,"-thumb"),t({},"".concat(Q,"-thumb-moving"),y)),style:e(e({},Z),E),onMouseDown:q}))}));function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var z=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],_=[],D={overflowY:"auto",overflowAnchor:"none"};function k(i,u){var E=i.prefixCls,k=void 0===E?"rc-virtual-list":E,N=i.className,Y=i.height,C=i.itemHeight,B=i.fullHeight,j=void 0===B||B,I=i.style,P=i.data,X=i.children,K=i.itemKey,O=i.virtual,A=i.direction,V=i.scrollWidth,W=i.component,F=void 0===W?"div":W,q=i.onScroll,G=i.onVirtualScroll,J=i.onVisibleChange,Q=i.innerProps,U=i.extraRender,Z=i.styles,$=i.showScrollBar,ee=void 0===$?"optional":$,te=a(i,z),re=h.useCallback((function(e){return"function"==typeof K?K(e):null==e?void 0:e[K]}),[K]),ne=function(e){var t=h.useState(0),r=n(t,2),o=r[0],i=r[1],u=h.useRef(new Map),a=h.useRef(new S),c=h.useRef(0);function l(){c.current+=1}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l();var t=function(){var e=!1;u.current.forEach((function(t,r){if(t&&t.offsetParent){var n=f(t),o=n.offsetHeight,i=getComputedStyle(n),u=i.marginTop,c=i.marginBottom,l=o+y(u)+y(c);a.current.get(r)!==l&&(a.current.set(r,l),e=!0)}})),e&&i((function(e){return e+1}))};if(e)t();else{c.current+=1;var r=c.current;Promise.resolve().then((function(){r===c.current&&t()}))}}return h.useEffect((function(){return l}),[]),[function(t,r){var n=e(t);u.current.get(n),r?(u.current.set(n,r),s()):u.current.delete(n)},s,a.current,o]}(re),oe=n(ne,4),ie=oe[0],ue=oe[1],ae=oe[2],ce=oe[3],le=!(!1===O||!Y||!C),se=h.useMemo((function(){return Object.values(ae.maps).reduce((function(e,t){return e+t}),0)}),[ae.id,ae.maps]),fe=le&&P&&(Math.max(C*P.length,se)>Y||!!V),ve="rtl"===A,de=c(k,t({},"".concat(k,"-rtl"),ve),N),he=P||_,me=h.useRef(),ge=h.useRef(),pe=h.useRef(),we=h.useState(0),Ee=n(we,2),Re=Ee[0],Me=Ee[1],Se=h.useState(0),ye=n(Se,2),be=ye[0],xe=ye[1],Le=h.useState(!1),He=n(Le,2),Te=He[0],ze=He[1],_e=function(){ze(!0)},De=function(){ze(!1)},ke={getKey:re};function Ne(e){Me((function(t){var r=function(e){var t=e;Number.isNaN(Ze.current)||(t=Math.min(t,Ze.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return me.current.scrollTop=r,r}))}var Ye=h.useRef({start:0,end:he.length}),Ce=h.useRef(),Be=w(he,re),je=n(Be,1)[0];Ce.current=je;var Ie=h.useMemo((function(){if(!le)return{scrollHeight:void 0,start:0,end:he.length-1,offset:void 0};var e;if(!fe)return{scrollHeight:(null===(e=ge.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:he.length-1,offset:void 0};for(var t,r,n,o=0,i=he.length,u=0;u<i;u+=1){var a=he[u],c=re(a),l=ae.get(c),s=o+(void 0===l?C:l);s>=Re&&void 0===t&&(t=u,r=o),s>Re+Y&&void 0===n&&(n=u),o=s}return void 0===t&&(t=0,r=0,n=Math.ceil(Y/C)),void 0===n&&(n=he.length-1),{scrollHeight:o,start:t,end:n=Math.min(n+1,he.length-1),offset:r}}),[fe,le,Re,he,ce,Y]),Pe=Ie.scrollHeight,Xe=Ie.start,Ke=Ie.end,Oe=Ie.offset;Ye.current.start=Xe,Ye.current.end=Ke,h.useLayoutEffect((function(){var e=ae.getRecord();if(1===e.size){var t=Array.from(e)[0];if(re(he[Xe])===t){var r=ae.get(t)-C;Ne((function(e){return e+r}))}}ae.resetRecord()}),[Pe]);var Ae=h.useState({width:0,height:Y}),Ve=n(Ae,2),We=Ve[0],Fe=Ve[1],qe=h.useRef(),Ge=h.useRef(),Je=h.useMemo((function(){return T(We.width,V)}),[We.width,V]),Qe=h.useMemo((function(){return T(We.height,Pe)}),[We.height,Pe]),Ue=Pe-Y,Ze=h.useRef(Ue);Ze.current=Ue;var $e=Re<=0,et=Re>=Ue,tt=be<=0,rt=be>=V,nt=R($e,et,tt,rt),ot=function(){return{x:ve?-be:be,y:Re}},it=h.useRef(ot()),ut=d((function(t){if(G){var r=e(e({},ot()),t);it.current.x===r.x&&it.current.y===r.y||(G(r),it.current=r)}}));function at(e,t){var r=e;t?(m.flushSync((function(){xe(r)})),ut()):Ne(r)}var ct=function(e){var t=e,r=V?V-We.width:0;return t=Math.max(t,0),t=Math.min(t,r)},lt=d((function(e,t){t?(m.flushSync((function(){xe((function(t){return ct(t+(ve?-e:e))}))})),ut()):Ne((function(t){return t+e}))})),st=M(le,$e,et,tt,rt,!!V,lt),ft=n(st,2),vt=ft[0],dt=ft[1];!function(e,t,r){var n,o=h.useRef(!1),i=h.useRef(0),u=h.useRef(0),a=h.useRef(null),c=h.useRef(null),l=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),a=i.current-t,l=u.current-n,s=Math.abs(a)>Math.abs(l);s?i.current=t:u.current=n;var f=r(s,s?a:l,!1,e);f&&e.preventDefault(),clearInterval(c.current),f&&(c.current=setInterval((function(){s?a*=b:l*=b;var e=Math.floor(s?a:l);(!r(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},s=function(){o.current=!1,n()},f=function(e){n(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),u.current=Math.ceil(e.touches[0].pageY),a.current=e.target,a.current.addEventListener("touchmove",l,{passive:!1}),a.current.addEventListener("touchend",s,{passive:!0}))};n=function(){a.current&&(a.current.removeEventListener("touchmove",l),a.current.removeEventListener("touchend",s))},v((function(){return e&&t.current.addEventListener("touchstart",f,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",f),n(),clearInterval(c.current)}}),[e])}(le,me,(function(e,t,r,n){var o=n;return!nt(e,t,r)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),vt({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),function(e,t,r){h.useEffect((function(){var n=t.current;if(e&&n){var o,i,u=!1,a=function(){s.cancel(o)},c=function e(){a(),o=s((function(){r(i),e()}))},l=function(e){if(!e.target.draggable){var t=e;t._virtualHandled||(t._virtualHandled=!0,u=!0)}},f=function(){u=!1,a()},v=function(e){if(u){var t=L(e,!1),r=n.getBoundingClientRect(),o=r.top,l=r.bottom;t<=o?(i=-x(o-t),c()):t>=l?(i=x(t-l),c()):a()}};return n.addEventListener("mousedown",l),n.ownerDocument.addEventListener("mouseup",f),n.ownerDocument.addEventListener("mousemove",v),function(){n.removeEventListener("mousedown",l),n.ownerDocument.removeEventListener("mouseup",f),n.ownerDocument.removeEventListener("mousemove",v),a()}}}),[e])}(fe,me,(function(e){Ne((function(t){return t+e}))})),v((function(){function e(e){var t=$e&&e.detail<0,r=et&&e.detail>0;!le||t||r||e.preventDefault()}var t=me.current;return t.addEventListener("wheel",vt,{passive:!1}),t.addEventListener("DOMMouseScroll",dt,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",vt),t.removeEventListener("DOMMouseScroll",dt),t.removeEventListener("MozMousePixelScroll",e)}}),[le,$e,et]),v((function(){if(V){var e=ct(be);xe(e),ut({x:e})}}),[We.width,V]);var ht=function(){var e,t;null===(e=qe.current)||void 0===e||e.delayHidden(),null===(t=Ge.current)||void 0===t||t.delayHidden()},mt=function(t,r,i,u,a,c,l,f){var d=h.useRef(),m=h.useState(null),g=n(m,2),p=g[0],w=g[1];return v((function(){if(p&&p.times<10){if(!t.current)return void w((function(t){return e({},t)}));c();var n=p.targetAlign,o=p.originAlign,s=p.index,f=p.offset,v=t.current.clientHeight,d=!1,h=n,m=null;if(v){for(var g=n||o,E=0,R=0,M=0,S=Math.min(r.length-1,s),y=0;y<=S;y+=1){var b=a(r[y]);R=E;var x=i.get(b);E=M=R+(void 0===x?u:x)}for(var L="top"===g?f:v-f,H=S;H>=0;H-=1){var T=a(r[H]),z=i.get(T);if(void 0===z){d=!0;break}if((L-=z)<=0)break}switch(g){case"top":m=R-f;break;case"bottom":m=M-v+f;break;default:var _=t.current.scrollTop;R<_?h="top":M>_+v&&(h="bottom")}null!==m&&l(m),m!==p.lastTop&&(d=!0)}d&&w(e(e({},p),{},{times:p.times+1,targetAlign:h,lastTop:m}))}}),[p,t.current]),function(e){if(null!=e){if(s.cancel(d.current),"number"==typeof e)l(e);else if(e&&"object"===o(e)){var t,n=e.align;t="index"in e?e.index:r.findIndex((function(t){return a(t)===e.key}));var i=e.offset;w({times:0,index:t,offset:void 0===i?0:i,originAlign:n})}}else f()}}(me,he,ae,C,re,(function(){return ue(!0)}),Ne,ht);h.useImperativeHandle(u,(function(){return{nativeElement:pe.current,getScrollInfo:ot,scrollTo:function(e){var t;(t=e)&&"object"===o(t)&&("left"in t||"top"in t)?(void 0!==e.left&&xe(ct(e.left)),mt(e.top)):mt(e)}}})),v((function(){if(J){var e=he.slice(Xe,Ke+1);J(e,he)}}),[Xe,Ke,he]);var gt=function(e,t,r,o){var i=h.useMemo((function(){return[new Map,[]]}),[e,r.id,o]),u=n(i,2),a=u[0],c=u[1];return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,u=a.get(n),l=a.get(i);if(void 0===u||void 0===l)for(var s=e.length,f=c.length;f<s;f+=1){var v,d=e[f],h=t(d);a.set(h,f);var m=null!==(v=r.get(h))&&void 0!==v?v:o;if(c[f]=(c[f-1]||0)+m,h===n&&(u=f),h===i&&(l=f),void 0!==u&&void 0!==l)break}return{top:c[u-1]||0,bottom:c[l]}}}(he,re,ae,C),pt=null==U?void 0:U({start:Xe,end:Ke,virtual:fe,offsetX:be,offsetY:Oe,rtl:ve,getSize:gt}),wt=function(e,t,r,n,o,i,u,a){var c=a.getKey;return e.slice(t,r+1).map((function(e,r){var a=u(e,t+r,{style:{width:n},offsetX:o}),l=c(e);return h.createElement(p,{key:l,setRef:function(t){return i(e,t)}},a)}))}(he,Xe,Ke,V,be,ie,X,ke),Et=null;Y&&(Et=e(t({},j?"height":"maxHeight",Y),D),le&&(Et.overflowY="hidden",V&&(Et.overflowX="hidden"),Te&&(Et.pointerEvents="none")));var Rt={};return ve&&(Rt.dir="rtl"),h.createElement("div",r({ref:pe,style:e(e({},I),{},{position:"relative"}),className:de},Rt,te),h.createElement(l,{onResize:function(e){Fe({width:e.offsetWidth,height:e.offsetHeight})}},h.createElement(F,{className:"".concat(k,"-holder"),style:Et,ref:me,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==Re&&Ne(t),null==q||q(e),ut()},onMouseEnter:ht},h.createElement(g,{prefixCls:k,height:Pe,offsetX:be,offsetY:Oe,scrollWidth:V,onInnerResize:ue,ref:ge,innerProps:Q,rtl:ve,extra:pt},wt))),fe&&Pe>Y&&h.createElement(H,{ref:qe,prefixCls:k,scrollOffset:Re,scrollRange:Pe,rtl:ve,onScroll:at,onStartMove:_e,onStopMove:De,spinSize:Qe,containerSize:We.height,style:null==Z?void 0:Z.verticalScrollBar,thumbStyle:null==Z?void 0:Z.verticalScrollBarThumb,showScrollBar:ee}),fe&&V>We.width&&h.createElement(H,{ref:Ge,prefixCls:k,scrollOffset:be,scrollRange:V,rtl:ve,onScroll:at,onStartMove:_e,onStopMove:De,spinSize:Je,containerSize:We.width,horizontal:!0,style:null==Z?void 0:Z.horizontalScrollBar,thumbStyle:null==Z?void 0:Z.horizontalScrollBarThumb,showScrollBar:ee}))}var N=h.forwardRef(k);N.displayName="List";export{N as L};
