import{r as e}from"./react.a7da97a2.js";let t;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:global;let i=null,s=null;const n=t.clearTimeout,r=t.setTimeout,o=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame,a=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;function _(e){let n,r,o,a,_,l,d;const h="undefined"!=typeof document&&document.attachEvent;if(!h){l=function(e){const t=e.__resizeTriggers__,i=t.firstElementChild,s=t.lastElementChild,n=i.firstElementChild;s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight,n.style.width=i.offsetWidth+1+"px",n.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},_=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},d=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;l(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=s((function(){_(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(i){i.call(t,e)})))}))};let e=!1,t="";o="animationstart";const h="Webkit Moz O ms".split(" ");let c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{const i=document.createElement("fakeelement");if(void 0!==i.style.animationName&&(e=!0),!1===e)for(let s=0;s<h.length;s++)if(void 0!==i.style[h[s]+"AnimationName"]){g=h[s],t="-"+g.toLowerCase()+"-",o=c[s],e=!0;break}}r="resizeanim",n="@"+t+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",a=t+"animation: 1ms "+r+"; "}return{addResizeListener:function(i,s){if(h)i.attachEvent("onresize",s);else{if(!i.__resizeTriggers__){const s=i.ownerDocument,_=t.getComputedStyle(i);_&&"static"===_.position&&(i.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){const i=(n||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',s=t.head||t.getElementsByTagName("head")[0],r=t.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=i:r.appendChild(t.createTextNode(i)),s.appendChild(r)}}(s),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=s.createElement("div")).className="resize-triggers";const h=s.createElement("div");h.className="expand-trigger",h.appendChild(s.createElement("div"));const c=s.createElement("div");c.className="contract-trigger",i.__resizeTriggers__.appendChild(h),i.__resizeTriggers__.appendChild(c),i.appendChild(i.__resizeTriggers__),l(i),i.addEventListener("scroll",d,!0),o&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&l(i)},i.__resizeTriggers__.addEventListener(o,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(s)}},removeResizeListener:function(e,t){if(h)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",d,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(o,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(i){}}}}}null==o||null==a?(i=n,s=function(e){return r(e,20)}):(i=function([e,t]){o(e),n(t)},s=function(e){const t=a((function(){n(i),e()})),i=r((function(){o(t),e()}),20);return[t,i]});class l extends e.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:i}=this.props;if(this._parentNode){var s,n,r,o;const a=window.getComputedStyle(this._parentNode)||{},_=parseFloat(null!==(s=a.paddingLeft)&&void 0!==s?s:"0"),l=parseFloat(null!==(n=a.paddingRight)&&void 0!==n?n:"0"),d=parseFloat(null!==(r=a.paddingTop)&&void 0!==r?r:"0"),h=parseFloat(null!==(o=a.paddingBottom)&&void 0!==o?o:"0"),c=this._parentNode.getBoundingClientRect(),g=c.height-d-h,m=c.width-_-l,u=this._parentNode.offsetHeight-d-h,f=this._parentNode.offsetWidth-_-l;(e||this.state.height===u&&this.state.scaledHeight===g)&&(t||this.state.width===f&&this.state.scaledWidth===m)||(this.setState({height:u,width:f,scaledHeight:g,scaledWidth:m}),"function"==typeof i&&i({height:u,scaledHeight:g,scaledWidth:m,width:f}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!=typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=_(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:i,defaultWidth:s,disableHeight:n=!1,disableWidth:r=!1,nonce:o,onResize:a,style:_={},tagName:l="div",...d}=this.props,{height:h,scaledHeight:c,scaledWidth:g,width:m}=this.state,u={overflow:"visible"},f={};let p=!1;return n||(0===h&&(p=!0),u.height=0,f.height=h,f.scaledHeight=c),r||(0===m&&(p=!0),u.width=0,f.width=m,f.scaledWidth=g),e.createElement(l,{ref:this._setRef,style:{...u,..._},...d},!p&&t(f))}}export{l as A};
