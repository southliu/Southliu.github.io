import{g as e,f as t,h as n,k as o,j as r,i as l}from"./@babel_runtime@7.28.3.BsXYqacS.js";import{r as a,e as i}from"./react@19.1.1.DFOJwFPq.js";import{P as c}from"./@rc-component_portal@1.1.2__12f016ef3dd10f3f947eb4a97a9aa58d.CajYm7IY.js";import{T as s}from"./@rc-component_trigger@2.3.0_98a5ef371ed9a77c6843246644ee9b58.BREfuzzF.js";import{c as u}from"./classnames@2.5.1.DzaQuX-8.js";import{a as f,e as d,k as m,p,f as h}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.Cptqj8wH.js";function v(e){return null!==e&&"object"===t(e)}function g(t,n,o){if(!1===t||!1===n&&(!v(t)||!t.closeIcon))return null;var r,l="boolean"!=typeof n?n:void 0;return v(t)?e(e({},t),{},{closeIcon:null!==(r=t.closeIcon)&&void 0!==r?r:l}):o||t||n?{closeIcon:l}:"empty"}function b(e,t,o,r){var l=a.useState(void 0),i=n(l,2),c=i[0],s=i[1];f(function(){var t="function"==typeof e?e():e;s(t||null)});var u=a.useState(null),m=n(u,2),p=m[0],h=m[1],v=d(function(){if(c){!function(e){var t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),r=o.top,l=o.right,a=o.bottom,i=o.left;return r>=0&&i>=0&&l<=t&&a<=n}(c)&&t&&c.scrollIntoView(r);var e=c.getBoundingClientRect(),n={left:e.left,top:e.top,width:e.width,height:e.height,radius:0};h(function(e){return JSON.stringify(e)!==JSON.stringify(n)?n:e})}else h(null)}),g=function(e){var t;return null!==(t=Array.isArray(null==o?void 0:o.offset)?null==o?void 0:o.offset[e]:null==o?void 0:o.offset)&&void 0!==t?t:6};return f(function(){return v(),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}},[c,t,v]),[a.useMemo(function(){if(!p)return p;var e,t=g(0),n=g(1),r="number"!=typeof(e=null==o?void 0:o.radius)||Number.isNaN(e)?2:null==o?void 0:o.radius;return{left:p.left-t,top:p.top-n,width:p.width+2*t,height:p.height+2*n,radius:r}},[p,o]),c]}var E={fill:"transparent",pointerEvents:"auto"},w=function(n){var r=n.prefixCls,l=n.rootClassName,a=n.pos,s=n.showMask,f=n.style,d=void 0===f?{}:f,p=n.fill,h=void 0===p?"rgba(0,0,0,0.5)":p,v=n.open,g=n.animated,b=n.zIndex,w=n.disabledInteraction,y=m(),N="".concat(r,"-mask-").concat(y),x="object"===t(g)?null==g?void 0:g.placeholder:g,C="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return i.createElement(c,{open:v,autoLock:!0},i.createElement("div",{className:u("".concat(r,"-mask"),l),style:e({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:b,pointerEvents:a&&!w?"none":"auto"},d)},s?i.createElement("svg",{style:{width:"100%",height:"100%"}},i.createElement("defs",null,i.createElement("mask",{id:N},i.createElement("rect",o({x:"0",y:"0"},C,{fill:"white"})),a&&i.createElement("rect",{x:a.left,y:a.top,rx:a.radius,width:a.width,height:a.height,fill:"black",className:x?"".concat(r,"-placeholder-animated"):""}))),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:h,mask:"url(#".concat(N,")")}),a&&i.createElement(i.Fragment,null,i.createElement("rect",o({},E,{x:"0",y:"0",width:"100%",height:a.top})),i.createElement("rect",o({},E,{x:"0",y:"0",width:a.left,height:"100%"})),i.createElement("rect",o({},E,{x:"0",y:a.top+a.height,width:"100%",height:"calc(100vh - ".concat(a.top+a.height,"px)")})),i.createElement("rect",o({},E,{x:a.left+a.width,y:"0",width:"calc(100vw - ".concat(a.left+a.width,"px)"),height:"100%"})))):null))},y=[0,0],N={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function x(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n={};return Object.keys(N).forEach(function(o){n[o]=e(e({},N[o]),{},{autoArrow:t,targetOffset:y})}),n}function C(e){var t,n=e.prefixCls,l=e.current,i=e.total,c=e.title,s=e.description,f=e.onClose,d=e.onPrev,m=e.onNext,h=e.onFinish,v=e.className,g=e.closable,b=p(g||{},!0),E=null!==(t=null==g?void 0:g.closeIcon)&&void 0!==t?t:a.createElement("span",{className:"".concat(n,"-close-x")},"Ã—"),w=!!g;return a.createElement("div",{className:u("".concat(n,"-content"),v)},a.createElement("div",{className:"".concat(n,"-inner")},w&&a.createElement("button",o({type:"button",onClick:f,"aria-label":"Close"},b,{className:"".concat(n,"-close")}),E),a.createElement("div",{className:"".concat(n,"-header")},a.createElement("div",{className:"".concat(n,"-title")},c)),a.createElement("div",{className:"".concat(n,"-description")},s),a.createElement("div",{className:"".concat(n,"-footer")},a.createElement("div",{className:"".concat(n,"-sliders")},i>1?r(Array.from({length:i}).keys()).map(function(e,t){return a.createElement("span",{key:e,className:t===l?"active":""})}):null),a.createElement("div",{className:"".concat(n,"-buttons")},0!==l?a.createElement("button",{className:"".concat(n,"-prev-btn"),onClick:d},"Prev"):null,l===i-1?a.createElement("button",{className:"".concat(n,"-finish-btn"),onClick:h},"Finish"):a.createElement("button",{className:"".concat(n,"-next-btn"),onClick:m},"Next")))))}x();var k=function(e){var t=e.current,n=e.renderPanel;return a.createElement(a.Fragment,null,"function"==typeof n?n(e,t):a.createElement(C,e))},I=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],P={left:"50%",top:"50%",width:1,height:1},j={block:"center",inline:"center"},_=function(r){var i=r.prefixCls,d=void 0===i?"rc-tour":i,m=r.steps,p=void 0===m?[]:m,v=r.defaultCurrent,E=r.current,y=r.onChange,N=r.onClose,C=r.onFinish,_=r.open,O=r.mask,z=void 0===O||O,A=r.arrow,F=void 0===A||A,R=r.rootClassName,S=r.placement,L=r.renderPanel,M=r.gap,V=r.animated,T=r.scrollIntoViewOptions,B=void 0===T?j:T,H=r.zIndex,D=void 0===H?1001:H,J=r.closeIcon,W=r.closable,G=r.builtinPlacements,q=r.disabledInteraction,K=l(r,I),Q=a.useRef(),U=h(0,{value:E,defaultValue:v}),X=n(U,2),Y=X[0],Z=X[1],$=h(void 0,{value:_,postState:function(e){return!(Y<0||Y>=p.length)&&(null==e||e)}}),ee=n($,2),te=ee[0],ne=ee[1],oe=a.useState(te),re=n(oe,2),le=re[0],ae=re[1],ie=a.useRef(te);f(function(){te&&(ie.current||Z(0),ae(!0)),ie.current=te},[te]);var ce=p[Y]||{},se=ce.target,ue=ce.placement,fe=ce.style,de=ce.arrow,me=ce.className,pe=ce.mask,he=ce.scrollIntoViewOptions,ve=void 0===he?j:he,ge=ce.closeIcon,be=function(e,t,n,o){return a.useMemo(function(){var r=g(e,t,!1),l=g(n,o,!0);return"empty"!==r?r:l},[n,o,e,t])}(ce.closable,ge,W,J),Ee=te&&(null!=pe?pe:z),we=b(se,_,M,null!=ve?ve:B),ye=n(we,2),Ne=ye[0],xe=ye[1],Ce=function(e,t,n){var o;return null!==(o=null!=n?n:t)&&void 0!==o?o:null===e?"center":"bottom"}(xe,S,ue),ke=!!xe&&(void 0===de?F:de),Ie="object"===t(ke)&&ke.pointAtCenter;f(function(){var e;null===(e=Q.current)||void 0===e||e.forceAlign()},[Ie,Y]);var Pe=function(e){Z(e),null==y||y(e)},je=a.useMemo(function(){return G?"function"==typeof G?G({arrowPointAtCenter:Ie}):G:x(Ie)},[G,Ie]);if(void 0===xe||!le)return null;var _e=function(){ne(!1),null==N||N(Y)},Oe="boolean"==typeof Ee?Ee:!!Ee,ze="boolean"==typeof Ee?void 0:Ee;return a.createElement(a.Fragment,null,a.createElement(w,{zIndex:D,prefixCls:d,pos:Ne,showMask:Oe,style:null==ze?void 0:ze.style,fill:null==ze?void 0:ze.color,open:te,animated:V,rootClassName:R,disabledInteraction:q}),a.createElement(s,o({},K,{builtinPlacements:je,ref:Q,popupStyle:fe,popupPlacement:Ce,popupVisible:te,popupClassName:u(R,me),prefixCls:d,popup:function(){return a.createElement(k,o({arrow:ke,key:"content",prefixCls:d,total:p.length,renderPanel:L,onPrev:function(){Pe(Y-1)},onNext:function(){Pe(Y+1)},onClose:_e,current:Y,onFinish:function(){_e(),null==C||C()}},p[Y],{closable:be}))},forceRender:!1,destroyPopupOnHide:!0,zIndex:D,getTriggerDOMNode:function(e){return e||xe||document.body},arrow:!!ke}),a.createElement(c,{open:te,autoLock:!0},a.createElement("div",{className:u(R,"".concat(d,"-target-placeholder")),style:e(e({},Ne||P),{},{position:"fixed",pointerEvents:"none"})}))))};export{_ as T};
