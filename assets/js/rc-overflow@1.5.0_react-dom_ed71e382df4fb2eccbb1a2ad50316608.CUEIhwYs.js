import{m as e,i as r,g as n,h as t}from"./@babel_runtime@7.28.4.CP2Urufz.js";import{r as i,e as a}from"./react@19.2.1.BpVBN_43.js";import{c as s}from"./classnames@2.5.1.BUu94-of.js";import{R as o}from"./rc-resize-observer@1.4.3_re_c0cf11ef3da119c6ddb3f7bd78b08bbc.DMlIDS1j.js";import{w as l,u as c,a as u}from"./rc-util@5.44.4_react-dom@19.2.1_react@19.2.1__react@19.2.1.BW05PQVc.js";import{r as f}from"./react-dom@19.2.1_react@19.2.1.BLi5rGn2.js";var m=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function v(t,a){var l=t.prefixCls,c=t.invalidate,u=t.item,f=t.renderItem,v=t.responsive,p=t.responsiveDisabled,y=t.registerSize,b=t.itemKey,h=t.className,E=t.style,g=t.children,N=t.display,R=t.order,x=t.component,C=void 0===x?"div":x,w=e(t,m),I=v&&!N;function S(e){y(b,e)}i.useEffect(function(){return function(){S(null)}},[]);var _,M=f&&u!==d?f(u,{index:R}):g;c||(_={opacity:I?0:1,height:I?0:d,overflowY:I?"hidden":d,order:v?R:d,pointerEvents:I?"none":d,position:I?"absolute":d});var z={};I&&(z["aria-hidden"]=!0);var k=i.createElement(C,r({className:s(!c&&l,h),style:n(n({},_),E)},z,w,{ref:a}),M);return v&&(k=i.createElement(o,{onResize:function(e){S(e.offsetWidth)},disabled:p},k)),k}var p=i.forwardRef(v);function y(){var e=i.useRef(null);return function(r){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)l(e);else{var r=new MessageChannel;r.port1.onmessage=function(){return e()},r.port2.postMessage(void 0)}}(function(){f.unstable_batchedUpdates(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(r)}}function b(e,r){var n=i.useState(r),a=t(n,2),s=a[0],o=a[1];return[s,c(function(r){e(function(){o(r)})})]}p.displayName="Item";var h=a.createContext(null),E=["component"],g=["className"],N=["className"],R=function(n,t){var a=i.useContext(h);if(!a){var o=n.component,l=void 0===o?"div":o,c=e(n,E);return i.createElement(l,r({},c,{ref:t}))}var u=a.className,f=e(a,g),m=n.className,d=e(n,N);return i.createElement(h.Provider,{value:null},i.createElement(p,r({ref:t,className:s(u,m)},f,d)))},x=i.forwardRef(R);x.displayName="RawItem";var C=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],w="responsive",I="invalidate";function S(e){return"+ ".concat(e.length," ...")}function _(a,l){var c=a.prefixCls,f=void 0===c?"rc-overflow":c,m=a.data,d=void 0===m?[]:m,v=a.renderItem,E=a.renderRawItem,g=a.itemKey,N=a.itemWidth,R=void 0===N?10:N,x=a.ssr,_=a.style,M=a.className,z=a.maxCount,k=a.renderRest,j=a.renderRawRest,A=a.prefix,K=a.suffix,D=a.component,P=void 0===D?"div":D,V=a.itemComponent,W=a.onVisibleChange,F=e(a,C),T="full"===x,G=y(),O=b(G,null),X=t(O,2),L=X[0],U=X[1],Y=L||0,q=b(G,new Map),B=t(q,2),H=B[0],J=B[1],Q=b(G,0),Z=t(Q,2),$=Z[0],ee=Z[1],re=b(G,0),ne=t(re,2),te=ne[0],ie=ne[1],ae=b(G,0),se=t(ae,2),oe=se[0],le=se[1],ce=b(G,0),ue=t(ce,2),fe=ue[0],me=ue[1],de=i.useState(null),ve=t(de,2),pe=ve[0],ye=ve[1],be=i.useState(null),he=t(be,2),Ee=he[0],ge=he[1],Ne=i.useMemo(function(){return null===Ee&&T?Number.MAX_SAFE_INTEGER:Ee||0},[Ee,L]),Re=i.useState(!1),xe=t(Re,2),Ce=xe[0],we=xe[1],Ie="".concat(f,"-item"),Se=Math.max($,te),_e=z===w,Me=d.length&&_e,ze=z===I,ke=Me||"number"==typeof z&&d.length>z,je=i.useMemo(function(){var e=d;return Me?e=null===L&&T?d:d.slice(0,Math.min(d.length,Y/R)):"number"==typeof z&&(e=d.slice(0,z)),e},[d,R,L,z,Me]),Ae=i.useMemo(function(){return Me?d.slice(Ne+1):d.slice(je.length)},[d,je,Me,Ne]),Ke=i.useCallback(function(e,r){var n;return"function"==typeof g?g(e):null!==(n=g&&(null==e?void 0:e[g]))&&void 0!==n?n:r},[g]),De=i.useCallback(v||function(e){return e},[v]);function Pe(e,r,n){(Ee!==e||void 0!==r&&r!==pe)&&(ge(e),n||(we(e<d.length-1),null==W||W(e)),void 0!==r&&ye(r))}function Ve(e,r){J(function(n){var t=new Map(n);return null===r?t.delete(e):t.set(e,r),t})}function We(e){return H.get(Ke(je[e],e))}u(function(){if(Y&&"number"==typeof Se&&je){var e=oe+fe,r=je.length,n=r-1;if(!r)return void Pe(0,null);for(var t=0;t<r;t+=1){var i=We(t);if(T&&(i=i||0),void 0===i){Pe(t-1,void 0,!0);break}if(e+=i,0===n&&e<=Y||t===n-1&&e+We(n)<=Y){Pe(n,null);break}if(e+Se>Y){Pe(t-1,e-i-fe+te);break}}K&&We(0)+fe>Y&&ye(null)}},[Y,H,te,oe,fe,Ke,je]);var Fe=Ce&&!!Ae.length,Te={};null!==pe&&Me&&(Te={position:"absolute",left:pe,top:0});var Ge={prefixCls:Ie,responsive:Me,component:V,invalidate:ze},Oe=E?function(e,r){var t=Ke(e,r);return i.createElement(h.Provider,{key:t,value:n(n({},Ge),{},{order:r,item:e,itemKey:t,registerSize:Ve,display:r<=Ne})},E(e,r))}:function(e,n){var t=Ke(e,n);return i.createElement(p,r({},Ge,{order:n,key:t,item:e,renderItem:De,itemKey:t,registerSize:Ve,display:n<=Ne}))},Xe={order:Fe?Ne:Number.MAX_SAFE_INTEGER,className:"".concat(Ie,"-rest"),registerSize:function(e,r){ie(r),ee(te)},display:Fe},Le=k||S,Ue=j?i.createElement(h.Provider,{value:n(n({},Ge),Xe)},j(Ae)):i.createElement(p,r({},Ge,Xe),"function"==typeof Le?Le(Ae):Le),Ye=i.createElement(P,r({className:s(!ze&&f,M),style:_,ref:l},F),A&&i.createElement(p,r({},Ge,{responsive:_e,responsiveDisabled:!Me,order:-1,className:"".concat(Ie,"-prefix"),registerSize:function(e,r){le(r)},display:!0}),A),je.map(Oe),ke?Ue:null,K&&i.createElement(p,r({},Ge,{responsive:_e,responsiveDisabled:!Me,order:Ne,className:"".concat(Ie,"-suffix"),registerSize:function(e,r){me(r)},display:!0,style:Te}),K));return _e?i.createElement(o,{onResize:function(e,r){U(r.clientWidth)},disabled:!Me},Ye):Ye}var M=i.forwardRef(_);M.displayName="Overflow",M.Item=x,M.RESPONSIVE=w,M.INVALIDATE=I;export{M as F};
