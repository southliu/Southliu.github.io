import{r as t}from"./react@19.1.0.Bf1nU3Xp.js";import{c as e}from"./classnames@2.5.1.D0YHNMe_.js";import{h as r,f as a,g as o,i as c,k as n}from"./@babel_runtime@7.28.2.ESkOsrAB.js";import{c as s}from"./rc-util@5.44.4_react-dom@19.1.0_react@19.1.0__react@19.1.0.cDkafaIC.js";var i={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},l=0,u=s();const f=function(e){var a=t.useState(),o=r(a,2),c=o[0],n=o[1];return t.useEffect(function(){var t;n("rc_progress_".concat((u?(t=l,l+=1):t="TEST_OR_SSR",t)))},[]),e||c};var p=function(e){var r=e.bg,a=e.children;return t.createElement("div",{style:{width:"100%",height:"100%",background:r}},a)};function d(t,e){return Object.keys(t).map(function(r){var a=parseFloat(r),o="".concat(Math.floor(a*e),"%");return"".concat(t[r]," ").concat(o)})}var g=t.forwardRef(function(e,r){var o=e.prefixCls,c=e.color,n=e.gradientId,s=e.radius,i=e.style,l=e.ptg,u=e.strokeLinecap,f=e.strokeWidth,g=e.size,m=e.gapDegree,k=c&&"object"===a(c),h=k?"#FFF":void 0,v=g/2,y=t.createElement("circle",{className:"".concat(o,"-circle-path"),r:s,cx:v,cy:v,stroke:h,strokeLinecap:u,strokeWidth:f,opacity:0===l?0:1,style:i,ref:r});if(!k)return y;var b="".concat(n,"-conic"),E=m?"".concat(180+m/2,"deg"):"0deg",x=d(c,(360-m)/360),D=d(c,1),j="conic-gradient(from ".concat(E,", ").concat(x.join(", "),")"),C="linear-gradient(to ".concat(m?"bottom":"top",", ").concat(D.join(", "),")");return t.createElement(t.Fragment,null,t.createElement("mask",{id:b},y),t.createElement("foreignObject",{x:0,y:0,width:g,height:g,mask:"url(#".concat(b,")")},t.createElement(p,{bg:C},t.createElement(p,{bg:j}))))}),m=100,k=function(t,e,r,a,o,c,n,s,i,l){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,f=r/100*360*((360-c)/360),p=0===c?0:{bottom:0,top:180,left:90,right:-90}[n],d=(100-a)/100*e;"round"===i&&100!==a&&(d+=l/2)>=e&&(d=e-.01);return{stroke:"string"==typeof s?s:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:d+u,transform:"rotate(".concat(o+f+p,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},h=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function v(t){var e=null!=t?t:[];return Array.isArray(e)?e:[e]}var y=function(r){var s,l,u,p,d,y=o(o({},i),r),b=y.id,E=y.prefixCls,x=y.steps,D=y.strokeWidth,j=y.trailWidth,C=y.gapDegree,W=void 0===C?0:C,_=y.gapPosition,w=y.trailColor,L=y.strokeLinecap,N=y.style,F=y.className,O=y.strokeColor,R=y.percent,P=c(y,h),S=f(b),A="".concat(S,"-gradient"),I=50-D/2,M=2*Math.PI*I,z=W>0?90+W/2:-90,T=M*((360-W)/360),B="object"===a(x)?x:{count:x,gap:2},q=B.count,G=B.gap,H=v(R),J=v(O),K=J.find(function(t){return t&&"object"===a(t)}),Q=K&&"object"===a(K)?"butt":L,U=k(M,T,0,100,z,W,_,w,Q,D),V=(s=t.useRef([]),l=t.useRef(null),t.useEffect(function(){var t=Date.now(),e=!1;s.current.forEach(function(r){if(r){e=!0;var a=r.style;a.transitionDuration=".3s, .3s, .3s, .06s",l.current&&t-l.current<100&&(a.transitionDuration="0s, 0s")}}),e&&(l.current=Date.now())}),s.current);return t.createElement("svg",n({className:e("".concat(E,"-circle"),F),viewBox:"0 0 ".concat(m," ").concat(m),style:N,id:b,role:"presentation"},P),!q&&t.createElement("circle",{className:"".concat(E,"-circle-trail"),r:I,cx:50,cy:50,stroke:w,strokeLinecap:Q,strokeWidth:j||D,style:U}),q?(u=Math.round(q*(H[0]/100)),p=100/q,d=0,new Array(q).fill(null).map(function(e,r){var o=r<=u-1?J[0]:w,c=o&&"object"===a(o)?"url(#".concat(A,")"):void 0,n=k(M,T,d,p,z,W,_,o,"butt",D,G);return d+=100*(T-n.strokeDashoffset+G)/T,t.createElement("circle",{key:r,className:"".concat(E,"-circle-path"),r:I,cx:50,cy:50,stroke:c,strokeWidth:D,opacity:1,style:n,ref:function(t){V[r]=t}})})):function(){var e=0;return H.map(function(r,a){var o=J[a]||J[J.length-1],c=k(M,T,e,r,z,W,_,o,Q,D);return e+=r,t.createElement(g,{key:a,color:o,ptg:r,radius:I,prefixCls:E,gradientId:A,style:c,strokeLinecap:Q,strokeWidth:D,gapDegree:W,ref:function(t){V[a]=t},size:m})}).reverse()}())};export{y as C};
