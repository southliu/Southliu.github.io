!function(){var t=["spanId","traceId","traceFlags"];function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function s(e,a,i,o){var s=a&&a.prototype instanceof c?a:c,l=Object.create(s.prototype);return n(l,"_invoke",function(e,n,a){var i,o,s,c=0,l=a||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,o=0,s=t,d.n=n,u}};function p(e,n){for(o=e,s=n,r=0;!f&&c&&!a&&r<l.length;r++){var a,i=l[r],p=d.p,v=i[2];e>3?(a=v===n)&&(s=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=t):i[0]<=p&&((a=e<2&&p<i[1])?(o=0,d.v=n,d.n=i[1]):p<v&&(a=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,d.n=v,o=0))}if(a||e>1)return u;throw f=!0,n}return function(a,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),o=l,s=v;(r=o<2?t:s)||!f;){i||(o?o<3?(o>1&&(d.n=-1),p(o,s)):d.n=s:d.v=s);try{if(c=2,i){if(o||(a="next"),r=i[a]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,o<2&&(o=0)}else 1===o&&(r=i.return)&&r.call(i),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=t}else if((r=(f=d.n<0)?s:e.call(n,d))!==u)break}catch(r){i=t,o=1,s=r}finally{c=1}}return{value:r,done:f}}}(e,i,o),!0),l}var u={};function c(){}function l(){}function f(){}r=Object.getPrototypeOf;var d=[][i]?r(r([][i]())):(n(r={},i,function(){return this}),r),p=f.prototype=c.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=f,n(p,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,o,"GeneratorFunction"),n(p),n(p,o,"Generator"),n(p,i,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:v}})()}function n(t,e,r,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}n=function(t,e,r,a){function o(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r:(o("next",0),o("throw",1),o("return",2))},n(t,e,r,a)}function r(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,u,"next",t)}function u(t){r(o,a,i,s,u,"throw",t)}s(void 0)})}}function i(t,e){return s(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,a=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(t,e)||y(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){if(Array.isArray(t))return t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){v(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function v(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}function g(t){return function(t){if(Array.isArray(t))return b(t)}(t)||m(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function y(t,e){if(t){if("string"==typeof t)return b(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}System.register([],function(n,r){"use strict";return{execute:function(){n({$:function(t,e,n,r,a,i){var o;if(null===(o=a.exception)||void 0===o||!o.values||!i||!ot(i.originalException,Error))return;var s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=na(t,e,r,i.originalException,n,a.exception.values,s,0))},A:N,B:pr,D:function(t){var e="console";z(e,t),J(e,oa)},E:function(t,e){var n="fetch";z(n,t),J(n,function(){return ha(void 0,e)})},H:pt,I:function(t){if(!ft.HTMLElement)return null;for(var e=t,n=0;n<5;n++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null},J:function(t,e){var n=ee(),r=Xt();if(!n)return;var a=n.getOptions(),i=a.beforeBreadcrumb,o=void 0===i?null:i,s=a.maxBreadcrumbs,u=void 0===s?Kr:s;if(u<=0)return;var c=p({timestamp:Rt()},t),l=o?x(function(){return o(c,e)}):c;if(null===l)return;n.emit&&n.emit("beforeAddBreadcrumb",l,e);r.addBreadcrumb(l,u)},K:function(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0},L:function(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}},M:jt,N:function(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var a=t[r];try{st(a)?n.push(F(a)):n.push(String(a))}catch(i){n.push("[value cannot be serialized]")}}return n.join(e)},O:function(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"},P:ht,Q:L,R:function(t){var e=Xt(),n=Qt(),r=(c.navigator||{}).userAgent,a=function(t){var e=Mt(),n={sid:Ot(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(t){return{sid:"".concat(t.sid),init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?"".concat(t.did):void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(n)}};t&&Ut(n,t);return n}(p(p({user:n.getUser()||e.getUser()},r&&{userAgent:r}),t)),i=e.getSession();"ok"===(null==i?void 0:i.status)&&Ut(i,{status:"exited"});return sr(),e.setSession(a),a},S:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return void sr();ur()},T:$,V:function(t,e){return Qt().captureEvent(t,e)},W:V,X:nt,Y:tt,Z:$r,_:function(t){if(function(t){return Q(t)&&"__sentry_fetch_url_host__"in t&&"string"==typeof t.__sentry_fetch_url_host__}(t))return"".concat(t.message," (").concat(t.__sentry_fetch_url_host__,")");return t.message},a:_t,a$:gn,a0:x,a1:function(t){var e,n=t.defaultIntegrations||[],r=t.integrations;if(n.forEach(function(t){t.isDefaultInstance=!0}),Array.isArray(r))e=[].concat(g(n),g(r));else if("function"==typeof r){var a=r(n);e=Array.isArray(a)?a:[a]}else e=n;return function(t){var e={};return t.forEach(function(t){var n=t.name,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)}),Object.values(e)}(e)},a2:function(t){if(Array.isArray(t))return N.apply(void 0,g(t));return t},a3:function(t,e){!0===e.debug&&(r?A.enable():x(function(){}));Qt().update(e.initialScope);var n=new t(e);return zr(n),n.init(),n},a8:function(t){var e="fetch-body-resolved";z(e,t),J(e,function(){return ha(ma)})},a9:function(t,e,n,r,a){if(!t.fetchData)return;var i=t.fetchData,o=i.method,s=i.url,u=en()&&e(s);if(t.endTimestamp&&u){var c=t.fetchData.__span;if(!c)return;var l=r[c];return void(l&&(!function(t,e){if(e.response){var n;ge(t,e.response.status);var r=null===(n=e.response)||void 0===n||null===(n=n.headers)||void 0===n?void 0:n.get("content-length");if(r){var a=parseInt(r);a>0&&t.setAttribute("http.response_content_length",a)}}else e.error&&t.setStatus({code:he,message:"internal_error"});t.end()}(l,t),function(t,e,n){var r,a="object"===f(n)&&null!==n?n.onRequestSpanEnd:void 0;null==a||a(t,{headers:null===(r=e.response)||void 0===r?void 0:r.headers,error:e.error})}(l,t,a),delete r[c]))}var d="object"===f(a)?a:{spanOrigin:a},v=d.spanOrigin,h=void 0===v?"auto.http.browser":v,m=d.propagateTraceparent,_=void 0!==m&&m,y=!!Qe(),b=u&&y?Nn(function(t,e,n){if(t.startsWith("data:")){var r=$r(t);return{name:"".concat(e," ").concat(r),attributes:fa(t,void 0,e,n)}}var a=Hr(t),i=a?function(t){if(Gr(t))return t.pathname;var e=new URL(t);e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port="");e.password&&(e.password="%filtered%");e.username&&(e.username="%filtered%");return e.toString()}(a):t;return{name:"".concat(e," ").concat(i),attributes:fa(t,a,e,n)}}(s,o,h)):new pn;if(t.fetchData.__span=b.spanContext().spanId,r[b.spanContext().spanId]=b,n(t.fetchData.url)){var S=t.args[0],k=p({},t.args[1]||{}),E=function(t,e,n,r){var a=qr({span:n,propagateTraceparent:r}),i=a["sentry-trace"],o=a.baggage,s=a.traceparent;if(!i)return;var u=e.headers||(ut(t)?t.headers:void 0);if(u){if(function(t){return"undefined"!=typeof Headers&&ot(t,Headers)}(u)){var c=new Headers(u);if(c.get("sentry-trace")||c.set("sentry-trace",i),r&&s&&!c.get("traceparent")&&c.set("traceparent",s),o){var l=c.get("baggage");l?la(l)||c.set("baggage","".concat(l,",").concat(o)):c.set("baggage",o)}return c}if(Array.isArray(u)){var f=g(u);u.find(function(t){return"sentry-trace"===t[0]})||f.push(["sentry-trace",i]),r&&s&&!u.find(function(t){return"traceparent"===t[0]})&&f.push(["traceparent",s]);var d=u.find(function(t){return"baggage"===t[0]&&la(t[1])});return o&&!d&&f.push(["baggage",o]),f}var v="sentry-trace"in u?u["sentry-trace"]:void 0,h="traceparent"in u?u.traceparent:void 0,m="baggage"in u?u.baggage:void 0,_=m?Array.isArray(m)?g(m):[m]:[],y=m&&(Array.isArray(m)?m.find(function(t){return la(t)}):la(m));o&&!y&&_.push(o);var b=p(p({},u),{},{"sentry-trace":null!=v?v:i,baggage:_.length>0?_.join(","):void 0});return r&&s&&!h&&(b.traceparent=s),b}return p({},a)}(S,k,en()&&y?b:void 0,_);E&&(t.args[1]=k,k.headers=E)}var w=ee();if(w){var x={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};w.emit("beforeOutgoingRequestSpan",b,x)}return b},aA:Rt,aB:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new Map,i=!1,u=Hn,c=!n.disableAutoFinish,l=[],f=n.idleTimeout,d=void 0===f?Wn.idleTimeout:f,v=n.finalTimeout,h=void 0===v?Wn.finalTimeout:v,_=n.childSpanTimeout,S=void 0===_?Wn.childSpanTimeout:_,k=n.beforeSpanEnd,E=n.trimIdleSpanEndTimestamp,w=void 0===E||E,x=ee();if(!x||!en()){var I=new pn;return cn(I,p({sample_rate:"0",sampled:"false"},dn(I))),I}var T=Qt(),O=Qe(),j=function(t){var e=Nn(t);return Jt(Qt(),e),r&&A.log("[Tracing] Started span is an idle span"),e}(t);function P(){e&&(clearTimeout(e),e=void 0)}function C(t){P(),e=setTimeout(function(){!i&&0===a.size&&c&&(u=Jn,j.end(t))},d)}function D(t){e=setTimeout(function(){!i&&c&&(u=zn,j.end(t))},S)}function N(t){i=!0,a.clear(),l.forEach(function(t){return t()}),Jt(T,O);var e=Ge(j);if(e.start_timestamp){e.data[se]||j.setAttribute(se,u);var n=e.status;n&&"unknown"!==n||j.setStatus({code:ve}),A.log('[Tracing] Idle span "'.concat(e.op,'" finished'));var o=Ke(j).filter(function(t){return t!==j}),s=0;o.forEach(function(e){e.isRecording()&&(e.setStatus({code:he,message:"cancelled"}),e.end(t),r&&A.log("[Tracing] Cancelling span since span ended early",JSON.stringify(e,void 0,2)));var n=Ge(e),a=n.timestamp,i=void 0===a?0:a,o=n.start_timestamp,u=void 0===o?0:o,c=u<=t,l=i-u<=(h+d)/1e3;if(r){var f=JSON.stringify(e,void 0,2);c?l||A.log("[Tracing] Discarding span since it finished after idle span final timeout",f):A.log("[Tracing] Discarding span since it happened after idle span was finished",f)}l&&c||(!function(t,e){t[Ye]&&t[Ye].delete(e)}(j,e),s++)}),s>0&&j.setAttribute("sentry.idle_span_discarded_spans",s)}}j.end=new Proxy(j.end,{apply:function(t,e,n){if(k&&k(j),!(e instanceof pn)){var r,a=s(r=n)||m(r)||y(r)||o(),i=a[0],u=b(a).slice(1),c=ze(i||Mt()),l=Ke(j).filter(function(t){return t!==j}),f=Ge(j);if(!l.length||!w)return N(c),Reflect.apply(t,e,[c].concat(g(u)));var d=x.getOptions().ignoreSpans,p=null==l?void 0:l.reduce(function(t,e){var n=Ge(e);return n.timestamp?d&&rn(n,d)?t:t?Math.max(t,n.timestamp):n.timestamp:t},void 0),v=f.start_timestamp,_=Math.min(v?v+h/1e3:1/0,Math.max(v||-1/0,Math.min(c,p||1/0)));return N(_),Reflect.apply(t,e,[_].concat(g(u)))}}}),l.push(x.on("spanStart",function(t){var e;i||t===j||Ge(t).timestamp||t instanceof An&&t.isStandaloneSpan()||Ke(j).includes(t)&&(e=t.spanContext().spanId,P(),a.set(e,!0),D(Mt()+S/1e3))})),l.push(x.on("spanEnd",function(t){i||function(t){a.has(t)&&a.delete(t);if(0===a.size){C(Mt()+d/1e3)}}(t.spanContext().spanId)})),l.push(x.on("idleSpanEnableAutoFinish",function(t){t===j&&(c=!0,C(),a.size&&D())})),n.disableAutoFinish||C();return setTimeout(function(){i||(j.setStatus({code:he,message:"deadline_exceeded"}),u=Gn,j.end())},h),j},aD:dn,aE:He,aF:Hr,aG:function(t,e){Xt().setContext(t,e)},aH:Rn,aL:function(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qe(),i=a&&Ze(a);i&&(r&&A.log("[Measurement] Setting measurement on root span: ".concat(t," = ").concat(e," ").concat(n)),i.addEvent(t,v(v({},ce,e),ue,n)))},aM:function(t,e){var n=Un();if(n.startSpan)return n.startSpan(t,e);var r=Ln(t),a=t.forceTransaction,i=t.parentSpan,o=t.scope;return te(null==o?void 0:o.clone(),function(){var n,o=void 0!==(n=i)?function(t){return Rn(n,t)}:function(t){return t()};return o(function(){var n=Qt(),o=Bn(n,i),s=t.onlyIfParent&&!o?new pn:Mn({parentSpan:o,spanArguments:r,forceTransaction:a,scope:n});return Jt(n,s),function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};try{n=t()}catch(i){throw e(i),r(),i}return function(t,e,n,r){if(it(t))return t.then(function(t){return n(),r(t),t},function(t){throw e(t),n(),t});return n(),r(t),t}(n,e,r,a)}(function(){return e(s)},function(){var t=Ge(s).status;!s.isRecording()||t&&"ok"!==t||s.setStatus({code:he,message:"internal_error"})},function(){s.end()})})})},aN:z,aO:J,aP:G,aQ:Ot,aR:function(){return"history"in da&&!!da.history},aS:pa,aT:function(){return"undefined"!=typeof window&&(!(("undefined"==typeof __SENTRY_BROWSER_BUNDLE__||!__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))||function(){var t=c.process;return"renderer"===(null==t?void 0:t.type)}())},aU:Ne,aV:function(t,e,n){var r,a,i,o=null!=n&&n.maxWait?Math.max(n.maxWait,e):0,s=(null==n?void 0:n.setTimeoutImpl)||setTimeout;function u(){return c(),r=t()}function c(){void 0!==a&&clearTimeout(a),void 0!==i&&clearTimeout(i),a=i=void 0}function l(){return a&&clearTimeout(a),a=s(u,e),o&&void 0===i&&(i=s(u,o)),r}return l.cancel=c,l.flush=function(){if(void 0!==a||void 0!==i)return u();return r},l},aW:function(t){Xt().addEventProcessor(t)},aX:vn,aY:kr,aZ:Sr,a_:ir,aa:Ge,ab:en,ac:ge,ad:function(t){return t.split(/[?#]/,1)[0]},ae:Qe,af:Nn,aj:qr,ak:Tt,al:Ze,an:Qt,as:function(){null===Lt&&(Lt=function(){var t,e=c.performance;if(null==e||!e.now)return;var n=3e5,r=kt(function(){return e.now()}),a=wt(),i=e.timeOrigin;if("number"==typeof i){if(Math.abs(i+r-a)<n)return i}var o=null===(t=e.timing)||void 0===t?void 0:t.navigationStart;if("number"==typeof o){if(Math.abs(o+r-a)<n)return o}return a-r}());return Lt},at:function(){if(tn)return;function t(){var t=Qe(),e=t&&Ze(t);if(e){var n="internal_error";r&&A.log("[Tracing] Root span: ".concat(n," -> Global error occurred")),e.setStatus({code:he,message:n})}}t.tag="sentry_tracingErrorCallback",tn=!0,$(t),V(t)},au:Xt,av:Wt,aw:Bt,ax:function(t,e){var n=function(t){if(!t)return;var e,n=t.match(Re);if(!n)return;"1"===n[3]?e=!0:"0"===n[3]&&(e=!1);return{traceId:n[1],parentSampled:e,parentSpanId:n[2]}}(t),r=xe(e);if(null==n||!n.traceId)return{traceId:Bt(),sampleRand:Et()};var a=function(t,e){var n=Ne(null==e?void 0:e.sample_rand);if(void 0!==n)return n;var r=Ne(null==e?void 0:e.sample_rate);return r&&void 0!==(null==t?void 0:t.parentSampled)?t.parentSampled?Et()*r:r+Et()*(1-r):Et()}(n,r);r&&(r.sample_rand=a.toString());var i=n.traceId,o=n.parentSpanId,s=n.parentSampled;return{traceId:i,parentSpanId:o,sampled:s,dsc:r||{},sampleRand:a}},ay:Mt,b:gt,b0:In,b1:xn,b2:function(t,e){var n=null==e?void 0:e.getDsn(),r=null==e?void 0:e.getOptions().tunnel;return function(t,e){var n=Hr(t);if(!n||Gr(n))return!1;return!!e&&(n.host.includes(e.host)&&/(^|&|\?)sentry_key=/.test(n.search))}(t,n)||function(t,e){if(!e)return!1;return Yr(t)===Yr(e)}(t,r)},c:function(t,e,n){var r=t.exception=t.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=e||"");i.type||(i.type="Error")},d:Pt,e:function(t,e){return Qt().captureException(t,function(t){if(!t)return;if(function(t){return t instanceof Ht||"function"==typeof t}(t))return{captureContext:t};if(function(t){return Object.keys(t).some(function(t){return or.includes(t)})}(t))return{captureContext:t};return t}(e))},f:function(t){return X(t,"DOMError")},g:function(){try{return ft.document.location.href}catch(t){return""}},h:function(t){return X(t,"DOMException")},i:function(t){return X(t,"ErrorEvent")},j:Q,k:rt,l:at,m:mt,n:et,o:ee,p:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,a=vn(e,n);if(i=a,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>r)return t(e,n-1,r);var i;return a},q:function(t){var e=Object.keys(yt(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"},r:$n,s:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm",a=t._metadata||{};a.sdk||(a.sdk={name:"sentry.javascript.".concat(e),packages:n.map(function(t){return{name:"".concat(r,":@sentry/").concat(t),version:d}}),version:d});t._metadata=a},t:function(){return"npm"},u:vr,v:gr,w:te,x:function(t){var e;"aggregates"in t?void 0===(null===(e=t.attrs)||void 0===e?void 0:e.ip_address)&&(t.attrs=p(p({},t.attrs),{},{ip_address:"{{auto}}"})):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")},y:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr(t.bufferSize||Er),a={};return{send:function(i){var o=[];if(_n(i,function(e,n){var r=wn(n);Sr(a,r)?t.recordDroppedEvent("ratelimit_backoff",r):o.push(e)}),0===o.length)return Promise.resolve({});var s=gn(i[0],o),u=function(e){!function(t,e){return _n(t,function(t,n){return e.includes(n)})}(s,["client_report"])?_n(s,function(n,r){t.recordDroppedEvent(e,wn(r))}):r&&A.warn("Dropping client report. Will not send outcomes (reason: ".concat(e,")."))};return n.add(function(){return e({body:bn(s)}).then(function(t){return void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&r&&A.warn("Sentry responded with status code ".concat(t.statusCode," to sent event.")),a=kr(a,t),t},function(t){throw u("network_error"),r&&A.error("Encountered error running transport request:",t),t})}).then(function(t){return t},function(t){if(t===_r)return r&&A.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw t})},flush:function(t){return n.drain(t)}}},z:yr});var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,c=n("G",globalThis),d="10.38.0";function h(){return S(c),c}function S(t){var e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||d,e[d]=e[d]||{}}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=n.__SENTRY__=n.__SENTRY__||{},a=r[d]=r[d]||{};return a[t]||(a[t]=e())}var E=["debug","info","warn","error","log","assert","trace"],w={};function x(t){if(!("console"in c))return t();var e=c.console,n={},r=Object.keys(w);r.forEach(function(t){var r=w[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(function(t){e[t]=n[t]})}}function I(){return O().enabled}function T(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];r&&I()&&x(function(){var e;(e=c.console)[t].apply(e,["".concat("Sentry Logger ","[").concat(t,"]:")].concat(n))})}function O(){return r?k("loggerSettings",function(){return{enabled:!1}}):{enabled:!1}}var A=n("F",{enable:function(){O().enabled=!0},disable:function(){O().enabled=!1},isEnabled:I,log:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];T.apply(void 0,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];T.apply(void 0,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];T.apply(void 0,["error"].concat(e))}}),j=50,P=n("U","?"),C=/\(error: (.*)\)/,D=/captureMessage|captureException/;function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.sort(function(t,e){return t[0]-e[0]}).map(function(t){return t[1]});return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[],i=t.split("\n"),o=e;o<i.length;o++){var s=i[o];s.length>1024&&(s=s.slice(0,1024));var u=C.test(s)?s.replace(C,"$1"):s;if(!u.match(/\S*Error: /)){var c,l=_(r);try{for(l.s();!(c=l.n()).done;){var f=(0,c.value)(u);if(f){a.push(f);break}}}catch(d){l.e(d)}finally{l.f()}if(a.length>=j+n)break}}return function(t){if(!t.length)return[];var e=Array.from(t);/sentryWrapped/.test(R(e).function||"")&&e.pop();e.reverse(),D.test(R(e).function||"")&&(e.pop(),D.test(R(e).function||"")&&e.pop());return e.slice(0,j).map(function(t){return p(p({},t),{},{filename:t.filename||R(e).filename,function:t.function||P})})}(a.slice(n))}}function R(t){return t[t.length-1]||{}}var M="<anonymous>";function L(t){try{return t&&"function"==typeof t&&t.name||M}catch(e){return M}}function U(t){var e=t.exception;if(e){var n=[];try{return e.values.forEach(function(t){t.stacktrace.frames&&n.push.apply(n,g(t.stacktrace.frames))}),n}catch(r){return}}}function F(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}var B={},W={};function z(t,e){B[t]=B[t]||[],B[t].push(e)}function J(t,e){if(!W[t]){W[t]=!0;try{e()}catch(n){r&&A.error("Error while instrumenting ".concat(t),n)}}}function G(t,e){var n=t&&B[t];if(n){var a,i=_(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;try{o(e)}catch(s){r&&A.error("Error while triggering instrumentation handler.\nType: ".concat(t,"\nName: ").concat(L(o),"\nError:"),s)}}}catch(u){i.e(u)}finally{i.f()}}}var H=null;function $(t){var e="error";z(e,t),J(e,Y)}function Y(){H=c.onerror,c.onerror=function(t,e,n,r,a){return G("error",{column:r,error:a,line:n,msg:t,url:e}),!!H&&H.apply(this,arguments)},c.onerror.__SENTRY_INSTRUMENTED__=!0}var q=null;function V(t){var e="unhandledrejection";z(e,t),J(e,K)}function K(){q=c.onunhandledrejection,c.onunhandledrejection=function(t){return G("unhandledrejection",t),!q||q.apply(this,arguments)},c.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Z=Object.prototype.toString;function Q(t){switch(Z.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ot(t,Error)}}function X(t,e){return Z.call(t)==="[object ".concat(e,"]")}function tt(t){return X(t,"String")}function et(t){return"object"===f(t)&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function nt(t){return null===t||et(t)||"object"!==f(t)&&"function"!=typeof t}function rt(t){return X(t,"Object")}function at(t){return"undefined"!=typeof Event&&ot(t,Event)}function it(t){return Boolean((null==t?void 0:t.then)&&"function"==typeof t.then)}function ot(t,e){try{return t instanceof e}catch(n){return!1}}function st(t){return!("object"!==f(t)||null===t||!(t.__isVue||t._isVue||t.__v_isVNode))}function ut(t){return"undefined"!=typeof Request&&ot(t,Request)}var ct,lt,ft=c,dt=80;function pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return"<unknown>";try{for(var n,r=t,a=[],i=0,o=0,s=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||dt;r&&i++<5&&!("html"===(n=vt(r,s))||i>1&&o+3*a.length+n.length>=u);)a.push(n),o+=n.length,r=r.parentNode;return a.reverse().join(" > ")}catch(c){return"<unknown>"}}function vt(t,e){var n=t,r=[];if(null==n||!n.tagName)return"";if(ft.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());var a=null!=e&&e.length?e.filter(function(t){return n.getAttribute(t)}).map(function(t){return[t,n.getAttribute(t)]}):null;if(null!=a&&a.length)a.forEach(function(t){r.push("[".concat(t[0],'="').concat(t[1],'"]'))});else{n.id&&r.push("#".concat(n.id));var i=n.className;if(i&&tt(i)){var o,s=_(i.split(/\s+/));try{for(s.s();!(o=s.n()).done;){var u=o.value;r.push(".".concat(u))}}catch(p){s.e(p)}finally{s.f()}}}for(var c=0,l=["aria-label","type","name","title","alt"];c<l.length;c++){var f=l[c],d=n.getAttribute(f);d&&r.push("[".concat(f,'="').concat(d,'"]'))}return r.join("")}function ht(t,e,n){if(e in t){var a=t[e];if("function"==typeof a){var i=n(a);"function"==typeof i&&mt(i,a);try{t[e]=i}catch(o){r&&A.log('Failed to replace method "'.concat(e,'" in object'),t)}}}}function gt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(a){r&&A.log('Failed to add non-enumerable property "'.concat(e,'" to object'),t)}}function mt(t,e){try{var n=e.prototype||{};t.prototype=e.prototype=n,gt(t,"__sentry_original__",e)}catch(r){}}function _t(t){return t.__sentry_original__}function yt(t){if(Q(t))return p({message:t.message,name:t.name,stack:t.stack},St(t));if(at(t)){var e=p({type:t.type,target:bt(t.target),currentTarget:bt(t.currentTarget)},St(t));return"undefined"!=typeof CustomEvent&&ot(t,CustomEvent)&&(e.detail=t.detail),e}return t}function bt(t){try{return e=t,"undefined"!=typeof Element&&ot(e,Element)?pt(t):Object.prototype.toString.call(t)}catch(n){return"<unknown>"}var e}function St(t){if("object"===f(t)&&null!==t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function kt(t){if(void 0!==ct)return ct?ct(t):t();var e=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=c;return e in n&&"function"==typeof n[e]?(ct=n[e])(t):(ct=null,t())}function Et(){return kt(function(){return Math.random()})}function wt(){return kt(function(){return Date.now()})}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!=typeof t||0===e||t.length<=e?t:"".concat(t.slice(0,e),"...")}function It(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!tt(t)&&(X(e,"RegExp")?e.test(t):!!tt(e)&&(n?t===e:t.includes(e)))}function Tt(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(function(n){return It(t,n,e)})}function Ot(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(t=c).crypto||t.msCrypto;try{if(null!=e&&e.randomUUID)return kt(function(){return e.randomUUID()}).replace(/-/g,"")}catch(n){}return lt||(lt=[1e7]+1e3+4e3+8e3+1e11),lt.replace(/[018]/g,function(t){return(t^(16*Et()&15)>>t/4).toString(16)})}function At(t){var e;return null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e?void 0:e[0]}function jt(t){var e=t.message,n=t.event_id;if(e)return e;var r=At(t);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function Pt(t,e){var n=At(t);if(n){var r=n.mechanism;if(n.mechanism=p(p(p({},{type:"generic",handled:!0}),r),e),e&&"data"in e){var a=p(p({},null==r?void 0:r.data),e.data);n.mechanism.data=a}}}function Ct(t){if(function(t){try{return t.__sentry_captured__}catch(e){}}(t))return!0;try{gt(t,"__sentry_captured__",!0)}catch(e){}return!1}var Dt,Nt=1e3;function Rt(){return wt()/Nt}function Mt(){return(null!=Dt?Dt:Dt=function(){var t=c.performance;if(null==t||!t.now||!t.timeOrigin)return Rt;var e=t.timeOrigin;return function(){return(e+kt(function(){return t.now()}))/Nt}}())()}var Lt=null;function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Mt(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:Ot()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did="".concat(e.did)),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{var n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e||"object"!==f(e)||n<=0)return e;if(t&&0===Object.keys(e).length)return t;var r=p({},t);for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=Ft(r[a],e[a],n-1));return r}function Bt(){return Ot()}function Wt(){return Ot().substring(16)}var zt="_sentrySpan";function Jt(t,e){e?gt(t,zt,e):delete t[zt]}function Gt(t){return t[zt]}var Ht=function(){function t(){u(this,t),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Bt(),sampleRand:Et()}}return l(t,[{key:"clone",value:function(){var e=new t;return e._breadcrumbs=g(this._breadcrumbs),e._tags=p({},this._tags),e._attributes=p({},this._attributes),e._extra=p({},this._extra),e._contexts=p({},this._contexts),this._contexts.flags&&(e._contexts.flags={values:g(this._contexts.flags.values)}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=g(this._eventProcessors),e._attachments=g(this._attachments),e._sdkProcessingMetadata=p({},this._sdkProcessingMetadata),e._propagationContext=p({},this._propagationContext),e._client=this._client,e._lastEventId=this._lastEventId,e._conversationId=this._conversationId,Jt(e,Gt(this)),e}},{key:"setClient",value:function(t){this._client=t}},{key:"setLastEventId",value:function(t){this._lastEventId=t}},{key:"getClient",value:function(){return this._client}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addScopeListener",value:function(t){this._scopeListeners.push(t)}},{key:"addEventProcessor",value:function(t){return this._eventProcessors.push(t),this}},{key:"setUser",value:function(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ut(this._session,{user:t}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"setConversationId",value:function(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}},{key:"setTags",value:function(t){return this._tags=p(p({},this._tags),t),this._notifyScopeListeners(),this}},{key:"setTag",value:function(t,e){return this.setTags(v({},t,e))}},{key:"setAttributes",value:function(t){return this._attributes=p(p({},this._attributes),t),this._notifyScopeListeners(),this}},{key:"setAttribute",value:function(t,e){return this.setAttributes(v({},t,e))}},{key:"removeAttribute",value:function(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}},{key:"setExtras",value:function(t){return this._extra=p(p({},this._extra),t),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(t,e){return this._extra=p(p({},this._extra),{},v({},t,e)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(t){return this._fingerprint=t,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(t){return this._level=t,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(t){return this._transactionName=t,this._notifyScopeListeners(),this}},{key:"setContext",value:function(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}},{key:"setSession",value:function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(e){if(!e)return this;var n="function"==typeof e?e(this):e,r=(n instanceof t?n.getScopeData():rt(n)?e:void 0)||{},a=r.tags,i=r.attributes,o=r.extra,s=r.user,u=r.contexts,c=r.level,l=r.fingerprint,f=void 0===l?[]:l,d=r.propagationContext,v=r.conversationId;return this._tags=p(p({},this._tags),a),this._attributes=p(p({},this._attributes),i),this._extra=p(p({},this._extra),o),this._contexts=p(p({},this._contexts),u),s&&Object.keys(s).length&&(this._user=s),c&&(this._level=c),f.length&&(this._fingerprint=f),d&&(this._propagationContext=d),v&&(this._conversationId=v),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,Jt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Bt(),sampleRand:Et()}),this._notifyScopeListeners(),this}},{key:"addBreadcrumb",value:function(t,e){var n="number"==typeof e?e:100;if(n<=0)return this;var r,a=p(p({timestamp:Rt()},t),{},{message:t.message?xt(t.message,2048):t.message});(this._breadcrumbs.push(a),this._breadcrumbs.length>n)&&(this._breadcrumbs=this._breadcrumbs.slice(-n),null===(r=this._client)||void 0===r||r.recordDroppedEvent("buffer_overflow","log_item"));return this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(t){return this._attachments.push(t),this}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"getScopeData",value:function(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Gt(this),conversationId:this._conversationId}}},{key:"setSDKProcessingMetadata",value:function(t){return this._sdkProcessingMetadata=Ft(this._sdkProcessingMetadata,t,2),this}},{key:"setPropagationContext",value:function(t){return this._propagationContext=t,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"captureException",value:function(t,e){var n=(null==e?void 0:e.event_id)||Ot();if(!this._client)return r&&A.warn("No client configured on scope - will not capture exception!"),n;var a=new Error("Sentry syntheticException");return this._client.captureException(t,p(p({originalException:t,syntheticException:a},e),{},{event_id:n}),this),n}},{key:"captureMessage",value:function(t,e,n){var a,i=(null==n?void 0:n.event_id)||Ot();if(!this._client)return r&&A.warn("No client configured on scope - will not capture message!"),i;var o=null!==(a=null==n?void 0:n.syntheticException)&&void 0!==a?a:new Error(t);return this._client.captureMessage(t,e,p(p({originalException:t,syntheticException:o},n),{},{event_id:i}),this),i}},{key:"captureEvent",value:function(t,e){var n=(null==e?void 0:e.event_id)||Ot();return this._client?(this._client.captureEvent(t,p(p({},e),{},{event_id:n}),this),n):(r&&A.warn("No client configured on scope - will not capture event!"),n)}},{key:"_notifyScopeListeners",value:function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)}}])}();var $t=function(){return l(function t(e,n){var r,a;u(this,t),r=e||new Ht,a=n||new Ht,this._stack=[{scope:r}],this._isolationScope=a},[{key:"withScope",value:function(t){var e,n=this,r=this._pushScope();try{e=t(r)}catch(a){throw this._popScope(),a}return it(e)?e.then(function(t){return n._popScope(),t},function(t){throw n._popScope(),t}):(this._popScope(),e)}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getIsolationScope",value:function(){return this._isolationScope}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"_pushScope",value:function(){var t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}},{key:"_popScope",value:function(){return!(this._stack.length<=1)&&!!this._stack.pop()}}])}();function Yt(){var t=S(h());return t.stack=t.stack||new $t(k("defaultCurrentScope",function(){return new Ht}),k("defaultIsolationScope",function(){return new Ht}))}function qt(t){return Yt().withScope(t)}function Vt(t,e){var n=Yt();return n.withScope(function(){return n.getStackTop().scope=t,e(t)})}function Kt(t){return Yt().withScope(function(){return t(Yt().getIsolationScope())})}function Zt(t){var e=S(t);return e.acs?e.acs:{withIsolationScope:Kt,withScope:qt,withSetScope:Vt,withSetIsolationScope:function(t,e){return Kt(e)},getCurrentScope:function(){return Yt().getScope()},getIsolationScope:function(){return Yt().getIsolationScope()}}}function Qt(){return Zt(h()).getCurrentScope()}function Xt(){return Zt(h()).getIsolationScope()}function te(){for(var t=Zt(h()),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(2===n.length){var a=n[0],i=n[1];return a?t.withSetScope(a,i):t.withScope(i)}return t.withScope(n[0])}function ee(){return Qt().getClient()}var ne=n("az","sentry.source"),re=n("aq","sentry.sample_rate"),ae=n("ao","sentry.previous_trace_sample_rate"),ie=n("ag","sentry.op"),oe=n("ah","sentry.origin"),se=n("aC","sentry.idle_span_finish_reason"),ue=n("aJ","sentry.measurement_unit"),ce=n("aI","sentry.measurement_value"),le="sentry.custom_span_name",fe="sentry.profile_id",de=n("aK","sentry.exclusive_time"),pe=(n("ap","sentry.link.type"),0),ve=1,he=n("am",2);function ge(t,e){t.setAttribute("http.response.status_code",e);var n=function(t){if(t<400&&t>=100)return{code:ve};if(t>=400&&t<500)switch(t){case 401:return{code:he,message:"unauthenticated"};case 403:return{code:he,message:"permission_denied"};case 404:return{code:he,message:"not_found"};case 409:return{code:he,message:"already_exists"};case 413:return{code:he,message:"failed_precondition"};case 429:return{code:he,message:"resource_exhausted"};case 499:return{code:he,message:"cancelled"};default:return{code:he,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:he,message:"unimplemented"};case 503:return{code:he,message:"unavailable"};case 504:return{code:he,message:"deadline_exceeded"};default:return{code:he,message:"internal_error"}}return{code:he,message:"internal_error"}}(e);"unknown_error"!==n.message&&t.setStatus(n)}var me="_sentryScope",_e="_sentryIsolationScope";function ye(t){if(t){if("object"===f(t)&&"deref"in t&&"function"==typeof t.deref)try{return t.deref()}catch(e){return}return t}}function be(t,e,n){t&&(gt(t,_e,function(t){try{var e=c.WeakRef;if("function"==typeof e)return new e(t)}catch(n){}return t}(n)),gt(t,me,e))}function Se(t){var e=t;return{scope:e[me],isolationScope:ye(e[_e])}}var ke="sentry-",Ee=/^sentry-/,we=8192;function xe(t){var e=function(t){if(!t||!tt(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(function(t,e){var n=Te(e);return Object.entries(n).forEach(function(e){var n=i(e,2),r=n[0],a=n[1];t[r]=a}),t},{});return Te(t)}(t);if(e){var n=Object.entries(e).reduce(function(t,e){var n=i(e,2),r=n[0],a=n[1];r.match(Ee)&&(t[r.slice(ke.length)]=a);return t},{});return Object.keys(n).length>0?n:void 0}}function Ie(t){if(t)return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(function(t,e,n){var a=i(e,2),o=a[0],s=a[1],u="".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(s)),c=0===n?u:"".concat(t,",").concat(u);return c.length>we?(r&&A.warn("Not adding key: ".concat(o," with val: ").concat(s," to baggage header due to exceeding baggage size limits.")),t):c},"")}(Object.entries(t).reduce(function(t,e){var n=i(e,2),r=n[0],a=n[1];return a&&(t["".concat(ke).concat(r)]=a),t},{}))}function Te(t){return t.split(",").map(function(t){var e=t.indexOf("=");return-1===e?[]:[t.slice(0,e),t.slice(e+1)].map(function(t){try{return decodeURIComponent(t.trim())}catch(e){return}})}).reduce(function(t,e){var n=i(e,2),r=n[0],a=n[1];return r&&a&&(t[r]=a),t},{})}var Oe=/^o(\d+)\./,Ae=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function je(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.host,r=t.path,a=t.pass,i=t.port,o=t.projectId,s=t.protocol,u=t.publicKey;return"".concat(s,"://").concat(u).concat(e&&a?":".concat(a):"")+"@".concat(n).concat(i?":".concat(i):"","/").concat(r?"".concat(r,"/"):r).concat(o)}function Pe(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ce(t){var e,n=t.getOptions(),r=(t.getDsn()||{}).host;return n.orgId?e=String(n.orgId):r&&(e=function(t){var e=t.match(Oe);return null==e?void 0:e[1]}(r)),e}function De(t){var e="string"==typeof t?function(t){var e=Ae.exec(t);if(e){var n=i(e.slice(1),6),r=n[0],a=n[1],o=n[2],s=void 0===o?"":o,u=n[3],c=void 0===u?"":u,l=n[4],f=void 0===l?"":l,d=n[5],p="",v=void 0===d?"":d,h=v.split("/");if(h.length>1&&(p=h.slice(0,-1).join("/"),v=h.pop()),v){var g=v.match(/^\d+/);g&&(v=g[0])}return Pe({host:c,pass:s,path:p,projectId:v,port:f,protocol:r,publicKey:a})}x(function(){})}(t):Pe(t);if(e&&function(t){if(!r)return!0;var e=t.port,n=t.projectId,a=t.protocol;return!(["protocol","publicKey","host","projectId"].find(function(e){return!t[e]&&(A.error("Invalid Sentry Dsn: ".concat(e," missing")),!0)})||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(a)?e&&isNaN(parseInt(e,10))&&(A.error("Invalid Sentry Dsn: Invalid port ".concat(e)),1):(A.error("Invalid Sentry Dsn: Invalid protocol ".concat(a)),1):(A.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),1)))}(e))return e}function Ne(t){if("boolean"==typeof t)return Number(t);var e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||e<0||e>1?void 0:e}var Re=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Me(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(t,"-").concat(e).concat(r)}function Le(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt(),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt(),n=arguments.length>2?arguments[2]:void 0;return"00-".concat(t,"-").concat(e,"-").concat(n?"01":"00")}var Ue=1,Fe=!1;function Be(t){var e=t.spanContext(),n=e.spanId,r=e.traceId,a=e.isRemote,i=a?n:Ge(t).parent_span_id,o=Se(t).scope;return{parent_span_id:i,span_id:a?(null==o?void 0:o.getPropagationContext().propagationSpanId)||Wt():n,trace_id:r}}function We(e){return e&&e.length>0?e.map(function(e){var n=e.context,r=n.spanId,a=n.traceId,i=n.traceFlags,o=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(n,t),s=e.attributes;return p({span_id:r,trace_id:a,sampled:i===Ue,attributes:s},o)}):void 0}function ze(t){return"number"==typeof t?Je(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Je(t.getTime()):Mt()}function Je(t){return t>9999999999?t/1e3:t}function Ge(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();var e=t.spanContext(),n=e.spanId,r=e.traceId;if(function(t){var e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){var a,i=t.attributes,o=t.startTime,s=t.name,u=t.endTime,c=t.status,l=t.links;return{span_id:n,trace_id:r,data:i,description:s,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?null===(a=t.parentSpanContext)||void 0===a?void 0:a.spanId:void 0,start_timestamp:ze(o),timestamp:ze(u)||void 0,status:$e(c),op:i[ie],origin:i[oe],links:We(l)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function He(t){return t.spanContext().traceFlags===Ue}function $e(t){if(t&&t.code!==pe)return t.code===ve?"ok":t.message||"internal_error"}var Ye="_sentryChildSpans",qe="_sentryRootSpan";function Ve(t,e){var n=t[qe]||t;gt(e,qe,n),t[Ye]?t[Ye].add(e):gt(t,Ye,new Set([e]))}function Ke(t){var e=new Set;return function t(n){if(!e.has(n)&&He(n)){e.add(n);var r,a=_(n[Ye]?Array.from(n[Ye]):[]);try{for(a.s();!(r=a.n()).done;){t(r.value)}}catch(i){a.e(i)}finally{a.f()}}}(t),Array.from(e)}function Ze(t){return t[qe]||t}function Qe(){var t=Zt(h());return t.getActiveSpan?t.getActiveSpan():Gt(Qt())}function Xe(){Fe||(x(function(){}),Fe=!0)}var tn=!1;function en(t){var e;if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var n=t||(null===(e=ee())||void 0===e?void 0:e.getOptions());return!(!n||null==n.tracesSampleRate&&!n.tracesSampler)}function nn(t){A.log("Ignoring span ".concat(t.op," - ").concat(t.description," because it matches `ignoreSpans`."))}function rn(t,e){if(null==e||!e.length||!t.description)return!1;var n,a=_(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(on(i)){if(It(t.description,i))return r&&nn(t),!0}else if(i.name||i.op){var o=!i.name||It(t.description,i.name),s=!i.op||t.op&&It(t.op,i.op);if(o&&s)return r&&nn(t),!0}}}catch(u){a.e(u)}finally{a.f()}return!1}function an(t,e){var n=e.parent_span_id,r=e.span_id;if(n){var a,i=_(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.parent_span_id===r&&(o.parent_span_id=n)}}catch(s){i.e(s)}finally{i.f()}}}function on(t){return"string"==typeof t||t instanceof RegExp}var sn="production",un="_frozenDsc";function cn(t,e){gt(t,un,e)}function ln(t,e){var n=e.getOptions(),r=(e.getDsn()||{}).publicKey,a={environment:n.environment||sn,release:n.release,public_key:r,trace_id:t,org_id:Ce(e)};return e.emit("createDsc",a),a}function fn(t,e){var n=e.getPropagationContext();return n.dsc||ln(n.traceId,t)}function dn(t){var e,n,r=ee();if(!r)return{};var a=Ze(t),i=Ge(a),o=i.data,s=a.spanContext().traceState,u=null!==(e=null!==(n=null==s?void 0:s.get("sentry.sample_rate"))&&void 0!==n?n:o[re])&&void 0!==e?e:o[ae];function c(t){return"number"!=typeof u&&"string"!=typeof u||(t.sample_rate="".concat(u)),t}var l=a[un];if(l)return c(l);var f=null==s?void 0:s.get("sentry.dsc"),d=f&&xe(f);if(d)return c(d);var p,v,h=ln(t.spanContext().traceId,r),g=o[ne],m=i.description;("url"!==g&&m&&(h.transaction=m),en())&&(h.sampled=String(He(a)),h.sample_rand=null!==(p=null==s?void 0:s.get("sentry.sample_rand"))&&void 0!==p?p:null===(v=Se(a).scope)||void 0===v?void 0:v.getPropagationContext().sampleRand.toString());return c(h),r.emit("createDsc",h,a),h}var pn=function(){return l(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this._traceId=e.traceId||Bt(),this._spanId=e.spanId||Wt()},[{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}},{key:"end",value:function(t){}},{key:"setAttribute",value:function(t,e){return this}},{key:"setAttributes",value:function(t){return this}},{key:"setStatus",value:function(t){return this}},{key:"updateName",value:function(t){return this}},{key:"isRecording",value:function(){return!1}},{key:"addEvent",value:function(t,e,n){return this}},{key:"addLink",value:function(t){return this}},{key:"addLinks",value:function(t){return this}},{key:"recordException",value:function(t,e){}}])}();function vn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return hn("",t,e,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function hn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){var t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function n(e){t.delete(e)}return[e,n]}(),o=i(a,2),s=o[0],u=o[1];if(null==e||["boolean","string"].includes(f(e))||"number"==typeof e&&Number.isFinite(e))return e;var c=function(t,e){try{if("domain"===t&&e&&"object"===f(e)&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(st(e))return F(e);if(rt(r=e)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return"[".concat(e,"]");if("function"==typeof e)return"[Function: ".concat(L(e),"]");if("symbol"===f(e))return"[".concat(String(e),"]");if("bigint"==typeof e)return"[BigInt: ".concat(String(e),"]");var n=function(t){var e=Object.getPrototypeOf(t);return null!=e&&e.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(n)?"[HTMLElement: ".concat(n,"]"):"[object ".concat(n,"]")}catch(a){return"**non-serializable** (".concat(a,")")}var r}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;var l="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===l)return c.replace("object ","");if(s(e))return"[Circular ~]";var d=e;if(d&&"function"==typeof d.toJSON)try{return hn("",d.toJSON(),l-1,r,a)}catch(_){}var p=Array.isArray(e)?[]:{},v=0,h=yt(e);for(var g in h)if(Object.prototype.hasOwnProperty.call(h,g)){if(v>=r){p[g]="[MaxProperties ~]";break}var m=h[g];p[g]=hn(g,m,l-1,r,a),v++}return u(e),p}function gn(t){return[t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function mn(t,e){var n=i(t,2),r=n[0],a=n[1];return[r,[].concat(g(a),[e])]}function _n(t,e){var n,r=_(t[1]);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e(a,a[0].type))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}function yn(t){var e=S(c);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function bn(t){var e=i(t,2),n=e[0],r=e[1],a=JSON.stringify(n);function o(t){"string"==typeof a?a="string"==typeof t?a+t:[yn(a),t]:a.push("string"==typeof t?yn(t):t)}var s,u=_(r);try{for(u.s();!(s=u.n()).done;){var c=i(s.value,2),l=c[0],f=c[1];if(o("\n".concat(JSON.stringify(l),"\n")),"string"==typeof f||f instanceof Uint8Array)o(f);else{var d=void 0;try{d=JSON.stringify(f)}catch(p){d=JSON.stringify(vn(f))}o(d)}}}catch(v){u.e(v)}finally{u.f()}return"string"==typeof a?a:function(t){var e,n=t.reduce(function(t,e){return t+e.length},0),r=new Uint8Array(n),a=0,i=_(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;r.set(o,a),a+=o.length}}catch(v){i.e(v)}finally{i.f()}return r}(a)}function Sn(t){return[{type:"span"},t]}function kn(t){var e="string"==typeof t.data?yn(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}n("ai",pn);var En={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function wn(t){return En[t]}function xn(t){if(null!=t&&t.sdk){var e=t.sdk;return{name:e.name,version:e.version}}}function In(t,e,n,r){var a,i=null===(a=t.sdkProcessingMetadata)||void 0===a?void 0:a.dynamicSamplingContext;return p(p(p({event_id:t.event_id,sent_at:(new Date).toISOString()},e&&{sdk:e}),!!n&&r&&{dsn:je(r)}),i&&{trace:i})}function Tn(t,e,n,r){var a=xn(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){var n,r,a,i;if(!e)return t;var o=t.sdk||{};t.sdk=p(p({},o),{},{name:o.name||e.name,version:o.version||e.version,integrations:[].concat(g((null===(n=t.sdk)||void 0===n?void 0:n.integrations)||[]),g(e.integrations||[])),packages:[].concat(g((null===(r=t.sdk)||void 0===r?void 0:r.packages)||[]),g(e.packages||[])),settings:null!==(a=t.sdk)&&void 0!==a&&a.settings||e.settings?p(p({},null===(i=t.sdk)||void 0===i?void 0:i.settings),e.settings):void 0})}(t,null==n?void 0:n.sdk);var o=In(t,a,r,e);return delete t.sdkProcessingMetadata,gn(o,[[{type:i},t]])}function On(t){if(t&&0!==t.length){var e={};return t.forEach(function(t){var n=t.attributes||{},r=n[ue],a=n[ce];"string"==typeof r&&"number"==typeof a&&(e[t.name]={value:a,unit:r})}),e}}var An=function(){return l(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this._traceId=e.traceId||Bt(),this._spanId=e.spanId||Wt(),this._startTime=e.startTimestamp||Mt(),this._links=e.links,this._attributes={},this.setAttributes(p(v(v({},oe,"manual"),ie,e.op),e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()},[{key:"addLink",value:function(t){return this._links?this._links.push(t):this._links=[t],this}},{key:"addLinks",value:function(t){var e;this._links?(e=this._links).push.apply(e,g(t)):this._links=t;return this}},{key:"recordException",value:function(t,e){}},{key:"spanContext",value:function(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:this._sampled?Ue:0}}},{key:"setAttribute",value:function(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}},{key:"setAttributes",value:function(t){var e=this;return Object.keys(t).forEach(function(n){return e.setAttribute(n,t[n])}),this}},{key:"updateStartTime",value:function(t){this._startTime=ze(t)}},{key:"setStatus",value:function(t){return this._status=t,this}},{key:"updateName",value:function(t){return this._name=t,this.setAttribute(ne,"custom"),this}},{key:"end",value:function(t){this._endTime||(this._endTime=ze(t),function(t){if(r){var e=Ge(t),n=e.description,a=void 0===n?"< unknown name >":n,i=e.op,o=void 0===i?"< unknown op >":i,s=t.spanContext().spanId,u=Ze(t)===t,c='[Tracing] Finishing "'.concat(o,'" ').concat(u?"root ":"",'span "').concat(a,'" with ID ').concat(s);A.log(c)}}(this),this._onSpanEnded())}},{key:"getSpanJSON",value:function(){return{data:this._attributes,description:this._name,op:this._attributes[ie],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:$e(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[oe],profile_id:this._attributes[fe],exclusive_time:this._attributes[de],measurements:On(this._events),is_segment:this._isStandaloneSpan&&Ze(this)===this||void 0,segment_id:this._isStandaloneSpan?Ze(this).spanContext().spanId:void 0,links:We(this._links)}}},{key:"isRecording",value:function(){return!this._endTime&&!!this._sampled}},{key:"addEvent",value:function(t,e,n){r&&A.log("[Tracing] Adding an event to span:",t);var a=jn(e)?e:n||Mt(),i=jn(e)?{}:e||{},o={name:t,time:ze(a),attributes:i};return this._events.push(o),this}},{key:"isStandaloneSpan",value:function(){return!!this._isStandaloneSpan}},{key:"_onSpanEnded",value:function(){var t=ee();if(t&&t.emit("spanEnd",this),this._isStandaloneSpan||this===Ze(this))if(this._isStandaloneSpan)this._sampled?function(t){var e=ee();if(!e)return;var n=t[1];if(!n||0===n.length)return void e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(function(t,e){var n=dn(t[0]),r=null==e?void 0:e.getDsn(),a=null==e?void 0:e.getOptions().tunnel,i=p(p({sent_at:(new Date).toISOString()},function(t){return!!t.trace_id&&!!t.public_key}(n)&&{trace:n}),!!a&&r&&{dsn:je(r)}),o=(null==e?void 0:e.getOptions())||{},s=o.beforeSendSpan,u=o.ignoreSpans,c=null!=u&&u.length?t.filter(function(t){return!rn(Ge(t),u)}):t,l=t.length-c.length;l&&(null==e||e.recordDroppedEvent("before_send","span",l));var f,d=s?function(t){var e=Ge(t);return s(e)||(Xe(),e)}:Ge,v=[],h=_(c);try{for(h.s();!(f=h.n()).done;){var g=d(f.value);g&&v.push(Sn(g))}}catch(m){h.e(m)}finally{h.f()}return gn(i,v)}([this],t)):(r&&A.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));else{var e=this._convertSpanToTransaction();if(e)(Se(this).scope||Qt()).captureEvent(e)}}},{key:"_convertSpanToTransaction",value:function(){var t,e=this;if(Pn(Ge(this))){this._name||(r&&A.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");var n=Se(this),a=n.scope,i=n.isolationScope,o=null==a||null===(t=a.getScopeData().sdkProcessingMetadata)||void 0===t?void 0:t.normalizedRequest;if(!0===this._sampled){var s=Ke(this).filter(function(t){return t!==e&&!Cn(t)}),u=s.map(function(t){return Ge(t)}).filter(Pn),c=this._attributes[ne];delete this._attributes[le],u.forEach(function(t){delete t.data[le]});var l,f,d,v,h,g,m,_=p({contexts:{trace:(l=this,f=l.spanContext(),d=f.spanId,v=f.traceId,h=Ge(l),g=h.data,m=h.op,{parent_span_id:h.parent_span_id,span_id:d,trace_id:v,data:g,op:m,status:h.status,origin:h.origin,links:h.links})},spans:u.length>1e3?u.sort(function(t,e){return t.start_timestamp-e.start_timestamp}).slice(0,1e3):u,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:a,capturedSpanIsolationScope:i,dynamicSamplingContext:dn(this)},request:o},c&&{transaction_info:{source:c}}),y=On(this._events);return y&&Object.keys(y).length&&(r&&A.log("[Measurements] Adding measurements to transaction event",JSON.stringify(y,void 0,2)),_.measurements=y),_}}}}])}();function jn(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function Pn(t){return!!(t.start_timestamp&&t.timestamp&&t.span_id&&t.trace_id)}function Cn(t){return t instanceof An&&t.isStandaloneSpan()}var Dn="__SENTRY_SUPPRESS_TRACING__";function Nn(t){var e=Un();if(e.startInactiveSpan)return e.startInactiveSpan(t);var n=Ln(t),r=t.forceTransaction,a=t.parentSpan;return(t.scope?function(e){return te(t.scope,e)}:void 0!==a?function(t){return Rn(a,t)}:function(t){return t()})(function(){var e=Qt(),i=Bn(e,a);return t.onlyIfParent&&!i?new pn:Mn({parentSpan:i,spanArguments:n,forceTransaction:r,scope:e})})}function Rn(t,e){var n=Un();return n.withActiveSpan?n.withActiveSpan(t,e):te(function(n){return Jt(n,t||void 0),e(n)})}function Mn(t){var e=t.parentSpan,n=t.spanArguments,a=t.forceTransaction,i=t.scope;if(!en()){var o=new pn;if(a||!e)cn(o,p({sampled:"false",sample_rate:"0",transaction:n.name},dn(o)));return o}var s,u=Xt();if(e&&!a)s=function(t,e,n){var r=t.spanContext(),a=r.spanId,i=r.traceId,o=!e.getScopeData().sdkProcessingMetadata[Dn]&&He(t),s=o?new An(p(p({},n),{},{parentSpanId:a,traceId:i,sampled:o})):new pn({traceId:i});Ve(t,s);var u=ee();u&&(u.emit("spanStart",s),n.endTimestamp&&u.emit("spanEnd",s));return s}(e,i,n),Ve(e,s);else if(e){var c=dn(e),l=e.spanContext(),f=l.traceId,d=l.spanId,v=He(e);cn(s=Fn(p({traceId:f,parentSpanId:d},n),i,v),c)}else{var h=p(p({},u.getPropagationContext()),i.getPropagationContext()),g=h.traceId,m=h.dsc,_=h.parentSpanId,y=h.sampled;s=Fn(p({traceId:g,parentSpanId:_},n),i,y),m&&cn(s,m)}return function(t){if(r){var e=Ge(t),n=e.description,a=void 0===n?"< unknown name >":n,i=e.op,o=void 0===i?"< unknown op >":i,s=e.parent_span_id,u=t.spanContext().spanId,c=He(t),l=Ze(t),f=l===t,d="[Tracing] Starting ".concat(c?"sampled":"unsampled"," ").concat(f?"root ":"","span"),p=["op: ".concat(o),"name: ".concat(a),"ID: ".concat(u)];if(s&&p.push("parent ID: ".concat(s)),!f){var v=Ge(l),h=v.op,g=v.description;p.push("root ID: ".concat(l.spanContext().spanId)),h&&p.push("root op: ".concat(h)),g&&p.push("root description: ".concat(g))}A.log("".concat(d,"\n  ").concat(p.join("\n  ")))}}(s),be(s,i,u),s}function Ln(t){var e=p({isStandalone:(t.experimental||{}).standalone},t);if(t.startTime){var n=p({},e);return n.startTimestamp=ze(t.startTime),delete n.startTime,n}return e}function Un(){return Zt(h())}function Fn(t,e,n){var a,o,s=ee(),u=(null==s?void 0:s.getOptions())||{},c=t.name,l=void 0===c?"":c,d={spanAttributes:p({},t.attributes),spanName:l,parentSampled:n};null==s||s.emit("beforeSampling",d,{decision:!1});var h=null!==(a=d.parentSampled)&&void 0!==a?a:n,g=d.spanAttributes,m=e.getPropagationContext(),_=e.getScopeData().sdkProcessingMetadata[Dn]?[!1]:function(t,e,n){if(!en(t))return[!1];var a,i=void 0;"function"==typeof t.tracesSampler?(a=t.tracesSampler(p(p({},e),{},{inheritOrSampleWith:function(t){return"number"==typeof e.parentSampleRate?e.parentSampleRate:"boolean"==typeof e.parentSampled?Number(e.parentSampled):t}})),i=!0):void 0!==e.parentSampled?a=e.parentSampled:void 0!==t.tracesSampleRate&&(a=t.tracesSampleRate,i=!0);var o=Ne(a);if(void 0===o)return r&&A.warn("[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(a)," of type ").concat(JSON.stringify(f(a)),".")),[!1];if(!o)return r&&A.log("[Tracing] Discarding transaction because ".concat("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,o,i];var s=n<o;return s||r&&A.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(a),")")),[s,o,i]}(u,{name:l,parentSampled:h,attributes:g,parentSampleRate:Ne(null===(o=m.dsc)||void 0===o?void 0:o.sample_rate)},m.sampleRand),y=i(_,3),b=y[0],S=y[1],k=y[2],E=new An(p(p({},t),{},{attributes:p(v(v({},ne,"custom"),re,void 0!==S&&k?S:void 0),g),sampled:b}));return!b&&s&&(r&&A.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),s.recordDroppedEvent("sample_rate","transaction")),s&&s.emit("spanStart",E),E}function Bn(t,e){if(e)return e;if(null!==e){var n=Gt(t);if(n){var r=ee();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ze(n):n}}}var Wn=n("ar",{idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3}),zn="heartbeatFailed",Jn="idleTimeout",Gn="finalTimeout",Hn="externalFinish";function $n(t){return new Qn(function(e){e(t)})}function Yn(t){return new Qn(function(e,n){n(t)})}var qn,Vn,Kn,Zn,Qn=function(){function t(e){u(this,t),this._state=0,this._handlers=[],this._runExecutor(e)}return l(t,[{key:"then",value:function(e,n){var r=this;return new t(function(t,a){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(r){a(r)}else t(n)},function(e){if(n)try{t(n(e))}catch(r){a(r)}else a(e)}]),r._executeHandlers()})}},{key:"catch",value:function(t){return this.then(function(t){return t},t)}},{key:"finally",value:function(e){var n=this;return new t(function(t,r){var a,i;return n.then(function(t){i=!1,a=t,e&&e()},function(t){i=!0,a=t,e&&e()}).then(function(){i?r(a):t(a)})})}},{key:"_executeHandlers",value:function(){var t=this;if(0!==this._state){var e=this._handlers.slice();this._handlers=[],e.forEach(function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)})}}},{key:"_runExecutor",value:function(t){var e=this,n=function(t,n){0===e._state&&(it(n)?n.then(r,a):(e._state=t,e._value=n,e._executeHandlers()))},r=function(t){n(1,t)},a=function(t){n(2,t)};try{t(r,a)}catch(i){a(i)}}}])}();function Xn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{var a=tr(e,n,t,r);return it(a)?a:$n(a)}catch(i){return Yn(i)}}function tr(t,e,n,a){var i=n[a];if(!t||!i)return t;var o=i(p({},t),e);return r&&null===o&&A.log('Event processor "'.concat(i.id||"?",'" dropped event')),it(o)?o.then(function(t){return tr(t,e,n,a+1)}):tr(o,e,n,a+1)}function er(t,e){var n=e.fingerprint,r=e.span,a=e.breadcrumbs,i=e.sdkProcessingMetadata;!function(t,e){var n=e.extra,r=e.tags,a=e.user,i=e.contexts,o=e.level,s=e.transactionName;Object.keys(n).length&&(t.extra=p(p({},n),t.extra));Object.keys(r).length&&(t.tags=p(p({},r),t.tags));Object.keys(a).length&&(t.user=p(p({},a),t.user));Object.keys(i).length&&(t.contexts=p(p({},i),t.contexts));o&&(t.level=o);s&&"transaction"!==t.type&&(t.transaction=s)}(t,e),r&&function(t,e){t.contexts=p({trace:Be(e)},t.contexts),t.sdkProcessingMetadata=p({dynamicSamplingContext:dn(e)},t.sdkProcessingMetadata);var n=Ze(e),r=Ge(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){var n=[].concat(g(t.breadcrumbs||[]),g(e));t.breadcrumbs=n.length?n:void 0}(t,a),function(t,e){t.sdkProcessingMetadata=p(p({},t.sdkProcessingMetadata),e)}(t,i)}function nr(t,e){var n=e.extra,r=e.tags,a=e.attributes,i=e.user,o=e.contexts,s=e.level,u=e.sdkProcessingMetadata,c=e.breadcrumbs,l=e.fingerprint,f=e.eventProcessors,d=e.attachments,v=e.propagationContext,h=e.transactionName,m=e.span;rr(t,"extra",n),rr(t,"tags",r),rr(t,"attributes",a),rr(t,"user",i),rr(t,"contexts",o),t.sdkProcessingMetadata=Ft(t.sdkProcessingMetadata,u,2),s&&(t.level=s),h&&(t.transactionName=h),m&&(t.span=m),c.length&&(t.breadcrumbs=[].concat(g(t.breadcrumbs),g(c))),l.length&&(t.fingerprint=[].concat(g(t.fingerprint),g(l))),f.length&&(t.eventProcessors=[].concat(g(t.eventProcessors),g(f))),d.length&&(t.attachments=[].concat(g(t.attachments),g(d))),t.propagationContext=p(p({},t.propagationContext),v)}function rr(t,e,n){t[e]=Ft(t[e],n,1)}function ar(t,e){var n=k("globalScope",function(){return new Ht}).getScopeData();return t&&nr(n,t.getScopeData()),e&&nr(n,e.getScopeData()),n}function ir(t,e,n,r,a,o){var s=t.normalizeDepth,u=void 0===s?3:s,l=t.normalizeMaxBreadth,f=void 0===l?1e3:l,d=p(p({},e),{},{event_id:e.event_id||n.event_id||Ot(),timestamp:e.timestamp||Rt()}),v=n.integrations||t.integrations.map(function(t){return t.name});!function(t,e){var n=e.environment,r=e.release,a=e.dist,i=e.maxValueLength;t.environment=t.environment||n||sn,!t.release&&r&&(t.release=r);!t.dist&&a&&(t.dist=a);var o,s=t.request;null!=s&&s.url&&i&&(s.url=xt(s.url,i));i&&(null===(o=t.exception)||void 0===o||null===(o=o.values)||void 0===o||o.forEach(function(t){t.value&&(t.value=xt(t.value,i))}))}(d,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[].concat(g(t.sdk.integrations||[]),g(e)))}(d,v),a&&a.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){var n,r=function(t){var e=c._sentryDebugIds,n=c._debugIds;if(!e&&!n)return{};var r=e?Object.keys(e):[],a=n?Object.keys(n):[];if(Zn&&r.length===Vn&&a.length===Kn)return Zn;Vn=r.length,Kn=a.length,Zn={},qn||(qn={});var i=function(e,n){var r,a=_(e);try{for(a.s();!(r=a.n()).done;){var i,o=r.value,s=n[o],u=null===(i=qn)||void 0===i?void 0:i[o];if(u&&Zn&&s)Zn[u[0]]=s,qn&&(qn[o]=[u[0],s]);else if(s)for(var c=t(o),l=c.length-1;l>=0;l--){var f=c[l],d=null==f?void 0:f.filename;if(d&&Zn&&qn){Zn[d]=s,qn[o]=[d,s];break}}}}catch(p){a.e(p)}finally{a.f()}};return e&&i(r,e),n&&i(a,n),Zn}(e);null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||n.forEach(function(t){var e;null===(e=t.stacktrace)||void 0===e||null===(e=e.frames)||void 0===e||e.forEach(function(t){t.filename&&(t.debug_id=r[t.filename])})})}(d,t.stackParser);var h=function(t,e){if(!e)return t;var n=t?t.clone():new Ht;return n.update(e),n}(r,n.captureContext);n.mechanism&&Pt(d,n.mechanism);var m=a?a.getEventProcessors():[],y=ar(o,h),b=[].concat(g(n.attachments||[]),g(y.attachments));return b.length&&(n.attachments=b),er(d,y),Xn([].concat(g(m),g(y.eventProcessors)),d,n).then(function(t){return t&&function(t){var e,n={};if(null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e||e.forEach(function(t){var e;null===(e=t.stacktrace)||void 0===e||null===(e=e.frames)||void 0===e||e.forEach(function(t){t.debug_id&&(t.abs_path?n[t.abs_path]=t.debug_id:t.filename&&(n[t.filename]=t.debug_id),delete t.debug_id)})}),0===Object.keys(n).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];var r=t.debug_meta.images;Object.entries(n).forEach(function(t){var e=i(t,2),n=e[0],a=e[1];r.push({type:"sourcemap",code_file:n,debug_id:a})})}(t),"number"==typeof u&&u>0?function(t,e,n){var r,a;if(!t)return null;var i=p(p(p(p(p({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return p(p({},t),t.data&&{data:vn(t.data,e,n)})})}),t.user&&{user:vn(t.user,e,n)}),t.contexts&&{contexts:vn(t.contexts,e,n)}),t.extra&&{extra:vn(t.extra,e,n)});null!==(r=t.contexts)&&void 0!==r&&r.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=vn(t.contexts.trace.data,e,n)));t.spans&&(i.spans=t.spans.map(function(t){return p(p({},t),t.data&&{data:vn(t.data,e,n)})}));null!==(a=t.contexts)&&void 0!==a&&a.flags&&i.contexts&&(i.contexts.flags=vn(t.contexts.flags,3,n));return i}(t,u,f):t})}var or=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function sr(){var t=Xt(),e=Qt().getSession()||t.getSession();e&&function(t){var e={};"ok"===t.status&&(e={status:"exited"}),Ut(t,e)}(e),ur(),t.setSession()}function ur(){var t=Xt(),e=ee(),n=t.getSession();n&&e&&e.captureSession(n)}function cr(t,e,n){return e||"".concat(function(t){return"".concat(function(t){var e=t.protocol?"".concat(t.protocol,":"):"",n=t.port?":".concat(t.port):"";return"".concat(e,"//").concat(t.host).concat(n).concat(t.path?"/".concat(t.path):"","/api/")}(t)).concat(t.projectId,"/envelope/")}(t),"?").concat(function(t,e){var n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client="".concat(e.name,"/").concat(e.version)),new URLSearchParams(n).toString()}(t,n))}var lr=[];function fr(t,e){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;null!=a&&a.afterAllSetup&&a.afterAllSetup(t)}}catch(i){r.e(i)}finally{r.f()}}function dr(t,e,n){if(n[e.name])r&&A.log("Integration skipped because it was already installed: ".concat(e.name));else{if(n[e.name]=e,lr.includes(e.name)||"function"!=typeof e.setupOnce||(e.setupOnce(),lr.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){var a=e.preprocessEvent.bind(e);t.on("preprocessEvent",function(e,n){return a(e,n,t)})}if("function"==typeof e.processEvent){var i=e.processEvent.bind(e),o=Object.assign(function(e,n){return i(e,n,t)},{id:e.name});t.addEventProcessor(o)}r&&A.log("Integration installed: ".concat(e.name))}}function pr(t){return t}function vr(t,e){var n,r=null!==(n=null!=e?e:function(t){return hr().get(t)}(t))&&void 0!==n?n:[];if(0!==r.length){var a,i,o,s,u,c,l=t.getOptions(),f=(a=r,i=l._metadata,o=l.tunnel,s=t.getDsn(),c={},null!=i&&i.sdk&&(c.sdk={name:i.sdk.name,version:i.sdk.version}),o&&s&&(c.dsn=je(s)),gn(c,[(u=a,[{type:"log",item_count:u.length,content_type:"application/vnd.sentry.items.log+json"},{items:u}])]));hr().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(f)}}function hr(){return k("clientToLogBufferMap",function(){return new WeakMap})}function gr(t,e){var n,r=null!==(n=null!=e?e:function(t){return mr().get(t)}(t))&&void 0!==n?n:[];if(0!==r.length){var a,i,o,s,u,c,l=t.getOptions(),f=(a=r,i=l._metadata,o=l.tunnel,s=t.getDsn(),c={},null!=i&&i.sdk&&(c.sdk={name:i.sdk.name,version:i.sdk.version}),o&&s&&(c.dsn=je(s)),gn(c,[(u=a,[{type:"trace_metric",item_count:u.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:u}])]));mr().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(f)}}function mr(){return k("clientToMetricBufferMap",function(){return new WeakMap})}var _r=Symbol.for("SentryBufferFullError");function yr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=new Set;function n(t){e.delete(t)}return{get $(){return Array.from(e)},add:function(r){if(!(e.size<t))return Yn(_r);var a=r();return e.add(a),a.then(function(){return n(a)},function(){return n(a)}),a},drain:function(t){if(!e.size)return $n(!0);var n=Promise.allSettled(Array.from(e)).then(function(){return!0});if(!t)return n;var r=[n,new Promise(function(e){return setTimeout(function(){return e(!1)},t)})];return Promise.race(r)}}}var br=6e4;function Sr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt();return function(t,e){return t[e]||t.all||0}(t,e)>n}function kr(t,e){var n=e.statusCode,r=e.headers,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt(),o=p({},t),s=null==r?void 0:r["x-sentry-rate-limits"],u=null==r?void 0:r["retry-after"];if(s){var c,l=_(s.trim().split(","));try{for(l.s();!(c=l.n()).done;){var f=i(c.value.split(":",5),5),d=f[0],v=f[1],h=f[4],g=parseInt(d,10),m=1e3*(isNaN(g)?60:g);if(v){var y,b=_(v.split(";"));try{for(b.s();!(y=b.n()).done;){var S=y.value;"metric_bucket"===S&&h&&!h.split(";").includes("custom")||(o[S]=a+m)}}catch(k){b.e(k)}finally{b.f()}}else o.all=a+m}}catch(k){l.e(k)}finally{l.f()}}else u?o.all=a+function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt(),n=parseInt("".concat(t),10);if(!isNaN(n))return 1e3*n;var r=Date.parse("".concat(t));return isNaN(r)?br:r-e}(u,a):429===n&&(o.all=a+6e4);return o}var Er=64;function wr(t){var e=[];t.message&&e.push(t.message);try{var n=t.exception.values[t.exception.values.length-1];null!=n&&n.value&&(e.push(n.value),n.type&&e.push("".concat(n.type,": ").concat(n.value)))}catch(r){}return e}var xr="Not capturing exception because it's already been captured.",Ir="Discarded session because of missing or non-string release",Tr=Symbol.for("SentryInternalError"),Or=Symbol.for("SentryDoNotSendEventError");function Ar(t){return v({message:t},Tr,!0)}function jr(t){return v({message:t},Or,!0)}function Pr(t){return!!t&&"object"===f(t)&&Tr in t}function Cr(t){return!!t&&"object"===f(t)&&Or in t}function Dr(t,e,n,r,a){var i,o=0,s=!1;t.on(n,function(){o=0,clearTimeout(i),s=!1}),t.on(e,function(e){(o+=r(e))>=8e5?a(t):s||(s=!0,i=setTimeout(function(){a(t)},5e3))}),t.on("flush",function(){a(t)})}var Nr=function(){return l(function t(e){var n,a,i,o,s,c,l;if(u(this,t),this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=yr(null!==(n=null===(a=e.transportOptions)||void 0===a?void 0:a.bufferSize)&&void 0!==n?n:Er),e.dsn?this._dsn=De(e.dsn):r&&A.warn("No DSN provided, client will not send events."),this._dsn){var f=cr(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(p(p({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{},{url:f}))}this._options.enableLogs=null!==(i=this._options.enableLogs)&&void 0!==i?i:null===(o=this._options._experiments)||void 0===o?void 0:o.enableLogs,this._options.enableLogs&&Dr(this,"afterCaptureLog","flushLogs",Fr,vr),(null===(s=null!==(c=this._options.enableMetrics)&&void 0!==c?c:null===(l=this._options._experiments)||void 0===l?void 0:l.enableMetrics)||void 0===s||s)&&Dr(this,"afterCaptureMetric","flushMetrics",Ur,gr)},[{key:"captureException",value:function(t,e,n){var a=this,i=Ot();if(Ct(t))return r&&A.log(xr),i;var o=p({event_id:i},e);return this._process(function(){return a.eventFromException(t,o).then(function(t){return a._captureEvent(t,o,n)}).then(function(t){return t})},"error"),o.event_id}},{key:"captureMessage",value:function(t,e,n,r){var a=this,i=p({event_id:Ot()},n),o=et(t)?t:String(t),s=nt(t),u=s?this.eventFromMessage(o,e,i):this.eventFromException(t,i);return this._process(function(){return u.then(function(t){return a._captureEvent(t,i,r)})},s?"unknown":"error"),i.event_id}},{key:"captureEvent",value:function(t,e,n){var a=this,i=Ot();if(null!=e&&e.originalException&&Ct(e.originalException))return r&&A.log(xr),i;var o=p({event_id:i},e),s=t.sdkProcessingMetadata||{},u=s.capturedSpanScope,c=s.capturedSpanIsolationScope,l=Rr(t.type);return this._process(function(){return a._captureEvent(t,o,u||n,c)},l),o.event_id}},{key:"captureSession",value:function(t){this.sendSession(t),Ut(t,{init:!1})}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:(s=a(e().m(function t(n){var r,a,i;return e().w(function(t){for(;;)switch(t.n){case 0:if(r=this._transport){t.n=1;break}return t.a(2,!0);case 1:return this.emit("flush"),t.n=2,this._isClientDoneProcessing(n);case 2:return a=t.v,t.n=3,r.flush(n);case 3:return i=t.v,t.a(2,a&&i)}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"close",value:(o=a(e().m(function t(n){var r;return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,this.flush(n);case 1:return r=t.v,this.getOptions().enabled=!1,this.emit("close"),t.a(2,r)}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(t){this._eventProcessors.push(t)}},{key:"init",value:function(){(this._isEnabled()||this._options.integrations.some(function(t){return t.name.startsWith("Spotlight")}))&&this._setupIntegrations()}},{key:"getIntegrationByName",value:function(t){return this._integrations[t]}},{key:"addIntegration",value:function(t){var e=this._integrations[t.name];dr(this,t,this._integrations),e||fr(this,[t])}},{key:"sendEvent",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",t,n);var r,a=Tn(t,this._dsn,this._options._metadata,this._options.tunnel),i=_(n.attachments||[]);try{for(i.s();!(r=i.n()).done;){a=mn(a,kn(r.value))}}catch(o){i.e(o)}finally{i.f()}this.sendEnvelope(a).then(function(n){return e.emit("afterSendEvent",t,n)})}},{key:"sendSession",value:function(t){var e=this._options,n=e.release,a=e.environment,i=void 0===a?sn:a;if("aggregates"in t){var o=t.attrs||{};if(!o.release&&!n)return void(r&&A.warn(Ir));o.release=o.release||n,o.environment=o.environment||i,t.attrs=o}else{if(!t.release&&!n)return void(r&&A.warn(Ir));t.release=t.release||n,t.environment=t.environment||i}this.emit("beforeSendSession",t);var s=function(t,e,n,r){var a=xn(n);return gn(p(p({sent_at:(new Date).toISOString()},a&&{sdk:a}),!!r&&e&&{dsn:je(e)}),["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}},{key:"recordDroppedEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){var a="".concat(t,":").concat(e);r&&A.log('Recording outcome: "'.concat(a,'"').concat(n>1?" (".concat(n," times)"):"")),this._outcomes[a]=(this._outcomes[a]||0)+n}}},{key:"on",value:function(t,e){var n=this._hooks[t]=this._hooks[t]||new Set,r=function(){return e.apply(void 0,arguments)};return n.add(r),function(){n.delete(r)}}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=this._hooks[t];a&&a.forEach(function(t){return t.apply(void 0,n)})}},{key:"sendEnvelope",value:(n=a(e().m(function t(n){var a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(this.emit("beforeEnvelope",n),!this._isEnabled()||!this._transport){t.n=4;break}return t.p=1,t.n=2,this._transport.send(n);case 2:return t.a(2,t.v);case 3:return t.p=3,a=t.v,r&&A.error("Error while sending envelope:",a),t.a(2,{});case 4:return r&&A.error("Transport disabled"),t.a(2,{})}},t,this,[[1,3]])})),function(t){return n.apply(this,arguments)})},{key:"_setupIntegrations",value:function(){var t=this._options.integrations;this._integrations=function(t,e){var n={};return e.forEach(function(e){e&&dr(t,e,n)}),n}(this,t),fr(this,t)}},{key:"_updateSessionFromEvent",value:function(t,e){var n,r="fatal"===e.level,a=!1,i=null===(n=e.exception)||void 0===n?void 0:n.values;if(i){a=!0,r=!1;var o,s=_(i);try{for(s.s();!(o=s.n()).done;){var u;if(!1===(null===(u=o.value.mechanism)||void 0===u?void 0:u.handled)){r=!0;break}}}catch(l){s.e(l)}finally{s.f()}}var c="ok"===t.status;(c&&0===t.errors||c&&r)&&(Ut(t,p(p({},r&&{status:"crashed"}),{},{errors:t.errors||Number(a||r)})),this.captureSession(t))}},{key:"_isClientDoneProcessing",value:(t=a(e().m(function t(n){var r;return e().w(function(t){for(;;)switch(t.n){case 0:r=0;case 1:if(n&&!(r<n)){t.n=4;break}return t.n=2,new Promise(function(t){return setTimeout(t,1)});case 2:if(this._numProcessing){t.n=3;break}return t.a(2,!0);case 3:r++,t.n=1;break;case 4:return t.a(2,!1)}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(t,e,n,r){var a=this,i=this.getOptions(),o=Object.keys(this._integrations);return!e.integrations&&null!=o&&o.length&&(e.integrations=o),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),ir(i,t,e,n,this,r).then(function(t){if(null===t)return t;var r,i,o,s,u;a.emit("postprocessEvent",t,e),t.contexts=p({trace:(r=n,i=r.getPropagationContext(),o=i.traceId,s=i.parentSpanId,u={trace_id:o,span_id:i.propagationSpanId||Wt()},s&&(u.parent_span_id=s),u)},t.contexts);var c=fn(a,n);return t.sdkProcessingMetadata=p({dynamicSamplingContext:c},t.sdkProcessingMetadata),t})}},{key:"_captureEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qt(),a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xt();return r&&Mr(t)&&A.log("Captured error event `".concat(wr(t)[0]||"<unknown>","`")),this._processEvent(t,e,n,a).then(function(t){return t.event_id},function(t){r&&(Cr(t)?A.log(t.message):Pr(t)?A.warn(t.message):A.warn(t))})}},{key:"_processEvent",value:function(t,e,n,r){var a=this,i=this.getOptions(),o=i.sampleRate,s=Lr(t),u=Mr(t),c=t.type||"error",l="before send for type `".concat(c,"`"),f=void 0===o?void 0:Ne(o);if(u&&"number"==typeof f&&Et()>f)return this.recordDroppedEvent("sample_rate","error"),Yn(jr("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")")));var d=Rr(t.type);return this._prepareEvent(t,e,n,r).then(function(t){if(null===t)throw a.recordDroppedEvent("event_processor",d),jr("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;var n=function(t,e,n,r){var a=e.beforeSend,i=e.beforeSendTransaction,o=e.beforeSendSpan,s=e.ignoreSpans,u=n;if(Mr(u)&&a)return a(u,r);if(Lr(u)){if(o||s){var c=function(t){var e,n,r,a=null!==(e=null===(n=t.contexts)||void 0===n?void 0:n.trace)&&void 0!==e?e:{},i=a.trace_id,o=a.parent_span_id,s=a.span_id,u=a.status,c=a.origin,l=a.data,f=a.op;return{data:null!=l?l:{},description:t.transaction,op:f,parent_span_id:o,span_id:null!=s?s:"",start_timestamp:null!==(r=t.start_timestamp)&&void 0!==r?r:0,status:u,timestamp:t.timestamp,trace_id:null!=i?i:"",origin:c,profile_id:null==l?void 0:l[fe],exclusive_time:null==l?void 0:l[de],measurements:t.measurements,is_segment:!0}}(u);if(null!=s&&s.length&&rn(c,s))return null;if(o){var l=o(c);l?u=Ft(n,function(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:p(p(p({},t.data),t.profile_id&&v({},fe,t.profile_id)),t.exclusive_time&&v({},de,t.exclusive_time))}},measurements:t.measurements}}(l)):Xe()}if(u.spans){var f,d=[],h=u.spans,g=_(h);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(null!=s&&s.length&&rn(m,s))an(h,m);else if(o){var y=o(m);y?d.push(y):(Xe(),d.push(m))}else d.push(m)}}catch(k){g.e(k)}finally{g.f()}var b=u.spans.length-d.length;b&&t.recordDroppedEvent("before_send","span",b),u.spans=d}}if(i){if(u.spans){var S=u.spans.length;u.sdkProcessingMetadata=p(p({},n.sdkProcessingMetadata),{},{spanCountBeforeProcessing:S})}return i(u,r)}}return u}(a,i,t,e);return function(t,e){var n="".concat(e," must return `null` or a valid event.");if(it(t))return t.then(function(t){if(!rt(t)&&null!==t)throw Ar(n);return t},function(t){throw Ar("".concat(e," rejected with ").concat(t))});if(!rt(t)&&null!==t)throw Ar(n);return t}(n,l)}).then(function(i){if(null===i){if(a.recordDroppedEvent("before_send",d),s){var o=1+(t.spans||[]).length;a.recordDroppedEvent("before_send","span",o)}throw jr("".concat(l," returned `null`, will not send event."))}var c=n.getSession()||r.getSession();if(u&&c&&a._updateSessionFromEvent(c,i),s){var f,v=((null===(f=i.sdkProcessingMetadata)||void 0===f?void 0:f.spanCountBeforeProcessing)||0)-(i.spans?i.spans.length:0);v>0&&a.recordDroppedEvent("before_send","span",v)}var h=i.transaction_info;if(s&&h&&i.transaction!==t.transaction){i.transaction_info=p(p({},h),{},{source:"custom"})}return a.sendEvent(i,e),i}).then(null,function(t){if(Cr(t)||Pr(t))throw t;throw a.captureException(t,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:t}),Ar("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(t))})}},{key:"_process",value:function(t,e){var n=this;this._numProcessing++,this._promiseBuffer.add(t).then(function(t){return n._numProcessing--,t},function(t){return n._numProcessing--,t===_r&&n.recordDroppedEvent("queue_overflow",e),t})}},{key:"_clearOutcomes",value:function(){var t=this._outcomes;return this._outcomes={},Object.entries(t).map(function(t){var e=i(t,2),n=e[0],r=e[1],a=i(n.split(":"),2);return{reason:a[0],category:a[1],quantity:r}})}},{key:"_flushOutcomes",value:function(){r&&A.log("Flushing outcomes...");var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){r&&A.log("Sending outcomes:",t);var e,n,a=(e=t,gn((n=this._options.tunnel&&je(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:Rt(),discarded_events:e}]]));this.sendEnvelope(a)}else r&&A.log("No dsn provided, will not send outcomes");else r&&A.log("No outcomes to send")}}]);var t,n,o,s}();function Rr(t){return"replay_event"===t?"replay":t||"error"}function Mr(t){return void 0===t.type}function Lr(t){return"transaction"===t.type}function Ur(t){var e=0;return t.name&&(e+=2*t.name.length),(e+=8)+Br(t.attributes)}function Fr(t){var e=0;return t.message&&(e+=2*t.message.length),e+Br(t.attributes)}function Br(t){if(!t)return 0;var e=0;return Object.values(t).forEach(function(t){Array.isArray(t)?e+=t.length*Wr(t[0]):nt(t)?e+=Wr(t):e+=100}),e}function Wr(t){return"string"==typeof t?2*t.length:"number"==typeof t?8:"boolean"==typeof t?4:0}function zr(t){Qt().setClient(t)}n("C",Nr);var Jr="thismessage:/";function Gr(t){return"isRelative"in t}function Hr(t,e){var n=t.indexOf("://")<=0&&0!==t.indexOf("//"),r=n?Jr:void 0;try{if("canParse"in URL&&!URL.canParse(t,r))return;var a=new URL(t,r);return n?{isRelative:n,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch(i){}}function $r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.startsWith("data:")){var n=t.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",a=t.includes(";base64,"),i=t.indexOf(","),o="";if(e&&-1!==i){var s=t.slice(i+1);o=s.length>10?"".concat(s.slice(0,10),"... [truncated]"):s}return"data:".concat(r).concat(a?",base64":"").concat(o?",".concat(o):"")}return t}function Yr(t){return"/"===t[t.length-1]?t.slice(0,-1):t}function qr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.client||ee();if(!function(){var t=ee();return!1!==(null==t?void 0:t.getOptions().enabled)&&!(null==t||!t.getTransport())}()||!e)return{};var n=Zt(h());if(n.getTraceData)return n.getTraceData(t);var r=t.scope||Qt(),a=t.span||Qe(),i=a?function(t){var e=t.spanContext();return Me(e.traceId,e.spanId,He(t))}(a):function(t){var e=t.getPropagationContext(),n=e.traceId,r=e.sampled,a=e.propagationSpanId;return Me(n,a,r)}(r),o=Ie(a?dn(a):fn(e,r));if(!Re.test(i))return A.warn("Invalid sentry-trace data. Cannot generate trace data"),{};var s={"sentry-trace":i,baggage:o};return t.propagateTraceparent&&(s.traceparent=a?function(t){var e=t.spanContext();return Le(e.traceId,e.spanId,He(t))}(a):function(t){var e=t.getPropagationContext(),n=e.traceId,r=e.sampled,a=e.propagationSpanId;return Le(n,a,r)}(r)),s}var Vr,Kr=100;var Zr=new WeakMap,Qr=(n("a5",function(){return{name:"FunctionToString",setupOnce:function(){Vr=Function.prototype.toString;try{Function.prototype.toString=function(){for(var t=_t(this),e=Zr.has(ee())&&void 0!==t?t:this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Vr.apply(e,r)}}catch(t){}},setup:function(t){Zr.set(t,!0)}}}),[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/]),Xr=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup:function(n){var r=n.getOptions();t=ta(e,r)},processEvent:function(n,a,i){if(!t){var o=i.getOptions();t=ta(e,o)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(null==e||!e.length)return!1;var n=t.transaction;return!!n&&Tt(n,e)}(t,e.ignoreTransactions))return r&&A.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat(jt(t))),!0}else{if(function(t,e){if(null==e||!e.length)return!1;return wr(t).some(function(t){return Tt(t,e)})}(t,e.ignoreErrors))return r&&A.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat(jt(t))),!0;if(function(t){var e;if(null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e||!e.length)return!1;return!t.message&&!t.exception.values.some(function(t){return t.stacktrace||t.type&&"Error"!==t.type||t.value})}(t))return r&&A.warn("Event dropped due to not having an error message, error type or stacktrace.\nEvent: ".concat(jt(t))),!0;if(function(t,e){if(null==e||!e.length)return!1;var n=ea(t);return!!n&&Tt(n,e)}(t,e.denyUrls))return r&&A.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat(jt(t),".\nUrl: ").concat(ea(t))),!0;if(!function(t,e){if(null==e||!e.length)return!0;var n=ea(t);return!n||Tt(n,e)}(t,e.allowUrls))return r&&A.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat(jt(t),".\nUrl: ").concat(ea(t))),!0}return!1}(n,t)?null:n}}};n("a4",function(){return p(p({},Xr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})),{},{name:"InboundFilters"})});function ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat(g(t.allowUrls||[]),g(e.allowUrls||[])),denyUrls:[].concat(g(t.denyUrls||[]),g(e.denyUrls||[])),ignoreErrors:[].concat(g(t.ignoreErrors||[]),g(e.ignoreErrors||[]),g(t.disableErrorDefaults?[]:Qr)),ignoreTransactions:[].concat(g(t.ignoreTransactions||[]),g(e.ignoreTransactions||[]))}}function ea(t){try{var e,n,a,i=g(null!==(e=null===(n=t.exception)||void 0===n?void 0:n.values)&&void 0!==e?e:[]).reverse().find(function(t){var e,n;return void 0===(null===(e=t.mechanism)||void 0===e?void 0:e.parent_id)&&(null===(n=t.stacktrace)||void 0===n||null===(n=n.frames)||void 0===n?void 0:n.length)}),o=null==i||null===(a=i.stacktrace)||void 0===a?void 0:a.frames;return o?function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(o):null}catch(s){return r&&A.error("Cannot extract url for event ".concat(jt(t))),null}}function na(t,e,n,r,a,i,o,s){if(i.length>=n+1)return i;var u=g(i);if(ot(r[a],Error)){aa(o,s,r);var c=t(e,r[a]),l=u.length;ia(c,a,l,s),u=na(t,e,n,r[a],a,[c].concat(g(u)),c,l)}return ra(r)&&r.errors.forEach(function(i,c){if(ot(i,Error)){aa(o,s,r);var l=t(e,i),f=u.length;ia(l,"errors[".concat(c,"]"),f,s),u=na(t,e,n,i,a,[l].concat(g(u)),l,f)}}),u}function ra(t){return Array.isArray(t.errors)}function aa(t,e,n){t.mechanism=p(p(p({handled:!0,type:"auto.core.linked_errors"},ra(n)&&{is_exception_group:!0}),t.mechanism),{},{exception_id:e})}function ia(t,e,n,r){t.mechanism=p(p({handled:!0},t.mechanism),{},{type:"chained",source:e,exception_id:n,parent_id:r})}function oa(){"console"in c&&E.forEach(function(t){t in c.console&&ht(c.console,t,function(e){return w[t]=e,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];G("console",{args:n,level:t});var a=w[t];null==a||a.apply(c.console,n)}})})}n("a7",function(){var t;return{name:"Dedupe",processEvent:function(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){var n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!ua(t,e))return!1;if(!sa(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){var n=ca(e),r=ca(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!ua(t,e))return!1;if(!sa(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return r&&A.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return t=e}}});function sa(t,e){var n=U(t),r=U(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++){var i=r[a],o=n[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ua(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(a){return!1}}function ca(t){var e;return null===(e=t.exception)||void 0===e||null===(e=e.values)||void 0===e?void 0:e[0]}n("a6",function(){return{name:"ConversationId",setup:function(t){t.on("spanStart",function(t){var e=Qt().getScopeData(),n=Xt().getScopeData(),r=e.conversationId||n.conversationId;r&&t.setAttribute("gen_ai.conversation.id",r)})}}});function la(t){return t.split(",").some(function(t){return t.trim().startsWith(ke)})}function fa(t,e,n,r){var a=v(v({url:$r(t),type:"fetch","http.method":n},oe,r),ie,"http.client");return e&&(Gr(e)||(a["http.url"]=$r(e.href),a["server.address"]=e.host),e.search&&(a["http.query"]=e.search),e.hash&&(a["http.fragment"]=e.hash)),a}var da=c;function pa(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function va(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in da))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch(t){return!1}}())return!1;if(pa(da.fetch))return!0;var t=!1,e=da.document;if(e&&"function"==typeof e.createElement)try{var n,a=e.createElement("iframe");a.hidden=!0,e.head.appendChild(a),null!==(n=a.contentWindow)&&void 0!==n&&n.fetch&&(t=pa(a.contentWindow.fetch)),e.head.removeChild(a)}catch(i){r&&A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}function ha(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!va()||ht(c,"fetch",function(n){return function(){for(var r=new Error,o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];var l=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){var e=i(t,2),n=e[0],r=e[1];return{url:ya(n),method:_a(r,"method")?String(r.method).toUpperCase():ut(n)&&_a(n,"method")?String(n.method).toUpperCase():"GET"}}var a=t[0];return{url:ya(a),method:_a(a,"method")?String(a.method).toUpperCase():"GET"}}(s),f={args:s,fetchData:{method:l.method,url:l.url},startTimestamp:1e3*Mt(),virtualError:r,headers:ba(s)};return t||G("fetch",p({},f)),n.apply(c,s).then(function(){var n=a(e().m(function n(r){return e().w(function(e){for(;;)if(0===e.n)return t?t(r):G("fetch",p(p({},f),{},{endTimestamp:1e3*Mt(),response:r})),e.a(2,r)},n)}));return function(t){return n.apply(this,arguments)}}(),function(t){var e;G("fetch",p(p({},f),{},{endTimestamp:1e3*Mt(),error:t})),Q(t)&&void 0===t.stack&&(t.stack=r.stack,gt(t,"framesToPop",1));var n=ee(),a=null!==(e=null==n?void 0:n.getOptions().enhanceFetchErrorMessages)&&void 0!==e?e:"always";if(!1!==a&&t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{var i=new URL(f.fetchData.url).host;"always"===a?t.message="".concat(t.message," (").concat(i,")"):gt(t,"__sentry_fetch_url_host__",i)}catch(o){}throw t})}})}function ga(){return(ga=a(e().m(function t(n,r){var a,i,o,s,u,c,l;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(null==n||!n.body){t.n=8;break}a=n.body,i=a.getReader(),o=setTimeout(function(){a.cancel().then(null,function(){})},9e4),s=!0;case 1:if(!s){t.n=7;break}return u=void 0,t.p=2,u=setTimeout(function(){a.cancel().then(null,function(){})},5e3),t.n=3,i.read();case 3:c=t.v,l=c.done,clearTimeout(u),l&&(r(),s=!1),t.n=5;break;case 4:t.p=4,t.v,s=!1;case 5:return t.p=5,clearTimeout(u),t.f(5);case 6:t.n=1;break;case 7:clearTimeout(o),i.releaseLock(),a.cancel().then(null,function(){});case 8:return t.a(2)}},t,null,[[2,4,5,6]])}))).apply(this,arguments)}function ma(t){var e;try{e=t.clone()}catch(n){return}!function(t,e){ga.apply(this,arguments)}(e,function(){G("fetch-body-resolved",{endTimestamp:1e3*Mt(),response:t})})}function _a(t,e){return!!t&&"object"===f(t)&&!!t[e]}function ya(t){return"string"==typeof t?t:t?_a(t,"url")?t.url:t.toString?t.toString():"":""}function ba(t){var e=i(t,2),n=e[0],r=e[1];try{if("object"===f(r)&&null!==r&&"headers"in r&&r.headers)return new Headers(r.headers);if(ut(n))return new Headers(n.headers)}catch(a){}}}}})}();
