import{e as t}from"./react@19.2.3.D3o_8b5j.js";const e={BASE_URL:"/",DEV:!1,LEGACY:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"https://mock.mengxuegu.com/mock/63f830b1c5a76a117cab185e/v1",VITE_ENV:"production",VITE_SECRET_KEY:"__Vite_Admin_Secret__"},n=new Map,r=t=>{const e=n.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([t,e])=>[t,e.getState()])):{}},o=t=>{var e,n;if(!t)return;const r=t.split("\n"),o=r.findIndex(t=>t.includes("api.setState"));if(o<0)return;const s=(null==(e=r[o+1])?void 0:e.trim())||"";return null==(n=/.+ (.+) .+/.exec(s))?void 0:n[1]},s=(t,s={})=>(a,c,u)=>{const{enabled:l,anonymousActionType:d,store:f,...p}=s;let v;try{v=(null!=l?l:"production"!==(e?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(O){}if(!v)return t(a,c,u);const{connection:S,...y}=((t,e,r)=>{if(void 0===t)return{type:"untracked",connection:e.connect(r)};const o=n.get(r.name);if(o)return{type:"tracked",store:t,...o};const s={connection:e.connect(r),stores:{}};return n.set(r.name,s),{type:"tracked",store:t,...s}})(f,v,p);let m=!0;u.setState=(t,e,n)=>{const s=a(t,e);if(!m)return s;const i=void 0===n?{type:d||o((new Error).stack)||"anonymous"}:"string"==typeof n?{type:n}:n;return void 0===f?(null==S||S.send(i,c()),s):(null==S||S.send({...i,type:"".concat(f,"/").concat(i.type)},{...r(p.name),[f]:u.getState()}),s)},u.devtools={cleanup:()=>{S&&"function"==typeof S.unsubscribe&&S.unsubscribe(),((t,e)=>{if(void 0===e)return;const r=n.get(t);r&&(delete r.stores[e],0===Object.keys(r.stores).length&&n.delete(t))})(p.name,f)}};const g=(...t)=>{const e=m;m=!1,a(...t),m=e},b=t(u.setState,c,u);if("untracked"===y.type?null==S||S.init(b):(y.stores[y.store]=u,null==S||S.init(Object.fromEntries(Object.entries(y.stores).map(([t,e])=>[t,t===y.store?b:e.getState()])))),u.dispatchFromDevtools&&"function"==typeof u.dispatch){let t=!1;const n=u.dispatch;u.dispatch=(...r)=>{"production"===(e?"production":void 0)||"__setState"!==r[0].type||t||(t=!0),n(...r)}}return S.subscribe(t=>{var e;switch(t.type){case"ACTION":if("string"!=typeof t.payload)return;return i(t.payload,t=>{if("__setState"===t.type){if(void 0===f)return void g(t.state);Object.keys(t.state).length;const e=t.state[f];if(null==e)return;return void(JSON.stringify(u.getState())!==JSON.stringify(e)&&g(e))}u.dispatchFromDevtools&&"function"==typeof u.dispatch&&u.dispatch(t)});case"DISPATCH":switch(t.payload.type){case"RESET":return g(b),void 0===f?null==S?void 0:S.init(u.getState()):null==S?void 0:S.init(r(p.name));case"COMMIT":return void 0===f?void(null==S||S.init(u.getState())):null==S?void 0:S.init(r(p.name));case"ROLLBACK":return i(t.state,t=>{if(void 0===f)return g(t),void(null==S||S.init(u.getState()));g(t[f]),null==S||S.init(r(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return i(t.state,t=>{void 0!==f?JSON.stringify(u.getState())!==JSON.stringify(t[f])&&g(t[f]):g(t)});case"IMPORT_STATE":{const{nextLiftedState:n}=t.payload,r=null==(e=n.computedStates.slice(-1)[0])?void 0:e.state;if(!r)return;return g(void 0===f?r:r[f]),void(null==S||S.send(null,n))}case"PAUSE_RECORDING":return m=!m}return}}),b},i=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){}void 0!==n&&e(n)};function a(t,e){let n;try{n=t()}catch(r){return}return{getItem:t=>{var e;const r=t=>null===t?null:JSON.parse(t,void 0),o=null!=(e=n.getItem(t))?e:null;return o instanceof Promise?o.then(r):r(o)},setItem:(t,e)=>n.setItem(t,JSON.stringify(e,void 0)),removeItem:t=>n.removeItem(t)}}const c=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then:t=>c(t)(n),catch(t){return this}}}catch(n){return{then(t){return this},catch:t=>c(t)(n)}}},u=(t,e)=>(n,r,o)=>{let s={storage:a(()=>localStorage),partialize:t=>t,version:0,merge:(t,e)=>({...e,...t}),...e},i=!1;const u=new Set,l=new Set;let d=s.storage;if(!d)return t((...t)=>{n(...t)},r,o);const f=()=>{const t=s.partialize({...r()});return d.setItem(s.name,{state:t,version:s.version})},p=o.setState;o.setState=(t,e)=>(p(t,e),f());const v=t((...t)=>(n(...t),f()),r,o);let S;o.getInitialState=()=>v;const y=()=>{var t,e;if(!d)return;i=!1,u.forEach(t=>{var e;return t(null!=(e=r())?e:v)});const o=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,null!=(t=r())?t:v))||void 0;return c(d.getItem.bind(d))(s.name).then(t=>{if(t){if("number"!=typeof t.version||t.version===s.version)return[!1,t.state];if(s.migrate){const e=s.migrate(t.state,t.version);return e instanceof Promise?e.then(t=>[!0,t]):[!0,e]}}return[!1,void 0]}).then(t=>{var e;const[o,i]=t;if(S=s.merge(i,null!=(e=r())?e:v),n(S,!0),o)return f()}).then(()=>{null==o||o(S,void 0),S=r(),i=!0,l.forEach(t=>t(S))}).catch(t=>{null==o||o(void 0,t)})};return o.persist={setOptions:t=>{s={...s,...t},t.storage&&(d=t.storage)},clearStorage:()=>{null==d||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:t=>(u.add(t),()=>{u.delete(t)}),onFinishHydration:t=>(l.add(t),()=>{l.delete(t)})},s.skipHydration||y(),S||v},l=t=>{let e;const n=new Set,r=(t,r)=>{const o="function"==typeof t?t(e):t;if(!Object.is(o,e)){const t=e;e=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},e,o),n.forEach(n=>n(e,t))}},o=()=>e,s={setState:r,getState:o,getInitialState:()=>i,subscribe:t=>(n.add(t),()=>n.delete(t))},i=e=t(r,o,s);return s},d=t=>t;const f=e=>{const n=(t=>t?l(t):l)(e),r=e=>function(e,n=d){const r=t.useSyncExternalStore(e.subscribe,t.useCallback(()=>n(e.getState()),[e,n]),t.useCallback(()=>n(e.getInitialState()),[e,n]));return t.useDebugValue(r),r}(n,e);return Object.assign(r,n),r},p=t=>f,v=t=>Symbol.iterator in t,S=t=>"entries"in t,y=(t,e)=>{const n=t instanceof Map?t:new Map(t.entries()),r=e instanceof Map?e:new Map(e.entries());if(n.size!==r.size)return!1;for(const[o,s]of n)if(!r.has(o)||!Object.is(s,r.get(o)))return!1;return!0};function m(t,e){return!!Object.is(t,e)||"object"==typeof t&&null!==t&&"object"==typeof e&&null!==e&&(Object.getPrototypeOf(t)===Object.getPrototypeOf(e)&&(v(t)&&v(e)?S(t)&&S(e)?y(t,e):((t,e)=>{const n=t[Symbol.iterator](),r=e[Symbol.iterator]();let o=n.next(),s=r.next();for(;!o.done&&!s.done;){if(!Object.is(o.value,s.value))return!1;o=n.next(),s=r.next()}return!!o.done&&!!s.done})(t,e):y({entries:()=>Object.entries(t)},{entries:()=>Object.entries(e)})))}function g(e){const n=t.useRef(void 0);return t=>{const r=e(t);return m(n.current,r)?n.current:n.current=r}}export{a,p as c,s as d,u as p,g as u};
