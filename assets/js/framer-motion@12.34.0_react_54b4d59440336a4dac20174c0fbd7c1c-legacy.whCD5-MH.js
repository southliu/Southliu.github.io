!function(){var t=["transitionEnd","transition"],n=["root"];function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(s.push(r.value),s.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,n)||function(t,n){if(t){if("string"==typeof t)return r(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function a(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,n,e){return n=l(n),function(t,n){if(n&&("object"==d(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(n,e||[],l(t).constructor):n.apply(t,e))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function c(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&v(t,n)}function v(t,n){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},v(t,n)}function f(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==n.indexOf(r))continue;e[r]=t[r]}return e}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],-1===n.indexOf(e)&&{}.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function h(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?p(Object(e),!0).forEach(function(n){m(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function m(t,n,e){return(n=y(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function y(t){var n=function(t,n){if("object"!=d(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==d(n)?n:n+""}System.register(["./react@19.2.3-legacy.CjwGwsZR.js","./motion-dom@12.34.0-legacy.BrMTO2Gi.js","./motion-utils@12.29.2-legacy.a69u7nFh.js"],function(r,i){"use strict";var u,l,v,p,m,y,g,w,P,E,x,S,b,C,k,M,j,O,A,D,T,L,I,V,R,W,F,H,B,U,G,_,N,q,X,Y,z,J,K,Z,$,Q,tt,nt,et,rt,ot,it,at,st,ut;return{setters:[function(t){u=t.r,l=t.j},function(t){v=t.g,p=t.s,m=t.i,y=t.a,g=t.b,w=t.c,P=t.d,E=t.e,x=t.f,S=t.r,b=t.h,C=t.j,k=t.k,M=t.l,j=t.m,O=t.o,A=t.S,D=t.H,T=t.F,L=t.n,I=t.p,V=t.q,R=t.t,W=t.u,F=t.v,H=t.w,B=t.x,U=t.y,G=t.z,_=t.A,N=t.B,q=t.C,X=t.D,Y=t.E,z=t.G,J=t.I,K=t.J,Z=t.K,$=t.L,Q=t.M,tt=t.N,nt=t.O,et=t.P},function(t){rt=t.p,ot=t.s,it=t.m,at=t.a,st=t.c,ut=t.n}],execute:function(){var i=u.createContext({});var lt="undefined"!=typeof window,ct=lt?u.useLayoutEffect:u.useEffect,vt=u.createContext(null),ft=u.createContext({transformPagePoint:function(t){return t},isStatic:!1,reducedMotion:"never"});var dt=u.createContext({strict:!1}),pt={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ht=!1;function mt(){return function(){if(!ht){var t={},n=function(n){t[n]={isEnabled:function(t){return pt[n].some(function(n){return!!t[n]})}}};for(var e in pt)n(e);p(t),ht=!0}}(),v()}var yt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function gt(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yt.has(t)}var wt,Pt=function(t){return!gt(t)};try{"function"==typeof(wt=require("@emotion/is-prop-valid").default)&&(Pt=function(t){return t.startsWith("on")?!gt(t):wt(t)})}catch(Bn){}var Et=u.createContext({});function xt(t){var n=function(t,n){if(m(t)){var e=t.initial,r=t.animate;return{initial:!1===e||y(e)?e:void 0,animate:y(r)?r:void 0}}return!1!==t.inherit?n:{}}(t,u.useContext(Et)),e=n.initial,r=n.animate;return u.useMemo(function(){return{initial:e,animate:r}},[St(e),St(r)])}function St(t){return Array.isArray(t)?t.join(" "):t}var bt=function(){return{style:{},transform:{},transformOrigin:{},vars:{}}};function Ct(t,n,e){for(var r in n)g(n[r])||w(r,e)||(t[r]=n[r])}function kt(t,n){var e={};return Ct(e,t.style||{},t),Object.assign(e,function(t,n){var e=t.transformTemplate;return u.useMemo(function(){var t={style:{},transform:{},transformOrigin:{},vars:{}};return P(t,n,e),Object.assign({},t.vars,t.style)},[n])}(t,n)),e}function Mt(t,n){var e={},r=kt(t,n);return t.drag&&!1!==t.dragListener&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-".concat("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(e.tabIndex=0),e.style=r,e}var jt=function(){return h(h({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}})};function Ot(t,n,e,r){var o=u.useMemo(function(){var e=jt();return E(e,n,x(r),t.transformTemplate,t.style),h(h({},e.attrs),{},{style:h({},e.style)})},[n]);if(t.style){var i={};Ct(i,t.style,t),o.style=h(h({},i),o.style)}return o}var At=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dt(t){return"string"==typeof t&&!t.includes("-")&&!!(At.indexOf(t)>-1||/[A-Z]/.test(t))}function Tt(t,n,e,r,o){var i=r.latestValues,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=((null!=s?s:Dt(t))?Ot:Mt)(n,i,o,t),c=function(t,n,e){var r={};for(var o in t)"values"===o&&"object"===d(t.values)||(Pt(o)||!0===e&&gt(o)||!n&&!gt(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}(n,"string"==typeof t,a),v=t!==u.Fragment?h(h(h({},c),l),{},{ref:e}):{},f=n.children,p=u.useMemo(function(){return g(f)?f.get():f},[f]);return u.createElement(t,h(h({},v),{},{children:p}))}function Lt(n,e,r,o){var i={},a=o(n,{});for(var s in a)i[s]=S(a[s]);var u=n.initial,l=n.animate,c=m(n),v=b(n);e&&v&&!c&&!1!==n.inherit&&(void 0===u&&(u=e.initial),void 0===l&&(l=e.animate));var d=!!r&&!1===r.initial,p=(d=d||!1===u)?l:u;if(p&&"boolean"!=typeof p&&!C(p))for(var h=Array.isArray(p)?p:[p],y=0;y<h.length;y++){var g=k(n,h[y]);if(g){var w=g.transitionEnd,P=(g.transition,f(g,t));for(var E in P){var x=P[E];if(Array.isArray(x))x=x[d?x.length-1:0];null!==x&&(i[E]=x)}for(var M in w)i[M]=w[M]}}return i}var It=function(t){return function(n,e){var r,o,i=u.useContext(Et),a=u.useContext(vt),s=function(){return function(t,n,e,r){var o=t.scrapeMotionValuesFromProps,i=t.createRenderState;return{latestValues:Lt(n,e,r,o),renderState:i()}}(t,n,i,a)};return e?s():(r=s,null===(o=u.useRef(null)).current&&(o.current=r()),o.current)}},Vt=It({scrapeMotionValuesFromProps:M,createRenderState:bt}),Rt=It({scrapeMotionValuesFromProps:j,createRenderState:jt}),Wt=Symbol.for("motionComponentSymbol");function Ft(t,n,e){var r=u.useRef(e);u.useInsertionEffect(function(){r.current=e});var o=u.useRef(null);return u.useCallback(function(e){var i;e&&(null===(i=t.onMount)||void 0===i||i.call(t,e));n&&(e?n.mount(e):n.unmount());var a=r.current;if("function"==typeof a)if(e){var s=a(e);"function"==typeof s&&(o.current=s)}else o.current?(o.current(),o.current=null):a(e);else a&&(a.current=e)},[n])}var Ht=u.createContext({});function Bt(t){return t&&"object"===d(t)&&Object.prototype.hasOwnProperty.call(t,"current")}function Ut(t,n,e,r,o,i){var a,s,l,c,v=u.useContext(Et).visualElement,f=u.useContext(dt),d=u.useContext(vt),p=u.useContext(ft),h=p.reducedMotion,m=p.skipAnimations,y=u.useRef(null),g=u.useRef(!1);r=r||f.renderer,!y.current&&r&&(y.current=r(t,{visualState:n,parent:v,props:e,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:h,skipAnimations:m,isSVG:i}),g.current&&y.current&&(y.current.manuallyAnimateOnMount=!0));var w=y.current,P=u.useContext(Ht);!w||w.projection||!o||"html"!==w.type&&"svg"!==w.type||function(t,n,e,r){var o=n.layoutId,i=n.layout,a=n.drag,s=n.dragConstraints,u=n.layoutScroll,l=n.layoutRoot,c=n.layoutCrossfade;t.projection=new e(t.latestValues,n["data-framer-portal-id"]?void 0:Gt(t.parent)),t.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&Bt(s),visualElement:t,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:u,layoutRoot:l})}(y.current,e,o,P);var E=u.useRef(!1);u.useInsertionEffect(function(){w&&E.current&&w.update(e,d)});var x=e[O],S=u.useRef(Boolean(x)&&!(null!==(a=(s=window).MotionHandoffIsComplete)&&void 0!==a&&a.call(s,x))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,x)));return ct(function(){g.current=!0,w&&(E.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),w.scheduleRenderMicrotask(),S.current&&w.animationState&&w.animationState.animateChanges())}),u.useEffect(function(){w&&(!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(queueMicrotask(function(){var t,n;null===(t=(n=window).MotionHandoffMarkAsComplete)||void 0===t||t.call(n,x)}),S.current=!1),w.enteringChildren=void 0)}),w}function Gt(t){if(t)return!1!==t.options.allowProjection?t.projection:Gt(t.parent)}function _t(t){var n,e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.forwardMotionProps,a=void 0!==o&&o,s=r.type,c=arguments.length>2?arguments[2]:void 0,v=arguments.length>3?arguments[3]:void 0;c&&function(t){var n=mt();for(var e in t)n[e]=h(h({},n[e]),t[e]);p(n)}(c);var f=s?"svg"===s:Dt(t),d=f?Rt:Vt;function m(n,e){var r,o,s,c,p=h(h(h({},u.useContext(ft)),n),{},{layoutId:(o=n,s=o.layoutId,c=u.useContext(i).id,c&&void 0!==s?c+"-"+s:s)}),m=p.isStatic,y=xt(n),g=d(n,m);if(!m&&lt){u.useContext(dt).strict;var w=function(t){var n=mt(),e=n.drag,r=n.layout;if(!e&&!r)return{};var o=h(h({},e),r);return{MeasureLayout:null!=e&&e.isEnabled(t)||null!=r&&r.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}(p);r=w.MeasureLayout,y.visualElement=Ut(t,g,p,v,w.ProjectionNode,f)}return l.jsxs(Et.Provider,{value:y,children:[r&&y.visualElement?l.jsx(r,h({visualElement:y.visualElement},p)):null,Tt(t,n,Ft(g,y.visualElement,e),g,m,a,f)]})}m.displayName="motion.".concat("string"==typeof t?t:"create(".concat(null!==(n=null!==(e=t.displayName)&&void 0!==e?e:t.name)&&void 0!==n?n:"",")"));var y=u.forwardRef(m);return y[Wt]=t,y}function Nt(t,n){if("undefined"==typeof Proxy)return _t;var e=new Map,r=function(e,r){return _t(e,r,t,n)};return new Proxy(function(t,n){return r(t,n)},{get:function(o,i){return"create"===i?r:(e.has(i)||e.set(i,_t(i,void 0,t,n)),e.get(i))}})}var qt=function(t,n){var e;return(null!==(e=n.isSVG)&&void 0!==e?e:Dt(t))?new A(n):new D(n,{allowProjection:t!==u.Fragment})},Xt=function(t){function n(t){var e;return o(this,n),e=s(this,n,[t]),t.animationState||(t.animationState=L(t)),e}return c(n,t),a(n,[{key:"updateAnimationControlsSubscription",value:function(){var t=this.node.getProps().animate;C(t)&&(this.unmountControls=t.subscribe(this.node))}},{key:"mount",value:function(){this.updateAnimationControlsSubscription()}},{key:"update",value:function(){this.node.getProps().animate!==(this.node.prevProps||{}).animate&&this.updateAnimationControlsSubscription()}},{key:"unmount",value:function(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}])}(T),Yt=0,zt=function(t){function n(){var t;return o(this,n),(t=s(this,n,arguments)).id=Yt++,t}return c(n,t),a(n,[{key:"update",value:function(){var t=this;if(this.node.presenceContext){var n=this.node.presenceContext,e=n.isPresent,r=n.onExitComplete,o=(this.node.prevPresenceContext||{}).isPresent;if(this.node.animationState&&e!==o){var i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(function(){r(t.id)})}}}},{key:"mount",value:function(){var t=this.node.presenceContext||{},n=t.register,e=t.onExitComplete;e&&e(this.id),n&&(this.unmount=n(this.id))}},{key:"unmount",value:function(){}}])}(T),Jt={animation:{Feature:Xt},exit:{Feature:zt}};function Kt(t){return{point:{x:t.pageX,y:t.pageY}}}function Zt(t,n,e,r){return V(t,n,function(t){return function(n){return I(n)&&t(n,Kt(n))}}(e),r)}var $t=function(t){var n=t.current;return n?n.ownerDocument.defaultView:null},Qt=function(t,n){return Math.abs(t-n)};var tn=new Set(["auto","scroll"]),nn=function(){return a(function t(n,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint,s=i.contextWindow,u=void 0===s?window:s,l=i.dragSnapToOrigin,c=void 0!==l&&l,v=i.distanceThreshold,f=void 0===v?3:v,d=i.element;if(o(this,t),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=function(t){r.handleScroll(t.target)},this.onWindowScroll=function(){r.handleScroll(window)},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var t,n,e,o,i=on(r.lastMoveEventInfo,r.history),a=null!==r.startEvent,s=(t=i.offset,n={x:0,y:0},e=Qt(t.x,n.x),o=Qt(t.y,n.y),Math.sqrt(Math.pow(e,2)+Math.pow(o,2))>=r.distanceThreshold);if(a||s){var u=i.point,l=R.timestamp;r.history.push(h(h({},u),{},{timestamp:l}));var c=r.handlers,v=c.onStart,f=c.onMove;a||(v&&v(r.lastMoveEvent,i),r.startEvent=r.lastMoveEvent),f&&f(r.lastMoveEvent,i)}}},this.handlePointerMove=function(t,n){r.lastMoveEvent=t,r.lastMoveEventInfo=en(n,r.transformPagePoint),W.update(r.updatePoint,!0)},this.handlePointerUp=function(t,n){r.end();var e=r.handlers,o=e.onEnd,i=e.onSessionEnd,a=e.resumeAnimation;if(!r.dragSnapToOrigin&&r.startEvent||a&&a(),r.lastMoveEvent&&r.lastMoveEventInfo){var s=on("pointercancel"===t.type?r.lastMoveEventInfo:en(n,r.transformPagePoint),r.history);r.startEvent&&o&&o(t,s),i&&i(t,s)}},I(n)){this.dragSnapToOrigin=c,this.handlers=e,this.transformPagePoint=a,this.distanceThreshold=f,this.contextWindow=u||window;var p=en(Kt(n),this.transformPagePoint),m=p.point,y=R.timestamp;this.history=[h(h({},m),{},{timestamp:y})];var g=e.onSessionStart;g&&g(n,on(p,this.history)),this.removeListeners=rt(Zt(this.contextWindow,"pointermove",this.handlePointerMove),Zt(this.contextWindow,"pointerup",this.handlePointerUp),Zt(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}},[{key:"startScrollTracking",value:function(t){for(var n=this,e=t.parentElement;e;){var r=getComputedStyle(e);(tn.has(r.overflowX)||tn.has(r.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=function(){window.removeEventListener("scroll",n.onElementScroll,{capture:!0}),window.removeEventListener("scroll",n.onWindowScroll)}}},{key:"handleScroll",value:function(t){var n=this.scrollPositions.get(t);if(n){var e=t===window,r=e?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o=r.x-n.x,i=r.y-n.y;0===o&&0===i||(e?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o,this.lastMoveEventInfo.point.y+=i):this.history.length>0&&(this.history[0].x-=o,this.history[0].y-=i),this.scrollPositions.set(t,r),W.update(this.updatePoint,!0))}}},{key:"updateHandlers",value:function(t){this.handlers=t}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),F(this.updatePoint)}}])}();function en(t,n){return n?{point:n(t.point)}:t}function rn(t,n){return{x:t.x-n.x,y:t.y-n.y}}function on(t,n){var e=t.point;return{point:e,delta:rn(e,sn(n)),offset:rn(e,an(n)),velocity:un(n,.1)}}function an(t){return t[0]}function sn(t){return t[t.length-1]}function un(t,n){if(t.length<2)return{x:0,y:0};for(var e=t.length-1,r=null,o=sn(t);e>=0&&(r=t[e],!(o.timestamp-r.timestamp>ot(n)));)e--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&o.timestamp-r.timestamp>2*ot(n)&&(r=t[1]);var i=it(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};var a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ln(t,n,e){return{min:void 0!==n?t.min+n:void 0,max:void 0!==e?t.max+e-(t.max-t.min):void 0}}function cn(t,n){var e=n.min-t.min,r=n.max-t.max;if(n.max-n.min<t.max-t.min){var o=[r,e];e=o[0],r=o[1]}return{min:e,max:r}}var vn=.35;function fn(t,n,e){return{min:dn(t,n),max:dn(t,e)}}function dn(t,n){return"number"==typeof t?t:t[n]||0}var pn=new WeakMap,hn=function(){return a(function t(n){o(this,t),this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=U(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n},[{key:"start",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.snapToCursor,o=void 0!==r&&r,i=e.distanceThreshold,a=this.visualElement.presenceContext;if(!a||!1!==a.isPresent){var s=this.getProps().dragSnapToOrigin;this.panSession=new nn(t,{onSessionStart:function(t){o&&n.snapToCursor(Kt(t).point),n.stopAnimation()},onStart:function(t,e){var r=n.getProps(),o=r.drag,i=r.dragPropagation,a=r.onDragStart;if(!o||i||(n.openDragLock&&n.openDragLock(),n.openDragLock=z(o),n.openDragLock)){n.latestPointerEvent=t,n.latestPanInfo=e,n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),G(function(t){var e=n.getAxisMotionValue(t).get()||0;if(J.test(e)){var r=n.visualElement.projection;if(r&&r.layout){var o=r.layout.layoutBox[t];if(o)e=B(o)*(parseFloat(e)/100)}}n.originPoint[t]=e}),a&&W.update(function(){return a(t,e)},!1,!0),X(n.visualElement,"transform");var s=n.visualElement.animationState;s&&s.setActive("whileDrag",!0)}},onMove:function(t,e){n.latestPointerEvent=t,n.latestPanInfo=e;var r=n.getProps(),o=r.dragPropagation,i=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(o||n.openDragLock){var u=e.offset;if(i&&null===n.currentDirection)return n.currentDirection=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,e=null;Math.abs(t.y)>n?e="y":Math.abs(t.x)>n&&(e="x");return e}(u),void(null!==n.currentDirection&&a&&a(n.currentDirection));n.updateAxis("x",e.point,u),n.updateAxis("y",e.point,u),n.visualElement.render(),s&&W.update(function(){return s(t,e)},!1,!0)}},onSessionEnd:function(t,e){n.latestPointerEvent=t,n.latestPanInfo=e,n.stop(t,e),n.latestPointerEvent=null,n.latestPanInfo=null},resumeAnimation:function(){(n.getProps().dragSnapToOrigin||n.constraints)&&n.startAnimation({x:0,y:0})}},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:i,contextWindow:$t(this.visualElement),element:this.visualElement.current})}}},{key:"stop",value:function(t,n){var e=t||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),o&&r&&e){var i=r.velocity;this.startAnimation(i);var a=this.getProps().onDragEnd;a&&W.postRender(function(){return a(e,r)})}}},{key:"cancel",value:function(){this.isDragging=!1;var t=this.visualElement,n=t.projection,e=t.animationState;n&&(n.isAnimationBlocked=!1),this.endPanSession(),!this.getProps().dragPropagation&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}},{key:"endPanSession",value:function(){this.panSession&&this.panSession.end(),this.panSession=void 0}},{key:"updateAxis",value:function(t,n,e){var r=this.getProps().drag;if(e&&yn(t,r,this.currentDirection)){var o,i,a,s,u,l=this.getAxisMotionValue(t),c=this.originPoint[t]+e[t];this.constraints&&this.constraints[t]&&(o=c,i=this.constraints[t],a=this.elastic[t],s=i.min,u=i.max,void 0!==s&&o<s?o=a?H(s,o,a.min):Math.max(o,s):void 0!==u&&o>u&&(o=a?H(u,o,a.max):Math.min(o,u)),c=o),l.set(c)}}},{key:"resolveConstraints",value:function(){var t,n,e,r,o,i,a,s=this,u=this.getProps(),l=u.dragConstraints,c=u.dragElastic,v=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,f=this.constraints;l&&Bt(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!l||!v)&&(n=v.layoutBox,r=(e=l).top,o=e.left,i=e.bottom,a=e.right,{x:ln(n.x,o,a),y:ln(n.y,r,i)}),this.elastic=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;return!1===t?t=0:!0===t&&(t=vn),{x:fn(t,"left","right"),y:fn(t,"top","bottom")}}(c),f!==this.constraints&&!Bt(l)&&v&&this.constraints&&!this.hasMutatedConstraints&&G(function(t){!1!==s.constraints&&s.getAxisMotionValue(t)&&(s.constraints[t]=function(t,n){var e={};return void 0!==n.min&&(e.min=n.min-t.min),void 0!==n.max&&(e.max=n.max-t.min),e}(v.layoutBox[t],s.constraints[t]))})}},{key:"resolveRefConstraints",value:function(){var t=this.getProps(),n=t.dragConstraints,e=t.onMeasureDragConstraints;if(!n||!Bt(n))return!1;var r=n.current,o=this.visualElement.projection;if(!o||!o.layout)return!1;var i=_(r,o.root,this.visualElement.getTransformPagePoint()),a=function(t,n){return{x:cn(t.x,n.x),y:cn(t.y,n.y)}}(o.layout.layoutBox,i);if(e){var s=e(N(a));this.hasMutatedConstraints=!!s,s&&(a=q(s))}return a}},{key:"startAnimation",value:function(t){var n=this,e=this.getProps(),r=e.drag,o=e.dragMomentum,i=e.dragElastic,a=e.dragTransition,s=e.dragSnapToOrigin,u=e.onDragTransitionEnd,l=this.constraints||{},c=G(function(e){if(yn(e,r,n.currentDirection)){var u=l&&l[e]||{};s&&(u={min:0,max:0});var c=i?200:1e6,v=i?40:1e7,f=h(h({type:"inertia",velocity:o?t[e]:0,bounceStiffness:c,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10},a),u);return n.startAxisValueAnimation(e,f)}});return Promise.all(c).then(u)}},{key:"startAxisValueAnimation",value:function(t,n){var e=this.getAxisMotionValue(t);return X(this.visualElement,t),e.start(Y(t,e,0,n,this.visualElement,!1))}},{key:"stopAnimation",value:function(){var t=this;G(function(n){return t.getAxisMotionValue(n).stop()})}},{key:"getAxisMotionValue",value:function(t){var n="_drag".concat(t.toUpperCase()),e=this.visualElement.getProps(),r=e[n];return r||this.visualElement.getValue(t,(e.initial?e.initial[t]:void 0)||0)}},{key:"snapToCursor",value:function(t){var n=this;G(function(e){if(yn(e,n.getProps().drag,n.currentDirection)){var r=n.visualElement.projection,o=n.getAxisMotionValue(e);if(r&&r.layout){var i=r.layout.layoutBox[e],a=i.min,s=i.max,u=o.get()||0;o.set(t[e]-H(a,s,.5)+u)}}})}},{key:"scalePositionWithinConstraints",value:function(){var t=this;if(this.visualElement.current){var n=this.getProps(),e=n.drag,r=n.dragConstraints,o=this.visualElement.projection;if(Bt(r)&&o&&this.constraints){this.stopAnimation();var i={x:0,y:0};G(function(n){var e,r,o,a,s,u=t.getAxisMotionValue(n);if(u&&!1!==t.constraints){var l=u.get();i[n]=(e={min:l,max:l},r=t.constraints[n],o=.5,a=B(e),(s=B(r))>a?o=at(r.min,r.max-a,e.min):a>s&&(o=at(e.min,e.max-s,r.min)),st(0,1,o))}});var a=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=a?a({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.constraints=!1,this.resolveConstraints(),G(function(n){if(yn(n,e,null)){var r=t.getAxisMotionValue(n),o=t.constraints[n],a=o.min,s=o.max;r.set(H(a,s,i[n]))}}),this.visualElement.render()}}}},{key:"addListeners",value:function(){var t=this;if(this.visualElement.current){pn.set(this.visualElement,this);var n,e=this.visualElement.current,r=Zt(e,"pointerdown",function(n){var r=t.getProps(),o=r.drag,i=r.dragListener,a=void 0===i||i,s=n.target,u=s!==e&&Z(s);o&&a&&!u&&t.start(n)}),o=function(){var r=t.getProps().dragConstraints;Bt(r)&&r.current&&(t.constraints=t.resolveRefConstraints(),n||(n=function(t,n,e){var r=K(t,mn(e)),o=K(n,mn(e));return function(){r(),o()}}(e,r.current,function(){return t.scalePositionWithinConstraints()})))},i=this.visualElement.projection,a=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),W.read(o);var s=V(window,"resize",function(){return t.scalePositionWithinConstraints()}),u=i.addEventListener("didUpdate",function(n){var e=n.delta,r=n.hasLayoutChanged;t.isDragging&&r&&(G(function(n){var r=t.getAxisMotionValue(n);r&&(t.originPoint[n]+=e[n].translate,r.set(r.get()+e[n].translate))}),t.visualElement.render())});return function(){s(),r(),a(),u&&u(),n&&n()}}}},{key:"getProps",value:function(){var t=this.visualElement.getProps(),n=t.drag,e=void 0!==n&&n,r=t.dragDirectionLock,o=void 0!==r&&r,i=t.dragPropagation,a=void 0!==i&&i,s=t.dragConstraints,u=void 0!==s&&s,l=t.dragElastic,c=void 0===l?vn:l,v=t.dragMomentum,f=void 0===v||v;return h(h({},t),{},{drag:e,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:f})}}])}();function mn(t){var n=!0;return function(){n?n=!1:t()}}function yn(t,n,e){return!(!0!==n&&n!==t||null!==e&&e!==t)}var gn=function(t){function n(t){var e;return o(this,n),(e=s(this,n,[t])).removeGroupControls=ut,e.removeListeners=ut,e.controls=new hn(t),e}return c(n,t),a(n,[{key:"mount",value:function(){var t=this.node.getProps().dragControls;t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}},{key:"update",value:function(){var t=this.node.getProps().dragControls;t!==(this.node.prevProps||{}).dragControls&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}},{key:"unmount",value:function(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}])}(T),wn=function(t){return function(n,e){t&&W.update(function(){return t(n,e)},!1,!0)}},Pn=function(t){function n(){var t;return o(this,n),(t=s(this,n,arguments)).removePointerDownListener=ut,t}return c(n,t),a(n,[{key:"onPointerDown",value:function(t){this.session=new nn(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$t(this.node)})}},{key:"createPanHandlers",value:function(){var t=this,n=this.node.getProps(),e=n.onPanSessionStart,r=n.onPanStart,o=n.onPan,i=n.onPanEnd;return{onSessionStart:wn(e),onStart:wn(r),onMove:wn(o),onEnd:function(n,e){delete t.session,i&&W.postRender(function(){return i(n,e)})}}}},{key:"mount",value:function(){var t=this;this.removePointerDownListener=Zt(this.node.current,"pointerdown",function(n){return t.onPointerDown(n)})}},{key:"update",value:function(){this.session&&this.session.updateHandlers(this.createPanHandlers())}},{key:"unmount",value:function(){this.removePointerDownListener(),this.session&&this.session.end()}}])}(T),En=!1,xn=function(t){function n(){return o(this,n),s(this,n,arguments)}return c(n,t),a(n,[{key:"componentDidMount",value:function(){var t=this,n=this.props,e=n.visualElement,r=n.layoutGroup,o=n.switchLayoutGroup,i=n.layoutId,a=e.projection;a&&(r.group&&r.group.add(a),o&&o.register&&i&&o.register(a),En&&a.root.didUpdate(),a.addEventListener("animationComplete",function(){t.safeToRemove()}),a.setOptions(h(h({},a.options),{},{layoutDependency:this.props.layoutDependency,onExitComplete:function(){return t.safeToRemove()}}))),$.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(t){var n=this,e=this.props,r=e.layoutDependency,o=e.visualElement,i=e.drag,a=e.isPresent,s=o.projection;return s?(s.isPresent=a,t.layoutDependency!==r&&s.setOptions(h(h({},s.options),{},{layoutDependency:r})),En=!0,i||t.layoutDependency!==r||void 0===r||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||W.postRender(function(){var t=s.getStack();t&&t.members.length||n.safeToRemove()})),null):null}},{key:"componentDidUpdate",value:function(){var t=this,n=this.props.visualElement.projection;n&&(n.root.didUpdate(),Q.postRender(function(){!n.currentAnimation&&n.isLead()&&t.safeToRemove()}))}},{key:"componentWillUnmount",value:function(){var t=this.props,n=t.visualElement,e=t.layoutGroup,r=t.switchLayoutGroup,o=n.projection;En=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),r&&r.deregister&&r.deregister(o))}},{key:"safeToRemove",value:function(){var t=this.props.safeToRemove;t&&t()}},{key:"render",value:function(){return null}}])}(u.Component);function Sn(t){var n=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=u.useContext(vt);if(null===n)return[!0,null];var e=n.isPresent,r=n.onExitComplete,o=n.register,i=u.useId();u.useEffect(function(){if(t)return o(i)},[t]);var a=u.useCallback(function(){return t&&r&&r(i)},[i,r,t]);return!e&&r?[!1,a]:[!0]}(),r=e(n,2),o=r[0],a=r[1],s=u.useContext(i);return l.jsx(xn,h(h({},t),{},{layoutGroup:s,switchLayoutGroup:u.useContext(Ht),isPresent:o,safeToRemove:a}))}var bn={pan:{Feature:Pn},drag:{Feature:gn,ProjectionNode:tt,MeasureLayout:Sn}};function Cn(t,n,e){var r=t.props;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover","Start"===e);var o=r["onHover"+e];o&&W.postRender(function(){return o(n,Kt(n))})}var kn=function(t){function n(){return o(this,n),s(this,n,arguments)}return c(n,t),a(n,[{key:"mount",value:function(){var t=this,n=this.node.current;n&&(this.unmount=nt(n,function(n,e){return Cn(t.node,e,"Start"),function(n){return Cn(t.node,n,"End")}}))}},{key:"unmount",value:function(){}}])}(T),Mn=function(t){function n(){var t;return o(this,n),(t=s(this,n,arguments)).isActive=!1,t}return c(n,t),a(n,[{key:"onFocus",value:function(){var t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}},{key:"onBlur",value:function(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}},{key:"mount",value:function(){var t=this;this.unmount=rt(V(this.node.current,"focus",function(){return t.onFocus()}),V(this.node.current,"blur",function(){return t.onBlur()}))}},{key:"unmount",value:function(){}}])}(T);function jn(t,n,e){var r=t.props;if(!(t.current instanceof HTMLButtonElement&&t.current.disabled)){t.animationState&&r.whileTap&&t.animationState.setActive("whileTap","Start"===e);var o=r["onTap"+("End"===e?"":e)];o&&W.postRender(function(){return o(n,Kt(n))})}}var On=function(t){function n(){return o(this,n),s(this,n,arguments)}return c(n,t),a(n,[{key:"mount",value:function(){var t=this,n=this.node.current;if(n){var e=this.node.props,r=e.globalTapTarget,o=e.propagate;this.unmount=et(n,function(n,e){return jn(t.node,e,"Start"),function(n,e){var r=e.success;return jn(t.node,n,r?"End":"Cancel")}},{useGlobalTarget:r,stopPropagation:!1===(null==o?void 0:o.tap)})}}},{key:"unmount",value:function(){}}])}(T),An=new WeakMap,Dn=new WeakMap,Tn=function(t){var n=An.get(t.target);n&&n(t)},Ln=function(t){t.forEach(Tn)};function In(t,e,r){var o=function(t){var e=t.root,r=f(t,n),o=e||document;Dn.has(o)||Dn.set(o,{});var i=Dn.get(o),a=JSON.stringify(r);return i[a]||(i[a]=new IntersectionObserver(Ln,h({root:e},r))),i[a]}(e);return An.set(t,r),o.observe(t),function(){An.delete(t),o.unobserve(t)}}var Vn={some:0,all:1},Rn=function(t){function n(){var t;return o(this,n),(t=s(this,n,arguments)).hasEnteredView=!1,t.isInView=!1,t}return c(n,t),a(n,[{key:"startObserver",value:function(){var t=this;this.unmount();var n=this.node.getProps().viewport,e=void 0===n?{}:n,r=e.root,o=e.margin,i=e.amount,a=void 0===i?"some":i,s=e.once,u={root:r?r.current:void 0,rootMargin:o,threshold:"number"==typeof a?a:Vn[a]};return In(this.node.current,u,function(n){var e=n.isIntersecting;if(t.isInView!==e&&(t.isInView=e,!s||e||!t.hasEnteredView)){e&&(t.hasEnteredView=!0),t.node.animationState&&t.node.animationState.setActive("whileInView",e);var r=t.node.getProps(),o=r.onViewportEnter,i=r.onViewportLeave,a=e?o:i;a&&a(n)}})}},{key:"mount",value:function(){this.startObserver()}},{key:"update",value:function(){if("undefined"!=typeof IntersectionObserver){var t=this.node,n=t.props,e=t.prevProps,r=["amount","margin","root"].some(function(t){var n=t.viewport,e=void 0===n?{}:n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.viewport,i=void 0===o?{}:o;return function(t){return e[t]!==i[t]}}(n,e));r&&this.startObserver()}}},{key:"unmount",value:function(){}}])}(T);var Wn={inView:{Feature:Rn},tap:{Feature:On},focus:{Feature:Mn},hover:{Feature:kn}},Fn={layout:{ProjectionNode:tt,MeasureLayout:Sn}},Hn=h(h(h(h({},Jt),Wn),bn),Fn);r("m",Nt(Hn,qt))}}})}();
