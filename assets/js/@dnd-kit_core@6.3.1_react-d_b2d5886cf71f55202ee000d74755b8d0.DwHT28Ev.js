import{r as e,e as t}from"./react@19.1.1.DAMsdXqD.js";import{r as n}from"./react-dom@19.1.1_react@19.1.1.B7F1CN4Z.js";import{u as r,a as o,g as i,b as a,c as l,d as s,e as c,i as d,s as u,f as h,h as v,j as g,k as f,l as p,m as b,n as m,o as y,p as w,q as x,r as D,t as C}from"./@dnd-kit_utilities@3.2.2_react@19.1.1.OLaQZAX8.js";import{u as E,H as R,L as M}from"./@dnd-kit_accessibility@3.1.1_react@19.1.1.ad2UXow2.js";const S=e.createContext(null);const N={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},k={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function A(r){let{announcements:i=k,container:a,hiddenTextDescribedById:l,screenReaderInstructions:s=N}=r;const{announce:c,announcement:d}=E(),u=o("DndLiveRegion"),[h,v]=e.useState(!1);if(e.useEffect(()=>{v(!0)},[]),function(t){const n=e.useContext(S);e.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n])}(e.useMemo(()=>({onDragStart(e){let{active:t}=e;c(i.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;i.onDragMove&&c(i.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;c(i.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;c(i.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;c(i.onDragCancel({active:t,over:n}))}}),[c,i])),!h)return null;const g=t.createElement(t.Fragment,null,t.createElement(R,{id:l,value:s.draggable}),t.createElement(M,{id:u,announcement:d}));return a?n.createPortal(g,a):g}var T,L;function O(){}function B(t,n){return e.useMemo(()=>({sensor:t,options:null!=n?n:{}}),[t,n])}(L=T||(T={})).DragStart="dragStart",L.DragMove="dragMove",L.DragEnd="dragEnd",L.DragCancel="dragCancel",L.DragOver="dragOver",L.RegisterDroppable="registerDroppable",L.SetDroppableDisabled="setDroppableDisabled",L.UnregisterDroppable="unregisterDroppable";const P=Object.freeze({x:0,y:0});function z(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function I(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function F(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function U(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const j=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=U(t,t.left,t.top),i=[];for(const a of r){const{id:e}=a,t=n.get(e);if(t){const n=z(U(t),o);i.push({id:e,data:{droppableContainer:a,value:n}})}}return i.sort(I)};function K(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,l=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*l;return Number((o/(n+r-o)).toFixed(4))}return 0}const W=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:e}=i,r=n.get(e);if(r){const n=K(r,t);n>0&&o.push({id:e,data:{droppableContainer:i,value:n}})}}return o.sort(F)};function H(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:P}function _(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}const X=_(1);const Y={ignoreTransform:!1};function q(e,t){void 0===t&&(t=Y);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=a(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:l}=r,s=e.left-a-(1-o)*parseFloat(n),c=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,u=i?e.height/i:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(n,t,r))}const{top:r,left:o,width:i,height:l,bottom:s,right:c}=n;return{top:r,left:o,width:i,height:l,bottom:s,right:c}}function J(e){return q(e,{ignoreTransform:!0})}function V(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(D(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!v(o)||C(o))return n;if(n.includes(o))return n;const i=a(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=a(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=a(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function G(e){const[t]=V(e,1);return null!=t?t:null}function Q(e){return f&&e?w(e)?e:x(e)?D(e)||e===c(e).scrollingElement?window:v(e)?e:null:null:null}function Z(e){return w(e)?e.scrollX:e.scrollLeft}function $(e){return w(e)?e.scrollY:e.scrollTop}function ee(e){return{x:Z(e),y:$(e)}}var te,ne;function re(e){return!(!f||!e)&&e===document.scrollingElement}function oe(e){const t={x:0,y:0},n=re(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(ne=te||(te={}))[ne.Forward=1]="Forward",ne[ne.Backward=-1]="Backward";const ie={x:.2,y:.2};function ae(e,t,n,r,o){let{top:i,left:a,right:l,bottom:s}=n;void 0===r&&(r=10),void 0===o&&(o=ie);const{isTop:c,isBottom:d,isLeft:u,isRight:h}=oe(e),v={x:0,y:0},g={x:0,y:0},f=t.height*o.y,p=t.width*o.x;return!c&&i<=t.top+f?(v.y=te.Backward,g.y=r*Math.abs((t.top+f-i)/f)):!d&&s>=t.bottom-f&&(v.y=te.Forward,g.y=r*Math.abs((t.bottom-f-s)/f)),!h&&l>=t.right-p?(v.x=te.Forward,g.x=r*Math.abs((t.right-p-l)/p)):!u&&a<=t.left+p&&(v.x=te.Backward,g.x=r*Math.abs((t.left+p-a)/p)),{direction:v,speed:g}}function le(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function se(e){return e.reduce((e,t)=>l(e,ee(t)),P)}const ce=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Z(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+$(t),0)}]];class de{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=V(t),r=se(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,a]of ce)for(const e of i)Object.defineProperty(this,e,{get:()=>{const t=a(n),i=r[o]-t;return this.rect[e]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ue{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function he(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var ve,ge,fe,pe;function be(e){e.preventDefault()}function me(e){e.stopPropagation()}(ge=ve||(ve={})).Click="click",ge.DragStart="dragstart",ge.Keydown="keydown",ge.ContextMenu="contextmenu",ge.Resize="resize",ge.SelectionChange="selectionchange",ge.VisibilityChange="visibilitychange",(pe=fe||(fe={})).Space="Space",pe.Down="ArrowDown",pe.Right="ArrowRight",pe.Left="ArrowLeft",pe.Up="ArrowUp",pe.Esc="Escape",pe.Enter="Enter",pe.Tab="Tab";const ye={start:[fe.Space,fe.Enter],cancel:[fe.Esc],end:[fe.Space,fe.Enter,fe.Tab]},we=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case fe.Right:return{...n,x:n.x+25};case fe.Left:return{...n,x:n.x-25};case fe.Down:return{...n,y:n.y+25};case fe.Up:return{...n,y:n.y-25}}};class xe{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new ue(c(t)),this.windowListeners=new ue(a(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ve.Resize,this.handleCancel),this.windowListeners.add(ve.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ve.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=q),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);G(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(P)}handleKeyDown(e){if(d(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=ye,coordinateGetter:i=we,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:c}=n.current,d=c?{x:c.left,y:c.top}:P;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(e,{active:t,context:n.current,currentCoordinates:d});if(h){const t=u(h,d),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:l,isLeft:s,isBottom:c,maxScroll:d,minScroll:u}=oe(n),v=le(n),g={x:Math.min(o===fe.Right?v.right-v.width/2:v.right,Math.max(o===fe.Right?v.left:v.left+v.width/2,h.x)),y:Math.min(o===fe.Down?v.bottom-v.height/2:v.bottom,Math.max(o===fe.Down?v.top:v.top+v.height/2,h.y))},f=o===fe.Right&&!l||o===fe.Left&&!s,p=o===fe.Down&&!c||o===fe.Up&&!i;if(f&&g.x!==h.x){const e=n.scrollLeft+t.x,i=o===fe.Right&&e<=d.x||o===fe.Left&&e>=u.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===fe.Right?n.scrollLeft-d.x:n.scrollLeft-u.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(p&&g.y!==h.y){const e=n.scrollTop+t.y,i=o===fe.Down&&e<=d.y||o===fe.Up&&e>=u.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===fe.Down?n.scrollTop-d.y:n.scrollTop-u.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,l(u(h,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function De(e){return Boolean(e&&"distance"in e)}function Ce(e){return Boolean(e&&"delay"in e)}xe.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=ye,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==o||o({event:e.nativeEvent}),!0)}return!1}}];class Ee{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=a(e);return e instanceof t?e:c(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:l}=o;this.props=e,this.events=t,this.document=c(l),this.documentListeners=new ue(this.document),this.listeners=new ue(n),this.windowListeners=new ue(a(l)),this.initialCoordinates=null!=(r=i(o))?r:P,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ve.Resize,this.handleCancel),this.windowListeners.add(ve.DragStart,be),this.windowListeners.add(ve.VisibilityChange,this.handleCancel),this.windowListeners.add(ve.ContextMenu,be),this.documentListeners.add(ve.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ce(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(De(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ve.Click,me,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ve.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:a,options:{activationConstraint:l}}=o;if(!r)return;const s=null!=(t=i(e))?t:P,c=u(r,s);if(!n&&l){if(De(l)){if(null!=l.tolerance&&he(c,l.tolerance))return this.handleCancel();if(he(c,l.distance))return this.handleStart()}return Ce(l)&&he(c,l.tolerance)?this.handleCancel():void this.handlePending(l,c)}e.cancelable&&e.preventDefault(),a(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===fe.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Re={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Me extends Ee{constructor(e){const{event:t}=e,n=c(t.target);super(e,Re,n)}}Me.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Se={move:{name:"mousemove"},end:{name:"mouseup"}};var Ne,ke;(ke=Ne||(Ne={}))[ke.RightClick=2]="RightClick";(class extends Ee{constructor(e){super(e,Se,c(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ne.RightClick&&(null==r||r({event:n}),!0)}}];const Ae={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Te,Le,Oe,Be;function Pe(t){let{acceleration:n,activator:r=Te.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:l=5,order:s=Oe.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:v,threshold:g}=t;const f=function(e){let{delta:t,disabled:n}=e;const r=b(t);return h(e=>{if(n||!r||!e)return ze;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[te.Backward]:e.x[te.Backward]||-1===o.x,[te.Forward]:e.x[te.Forward]||1===o.x},y:{[te.Backward]:e.y[te.Backward]||-1===o.y,[te.Forward]:e.y[te.Forward]||1===o.y}}},[n,t,r])}({delta:v,disabled:!a}),[m,y]=p(),w=e.useRef({x:0,y:0}),x=e.useRef({x:0,y:0}),D=e.useMemo(()=>{switch(r){case Te.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Te.DraggableRect:return i}},[r,i,c]),C=e.useRef(null),E=e.useCallback(()=>{const e=C.current;if(!e)return;const t=w.current.x*x.current.x,n=w.current.y*x.current.y;e.scrollBy(t,n)},[]),R=e.useMemo(()=>s===Oe.TreeOrder?[...d].reverse():d,[s,d]);e.useEffect(()=>{if(a&&d.length&&D){for(const e of R){if(!1===(null==o?void 0:o(e)))continue;const t=d.indexOf(e),r=u[t];if(!r)continue;const{direction:i,speed:a}=ae(e,r,D,n,g);for(const e of["x","y"])f[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return y(),C.current=e,m(E,l),w.current=a,void(x.current=i)}w.current={x:0,y:0},x.current={x:0,y:0},y()}else y()},[n,E,o,y,a,l,JSON.stringify(D),JSON.stringify(f),m,d,R,u,JSON.stringify(g)])}(class extends Ee{constructor(e){super(e,Ae)}static setup(){return window.addEventListener(Ae.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ae.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1)&&(null==r||r({event:n}),!0)}}],(Le=Te||(Te={}))[Le.Pointer=0]="Pointer",Le[Le.DraggableRect=1]="DraggableRect",(Be=Oe||(Oe={}))[Be.TreeOrder=0]="TreeOrder",Be[Be.ReversedTreeOrder=1]="ReversedTreeOrder";const ze={x:{[te.Backward]:!1,[te.Forward]:!1},y:{[te.Backward]:!1,[te.Forward]:!1}};var Ie,Fe,Ue;(Fe=Ie||(Ie={}))[Fe.Always=0]="Always",Fe[Fe.BeforeDragging=1]="BeforeDragging",Fe[Fe.WhileDragging=2]="WhileDragging",(Ue||(Ue={})).Optimized="optimized";const je=new Map;function Ke(e,t){return h(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function We(t){let{callback:n,disabled:r}=t;const o=y(n),i=e.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)},[r]);return e.useEffect(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function He(e){return new de(q(e),e)}function _e(t,n,r){void 0===n&&(n=He);const[o,i]=e.useState(null);function a(){i(e=>{if(!t)return null;var o;if(!1===t.isConnected)return null!=(o=null!=e?e:r)?o:null;const i=n(t);return JSON.stringify(e)===JSON.stringify(i)?e:i})}const l=function(t){let{callback:n,disabled:r}=t;const o=y(n),i=e.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)},[o,r]);return e.useEffect(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){a();break}}}}),c=We({callback:a});return s(()=>{a(),t?(null==c||c.observe(t),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==c||c.disconnect(),null==l||l.disconnect())},[t]),o}const Xe=[];function Ye(t,n){void 0===n&&(n=[]);const r=e.useRef(null);return e.useEffect(()=>{r.current=null},n),e.useEffect(()=>{const e=t!==P;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)},[t]),r.current?u(t,r.current):P}function qe(t){return e.useMemo(()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null,[t])}const Je=[];function Ve(t){let{measure:n}=t;const[r,o]=e.useState(null),i=We({callback:e.useCallback(e=>{for(const{target:t}of e)if(v(t)){o(e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r});break}},[n])}),a=e.useCallback(e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return v(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)},[n,i]),[l,s]=g(a);return e.useMemo(()=>({nodeRef:l,rect:r,setRef:s}),[r,l,s])}const Ge=[{sensor:Me,options:{}},{sensor:xe,options:{}}],Qe={current:{}},Ze={draggable:{measure:J},droppable:{measure:J,strategy:Ie.WhileDragging,frequency:Ue.Optimized},dragOverlay:{measure:q}};class $e extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const et={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $e,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:O},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ze,measureDroppableContainers:O,windowRect:null,measuringScheduled:!1},tt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:O,draggableNodes:new Map,over:null,measureDroppableContainers:O},nt=e.createContext(tt),rt=e.createContext(et);function ot(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $e}}}function it(e,t){switch(t.type){case T.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case T.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case T.DragEnd:case T.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case T.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new $e(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case T.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new $e(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case T.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new $e(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function at(t){let{disabled:n}=t;const{active:r,activatorEvent:o,draggableNodes:i}=e.useContext(nt),a=b(o),l=b(null==r?void 0:r.id);return e.useEffect(()=>{if(!n&&!o&&a&&null!=l){if(!d(a))return;if(document.activeElement===a.target)return;const e=i.get(l);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=m(e);if(t){t.focus();break}}})}},[o,n,i,l,a]),null}const lt=e.createContext({...P,scaleX:1,scaleY:1});var st,ct;(ct=st||(st={}))[ct.Uninitialized=0]="Uninitialized",ct[ct.Initializing=1]="Initializing",ct[ct.Initialized=2]="Initialized";const dt=e.memo(function(c){var d,u,v,g;let{id:p,accessibility:b,autoScroll:m=!0,children:y,sensors:w=Ge,collisionDetection:x=W,measuring:D,modifiers:C,...E}=c;const R=e.useReducer(it,void 0,ot),[M,N]=R,[k,L]=function(){const[t]=e.useState(()=>new Set),n=e.useCallback(e=>(t.add(e),()=>t.delete(e)),[t]);return[e.useCallback(e=>{let{type:n,event:r}=e;t.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[t]),n]}(),[O,B]=e.useState(st.Uninitialized),z=O===st.Initialized,{draggable:{active:I,nodes:F,translate:U},droppable:{containers:j}}=M,K=null!=I?F.get(I):null,_=e.useRef({initial:null,translated:null}),Y=e.useMemo(()=>{var e;return null!=I?{id:I,data:null!=(e=null==K?void 0:K.data)?e:Qe,rect:_}:null},[I,K]),J=e.useRef(null),[Z,$]=e.useState(null),[te,ne]=e.useState(null),oe=r(E,Object.values(E)),ie=o("DndDescribedBy",p),ae=e.useMemo(()=>j.getEnabled(),[j]),le=(ce=D,e.useMemo(()=>({draggable:{...Ze.draggable,...null==ce?void 0:ce.draggable},droppable:{...Ze.droppable,...null==ce?void 0:ce.droppable},dragOverlay:{...Ze.dragOverlay,...null==ce?void 0:ce.dragOverlay}}),[null==ce?void 0:ce.draggable,null==ce?void 0:ce.droppable,null==ce?void 0:ce.dragOverlay]));var ce;const{droppableRects:ue,measureDroppableContainers:he,measuringScheduled:ve}=function(t,n){let{dragging:o,dependencies:i,config:a}=n;const[l,s]=e.useState(null),{frequency:c,measure:d,strategy:u}=a,v=e.useRef(t),g=function(){switch(u){case Ie.Always:return!1;case Ie.BeforeDragging:return o;default:return!o}}(),f=r(g),p=e.useCallback(function(e){void 0===e&&(e=[]),f.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),b=e.useRef(null),m=h(e=>{if(g&&!o)return je;if(!e||e===je||v.current!==t||null!=l){const e=new Map;for(let n of t){if(!n)continue;if(l&&l.length>0&&!l.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new de(d(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e},[t,l,o,g,d]);return e.useEffect(()=>{v.current=t},[t]),e.useEffect(()=>{g||p()},[o,g]),e.useEffect(()=>{l&&l.length>0&&s(null)},[JSON.stringify(l)]),e.useEffect(()=>{g||"number"!=typeof c||null!==b.current||(b.current=setTimeout(()=>{p(),b.current=null},c))},[c,g,p,...i]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:null!=l}}(ae,{dragging:z,dependencies:[U.x,U.y],config:le.droppable}),ge=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return h(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(F,I),fe=e.useMemo(()=>te?i(te):null,[te]),pe=function(){const e=!1===(null==Z?void 0:Z.autoScrollEnabled),t="object"==typeof m?!1===m.enabled:!1===m,n=z&&!e&&!t;if("object"==typeof m)return{...m,enabled:n};return{enabled:n}}(),be=function(e,t){return Ke(e,t)}(ge,le.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=t;const a=e.useRef(!1),{x:l,y:c}="boolean"==typeof i?{x:i,y:i}:i;s(()=>{if(!l&&!c||!n)return void(a.current=!1);if(a.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=H(r(e),o);if(l||(t.x=0),c||(t.y=0),a.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=G(e);n&&n.scrollBy({top:t.y,left:t.x})}},[n,l,c,o,r])}({activeNode:null!=I?F.get(I):null,config:pe.layoutShiftCompensation,initialRect:be,measure:le.draggable.measure});const me=_e(ge,le.draggable.measure,be),ye=_e(ge?ge.parentElement:null),we=e.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:ue,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=j.getNodeFor(null==(d=we.current.over)?void 0:d.id),De=Ve({measure:le.dragOverlay.measure}),Ce=null!=(u=De.nodeRef.current)?u:ge,Ee=z?null!=(v=De.rect)?v:me:null,Re=Boolean(De.nodeRef.current&&De.rect),Me=H(Se=Re?null:me,Ke(Se));var Se;const Ne=qe(Ce?a(Ce):null),ke=function(t){const n=e.useRef(t),r=h(e=>t?e&&e!==Xe&&t&&n.current&&t.parentNode===n.current.parentNode?e:V(t):Xe,[t]);return e.useEffect(()=>{n.current=t},[t]),r}(z?null!=xe?xe:ge:null),Ae=function(t,n){void 0===n&&(n=q);const[r]=t,o=qe(r?a(r):null),[i,l]=e.useState(Je);function c(){l(()=>t.length?t.map(e=>re(e)?o:new de(n(e),e)):Je)}const d=We({callback:c});return s(()=>{null==d||d.disconnect(),c(),t.forEach(e=>null==d?void 0:d.observe(e))},[t]),i}(ke),Te=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(C,{transform:{x:U.x-Me.x,y:U.y-Me.y,scaleX:1,scaleY:1},activatorEvent:te,active:Y,activeNodeRect:me,containerNodeRect:ye,draggingNodeRect:Ee,over:we.current.over,overlayNodeRect:De.rect,scrollableAncestors:ke,scrollableAncestorRects:Ae,windowRect:Ne}),Le=fe?l(fe,U):null,Oe=function(t){const[n,r]=e.useState(null),o=e.useRef(t),i=e.useCallback(e=>{const t=Q(e.target);t&&r(e=>e?(e.set(t,ee(t)),new Map(e)):null)},[]);return e.useEffect(()=>{const e=o.current;if(t!==e){n(e);const a=t.map(e=>{const t=Q(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,ee(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),o.current=t}return()=>{n(t),n(e)};function n(e){e.forEach(e=>{const t=Q(e);null==t||t.removeEventListener("scroll",i)})}},[i,t]),e.useMemo(()=>t.length?n?Array.from(n.values()).reduce((e,t)=>l(e,t),P):se(t):P,[t,n])}(ke),Be=Ye(Oe),ze=Ye(Oe,[me]),Fe=l(Te,Be),Ue=Ee?X(Ee,Te):null,He=Y&&Ue?x({active:Y,collisionRect:Ue,droppableRects:ue,droppableContainers:ae,pointerCoordinates:Le}):null,$e=function(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}(He,"id"),[et,tt]=e.useState(null),ct=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Re?Te:l(Te,ze),null!=(g=null==et?void 0:et.rect)?g:null,me),dt=e.useRef(null),ut=e.useCallback((e,t)=>{let{sensor:r,options:o}=t;if(null==J.current)return;const i=F.get(J.current);if(!i)return;const a=e.nativeEvent,l=new r({active:J.current,activeNode:i,event:a,options:o,context:we,onAbort(e){if(!F.get(e))return;const{onDragAbort:t}=oe.current,n={id:e};null==t||t(n),k({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!F.get(e))return;const{onDragPending:o}=oe.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),k({type:"onDragPending",event:i})},onStart(e){const t=J.current;if(null==t)return;const r=F.get(t);if(!r)return;const{onDragStart:o}=oe.current,i={activatorEvent:a,active:{id:t,data:r.data,rect:_}};n.unstable_batchedUpdates(()=>{null==o||o(i),B(st.Initializing),N({type:T.DragStart,initialCoordinates:e,active:t}),k({type:"onDragStart",event:i}),$(dt.current),ne(a)})},onMove(e){N({type:T.DragMove,coordinates:e})},onEnd:s(T.DragEnd),onCancel:s(T.DragCancel)});function s(e){return async function(){const{active:t,collisions:r,over:o,scrollAdjustedTranslate:i}=we.current;let l=null;if(t&&i){const{cancelDrop:n}=oe.current;if(l={activatorEvent:a,active:t,collisions:r,delta:i,over:o},e===T.DragEnd&&"function"==typeof n){await Promise.resolve(n(l))&&(e=T.DragCancel)}}J.current=null,n.unstable_batchedUpdates(()=>{N({type:e}),B(st.Uninitialized),tt(null),$(null),ne(null),dt.current=null;const t=e===T.DragEnd?"onDragEnd":"onDragCancel";if(l){const e=oe.current[t];null==e||e(l),k({type:t,event:l})}})}}dt.current=l},[F]),ht=function(t,n){return e.useMemo(()=>t.reduce((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:n(e.handler,t)}))]},[]),[t,n])}(w,e.useCallback((e,t)=>(n,r)=>{const o=n.nativeEvent,i=F.get(r);if(null!==J.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},J.current=r,ut(n,t))},[F,ut]));!function(t){e.useEffect(()=>{if(!f)return;const e=t.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const t of e)null==t||t()}},t.map(e=>{let{sensor:t}=e;return t}))}(w),s(()=>{me&&O===st.Initializing&&B(st.Initialized)},[me,O]),e.useEffect(()=>{const{onDragMove:e}=oe.current,{active:t,activatorEvent:r,collisions:o,over:i}=we.current;if(!t||!r)return;const a={active:t,activatorEvent:r,collisions:o,delta:{x:Fe.x,y:Fe.y},over:i};n.unstable_batchedUpdates(()=>{null==e||e(a),k({type:"onDragMove",event:a})})},[Fe.x,Fe.y]),e.useEffect(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:o,scrollAdjustedTranslate:i}=we.current;if(!e||null==J.current||!t||!i)return;const{onDragOver:a}=oe.current,l=o.get($e),s=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,c={active:e,activatorEvent:t,collisions:r,delta:{x:i.x,y:i.y},over:s};n.unstable_batchedUpdates(()=>{tt(s),null==a||a(c),k({type:"onDragOver",event:c})})},[$e]),s(()=>{we.current={activatorEvent:te,active:Y,activeNode:ge,collisionRect:Ue,collisions:He,droppableRects:ue,draggableNodes:F,draggingNode:Ce,draggingNodeRect:Ee,droppableContainers:j,over:et,scrollableAncestors:ke,scrollAdjustedTranslate:Fe},_.current={initial:Ee,translated:Ue}},[Y,ge,He,Ue,F,Ce,Ee,ue,j,et,ke,Fe]),Pe({...pe,delta:U,draggingRect:Ue,pointerCoordinates:Le,scrollableAncestors:ke,scrollableAncestorRects:Ae});const vt=e.useMemo(()=>({active:Y,activeNode:ge,activeNodeRect:me,activatorEvent:te,collisions:He,containerNodeRect:ye,dragOverlay:De,draggableNodes:F,droppableContainers:j,droppableRects:ue,over:et,measureDroppableContainers:he,scrollableAncestors:ke,scrollableAncestorRects:Ae,measuringConfiguration:le,measuringScheduled:ve,windowRect:Ne}),[Y,ge,me,te,He,ye,De,F,j,ue,et,he,ke,Ae,le,ve,Ne]),gt=e.useMemo(()=>({activatorEvent:te,activators:ht,active:Y,activeNodeRect:me,ariaDescribedById:{draggable:ie},dispatch:N,draggableNodes:F,over:et,measureDroppableContainers:he}),[te,ht,Y,me,N,ie,F,et,he]);return t.createElement(S.Provider,{value:L},t.createElement(nt.Provider,{value:gt},t.createElement(rt.Provider,{value:vt},t.createElement(lt.Provider,{value:ct},y)),t.createElement(at,{disabled:!1===(null==b?void 0:b.restoreFocus)})),t.createElement(A,{...b,hiddenTextDescribedById:ie}))}),ut=e.createContext(null),ht="button";function vt(t){let{id:n,data:i,disabled:a=!1,attributes:l}=t;const c=o("Draggable"),{activators:d,activatorEvent:u,active:h,activeNodeRect:v,ariaDescribedById:f,draggableNodes:p,over:b}=e.useContext(nt),{role:m=ht,roleDescription:y="draggable",tabIndex:w=0}=null!=l?l:{},x=(null==h?void 0:h.id)===n,D=e.useContext(x?lt:ut),[C,E]=g(),[R,M]=g(),S=function(t,n){return e.useMemo(()=>t.reduce((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e},{}),[t,n])}(d,n),N=r(i);s(()=>(p.set(n,{id:n,key:c,node:C,activatorNode:R,data:N}),()=>{const e=p.get(n);e&&e.key===c&&p.delete(n)}),[p,n]);return{active:h,activatorEvent:u,activeNodeRect:v,attributes:e.useMemo(()=>({role:m,tabIndex:w,"aria-disabled":a,"aria-pressed":!(!x||m!==ht)||void 0,"aria-roledescription":y,"aria-describedby":f.draggable}),[a,m,w,x,y,f.draggable]),isDragging:x,listeners:a?void 0:S,node:C,over:b,setNodeRef:E,setActivatorNodeRef:M,transform:D}}function gt(){return e.useContext(rt)}const ft={timeout:25};function pt(t){let{data:n,disabled:i=!1,id:a,resizeObserverConfig:l}=t;const s=o("Droppable"),{active:c,dispatch:d,over:u,measureDroppableContainers:h}=e.useContext(nt),v=e.useRef({disabled:i}),f=e.useRef(!1),p=e.useRef(null),b=e.useRef(null),{disabled:m,updateMeasurementsFor:y,timeout:w}={...ft,...l},x=r(null!=y?y:a),D=We({callback:e.useCallback(()=>{f.current?(null!=b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(x.current)?x.current:[x.current]),b.current=null},w)):f.current=!0},[w]),disabled:m||!c}),C=e.useCallback((e,t)=>{D&&(t&&(D.unobserve(t),f.current=!1),e&&D.observe(e))},[D]),[E,R]=g(C),M=r(n);return e.useEffect(()=>{D&&E.current&&(D.disconnect(),f.current=!1,D.observe(E.current))},[E,D]),e.useEffect(()=>(d({type:T.RegisterDroppable,element:{id:a,key:s,disabled:i,node:E,rect:p,data:M}}),()=>d({type:T.UnregisterDroppable,key:s,id:a})),[a]),e.useEffect(()=>{i!==v.current.disabled&&(d({type:T.SetDroppableDisabled,id:a,key:s,disabled:i}),v.current.disabled=i)},[a,s,i,d]),{active:c,rect:p,isOver:(null==u?void 0:u.id)===a,node:E,over:u,setNodeRef:R}}export{dt as D,fe as K,Me as P,pt as a,vt as b,B as c,j as d,q as g,gt as u};
