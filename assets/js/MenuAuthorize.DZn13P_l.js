import{r as e,j as t}from"./react@19.1.1.DAMsdXqD.js";import{I as r}from"./@iconify_react@6.0.1_react@19.1.1.iW61ad1V.js";import{f as c}from"./index.B05JoO7f.js";import{d as s,C as a}from"./antd@5.27.3_react-dom@19.1.1_react@19.1.1__react@19.1.1.BSkl66Mm.js";import{q as o,r as i}from"./@ant-design_icons@6.0.1_rea_2574d57b25e1c70f5c0e11cbf4eac649.CSgGuOKE.js";import"./@babel_runtime@7.28.4.Bon8fWH5.js";import"./react-dom@19.1.1_react@19.1.1.B7F1CN4Z.js";import"./scheduler@0.26.0.6ULW7vKx.js";import"./nprogress@0.2.0.DrooYUKg.js";import"./i18next-http-backend@3.0.2.DEc5iZM-.js";import"./@loadable_component@5.16.7_react@19.1.1.BFG51nHD.js";import"./hoist-non-react-statics@3.3.2.ClDPPGCN.js";import"./react-is@16.13.1.yJGO6Amu.js";import"./crypto-js@4.2.0.Bjxav0GY.js";import"./axios@1.11.0.C-1G2k3o.js";import"./lodash@4.17.21.Ck-LUJIg.js";import"./zustand@5.0.8_@types_react@19.1.12_immer@9.0.21_react@19.1.1.D6lYd93T.js";import"./react-i18next@15.7.3_i18nex_bb3bf288cc63cadde28a68d34dc3eb41.Lsshil7N.js";import"./react-router@7.8.2_react-do_b65fb7b5a466cc417757c161f5b103f8.WvMT-b5M.js";import"./react-activation@0.13.4_react@19.1.1.BdGpUAWM.js";import"./szfe-tools@0.0.0-beta.7.C7Ed4r32.js";import"./react-node-key@0.4.0_react@19.1.1.rhSAe5Yi.js";import"./react-draggable@4.5.0_react_7212988beb4cfaf8f3481fa03e139ac2.s98zQ2uc.js";import"./prop-types@15.8.1.Bx5UHif0.js";import"./clsx@2.1.1.CVo1TNh1.js";import"./@dnd-kit_core@6.3.1_react-d_b2d5886cf71f55202ee000d74755b8d0.DwHT28Ev.js";import"./@dnd-kit_utilities@3.2.2_react@19.1.1.OLaQZAX8.js";import"./@dnd-kit_accessibility@3.1.1_react@19.1.1.ad2UXow2.js";import"./@dnd-kit_sortable@10.0.0_@d_cdf393be866ffb195b557b7b22c22bad.CKGRRMB-.js";import"./dayjs@1.11.18.AncjD_qs.js";import"./@ant-design_cssinjs@1.24.0__4f73402bc59976ea4d1be835bba6fd27.BWsFfsFU.js";import"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.D28gyqkz.js";import"./react-is@18.3.1.USR0mOhp.js";import"./@emotion_hash@0.8.0.DFFAhID7.js";import"./@emotion_unitless@0.7.5.BWzHn38B.js";import"./stylis@4.3.6.C44NkLFc.js";import"./i18next@25.5.2_typescript@5.9.2.DLg_Ev_h.js";import"./i18next-browser-languagedetector@8.2.0.F0gxWJsw.js";import"./@ant-design_v5-patch-for-re_c67dad94d8a328dec63a512104bf68b3.BHd6khpO.js";import"./@ant-design_cssinjs-utils@1_251b99a69096c756db7fe7c1155d2294.jXEuIxc1.js";import"./classnames@2.5.1.Cs1ETqqi.js";import"./rc-resize-observer@1.4.3_re_417e6ee79a83d8d6def766a6be83681f.B_YoCE1A.js";import"./resize-observer-polyfill@1.5.1.C7U_o75s.js";import"./@ant-design_icons@5.6.1_rea_899d4c2778da3888f3c43dea354b7ae1.Bu-L2tRO.js";import"./@ant-design_icons-svg@4.4.2.IJmZoThs.js";import"./@ant-design_colors@7.2.1.CNaepjXJ.js";import"./@ant-design_fast-color@2.0.6.VAYJ8Ptm.js";import"./rc-pagination@5.1.0_react-d_c4c43808196e822d8749f5ccbede6012.CXKWZlLc.js";import"./rc-picker@4.11.3_dayjs@1.11_b27471e7cc82f3e98e48c9eef26887cf.MuCmJHoy.js";import"./rc-motion@2.9.5_react-dom@19.1.1_react@19.1.1__react@19.1.1.ewexviDm.js";import"./@rc-component_trigger@2.3.0_98a5ef371ed9a77c6843246644ee9b58.CjC116z9.js";import"./@rc-component_portal@1.1.2__12f016ef3dd10f3f947eb4a97a9aa58d.CnCVVLBJ.js";import"./rc-overflow@1.4.1_react-dom_cc4ea89628553b129a8da50b36cb88c0.a5NakVJJ.js";import"./scroll-into-view-if-needed@3.1.0.B0UcSGS3.js";import"./compute-scroll-into-view@3.1.1.Cfyw3hb3.js";import"./rc-notification@5.6.4_react_86f0e1391a6c86543030aa5317a3707c.BofALMt0.js";import"./@rc-component_color-picker@_44d1bf8e77ac9e0081e823e9e1f4f31e.gzPGcYG7.js";import"./rc-collapse@3.9.0_react-dom_601de08cb68886a487bd7ceac057b564.CS7RdjoA.js";import"./rc-dialog@9.6.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.iwlAl3dJ.js";import"./rc-field-form@2.7.0_react-d_1c776addd2d710781814a569f88b1247.JU1VEcBD.js";import"./@rc-component_async-validator@5.0.4.DOWHSD5_.js";import"./rc-select@14.16.8_react-dom_cc80e9af85a483474ef754b96054fb57.DXfxoWRz.js";import"./rc-virtual-list@3.19.1_reac_eb17cbd247287c3a3dcc8262c7846edd.NLCoC5Ue.js";import"./rc-tooltip@6.4.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.ONgdUgnb.js";import"./rc-dropdown@4.2.1_react-dom_9ae5fdd736f4823df4c8a646cf12960c.CAi9Fplh.js";import"./rc-menu@9.16.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.BCaF-8Xn.js";import"./rc-checkbox@3.5.0_react-dom_77c36b6c47b32e0b10d14715673cddee.l1stMKby.js";import"./rc-tabs@15.7.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.BCByrdor.js";import"./@ant-design_react-slick@1.1.2_react@19.1.1.D3DXUOKX.js";import"./throttle-debounce@5.0.2.w9OM8Bxz.js";import"./json2mq@0.2.0.DCEmkgwh.js";import"./string-convert@0.2.1.CCzxSb8Y.js";import"./rc-cascader@3.34.0_react-do_eb32ad85eeb84cf347ef3db1f3962e54.DTd6oMps.js";import"./rc-tree@5.13.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.Be-p0ztK.js";import"./rc-segmented@2.7.0_react-do_d74622c6bc7f46a1a0e633494b1d3159.CARZ2HM5.js";import"./rc-input-number@9.5.0_react_5a7d66c6ad4701d3fcc75b24018ef2ef.C5xcbQID.js";import"./@rc-component_mini-decimal@1.1.0.TW-rWdPM.js";import"./rc-input@1.8.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.CkijqqPw.js";import"./rc-slider@11.1.8_react-dom@19.1.1_react@19.1.1__react@19.1.1.Dotw8ihk.js";import"./rc-drawer@7.3.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.DYkhkGmr.js";import"./rc-image@7.12.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.CW6Jjrs-.js";import"./rc-textarea@1.10.2_react-do_9e63c3c40a7644816d7e7f4d071a8248.DCTzc3jH.js";import"./rc-mentions@2.20.0_react-do_6917240e8e38113a699c2717fefe091f.CfEvF1Cb.js";import"./rc-progress@4.0.0_react-dom_3b0b2802317cf508b84541f1103d27e0.RWFBlEcs.js";import"./@rc-component_qrcode@1.0.0__c74405822df6e0e54de5be408814cec4.BKYakepV.js";import"./rc-rate@2.13.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.BrUTRZh3.js";import"./rc-steps@6.0.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.DFJdxcDu.js";import"./rc-switch@4.1.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.DqnUI-vj.js";import"./rc-table@7.52.6_react-dom@19.1.1_react@19.1.1__react@19.1.1.BcWZQ8la.js";import"./@rc-component_context@1.4.0_de4028c8571959cb44d65adf38211715.DB5geLn_.js";import"./@rc-component_tour@1.15.1_r_4837758b6d2ed7978729a2c006955f2d.5DAYngTA.js";import"./rc-tree-select@5.27.0_react_4fcbdb7796f073dfcaa0b122f1f33194.CGwF_RvL.js";import"./copy-to-clipboard@3.3.3.Y9J57qp5.js";import"./toggle-selection@1.0.6.CKa2ZqsB.js";import"./rc-upload@4.9.2_react-dom@19.1.1_react@19.1.1__react@19.1.1.vVOq54uY.js";import"./@rc-component_mutate-observ_8f141f09ab25dd5e3b5a76913ef14f78.CoAe_UTh.js";import"./@ant-design_colors@8.0.0.zgU2TyWx.js";import"./@ant-design_fast-color@3.0.0.TdcODzXA.js";import"./@rc-component_util@1.3.0_re_70a49982b5742f331124056a2d708b8d.PuNkWUtu.js";function d(d){const{isBordered:n=!0,treeData:m,defaultCheckedKeys:_,onChange:p,isLoading:l=!1}=d,j=c(e=>e.theme),[f,b]=e.useState([]),[h,u]=e.useState([]),[g,x]=e.useState(m||[]);e.useEffect(()=>{b(_?.length?_.map(e=>e?.toString()):[])},[_]),e.useEffect(()=>{x(m||[])},[m]);const k=e.useCallback(e=>{b(e),p?.(e)},[p]),y=e.useCallback(e=>{const t=[],r=e=>{e.forEach(e=>{t.push(e.key),e.children&&r(e.children)})};return r(e),t},[]),v=e.useCallback((e,t)=>{const{key:r}=t,c=z(t);let s=[...f];if(e){s.includes(r)||s.push(r);for(let e=0;e<c?.length;e++){const t=c[e];s.includes(t)||s.push(t)}}else for(let a=0;a<s.length;a++){const e=s[a];(c.includes(e)||e===r)&&(s.splice(a,1),a--)}k(s)},[f,g,k]),C=e.useCallback(e=>{let t=[];e.target.checked&&(t=y(g)),k(t)},[y,g,k]),N=e.useCallback(e=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),w=e.useCallback(e=>{const t=[],r=e=>{e.forEach(e=>{e.children&&e.children.length>0&&(t.push(e.key),r(e.children))})};return r(e),t},[]),E=e.useCallback(()=>{const e=w(g);h.length===e.length?u([]):u(e)},[h.length,g,w]),z=e=>{if(!e?.children?.length)return[];const t=[];for(let r=0;r<e.children.length;r++){const c=e.children[r];if(c?.key&&t.push(c.key),c?.children?.length){const e=z(c);t.push(...e)}}return t},q=(e,c=0)=>{if(!e?.length)return null;const s=e.every(e=>3===e.type);return t.jsx("div",{className:s?"inline-block":"block",style:{marginLeft:s?20*(c+1):0},children:e.map(e=>{let s=f.includes(e.key);const d=h.includes(e.key),n=z(e),m=!n?.some(e=>f.includes(e)),_=n?.every(e=>f.includes(e)),p=e?.children?.length&&!m?!_:void 0,l=e.children&&e.children.length>0;let j=20*c,b=3===e.type;return l&&(s&&m&&(s=!1,v(!1,e)),!s&&_&&(s=!0,v(!0,e))),3===e.type&&(j=10),t.jsxs("div",{className:3===e.type?"inline-block":"block",children:[t.jsxs("div",{className:"flex items-center",style:{marginLeft:j},children:[l?t.jsx("div",{className:"text-12px inline-block cursor-pointer p-5px",onClick:()=>N(e.key),children:d?t.jsx(o,{}):t.jsx(i,{})}):t.jsx("div",{className:b?"":"w-24px h-24px"}),t.jsx(a,{checked:s,indeterminate:p,onChange:t=>v(t.target.checked,e),className:"w-full",children:t.jsxs("div",{className:"flex items-center gap-5px",children:[e?.icon&&"string"==typeof e.icon&&t.jsx(r,{icon:e.icon,className:"text-16px"}),t.jsx("div",{className:"flex-1",children:e.title})]})})]}),l&&d&&q(e.children,c+1)]},e.key)})})},S=y(g),L=f.length>0&&S.every(e=>f.includes(e)),B=f.length>0;return t.jsx(s,{spinning:l,children:t.jsx("div",{className:n?`b ${"dark"===j?"b-#454545":"b-#E4E4E7"} b-rd-8px`:"",children:t.jsxs("div",{className:"p-10px",children:[t.jsxs("div",{className:"flex items-center justify-between mb-10px",children:[t.jsx(a,{checked:L,indeterminate:!L&&B,onChange:C,children:"全选"}),t.jsx("div",{className:"text-blue-500 cursor-pointer text-12px",onClick:E,children:h.length===w(g).length?"收起所有":"展开所有"})]}),q(g)]})})})}export{d as default};
