import{r as m}from"./react-dom@18.2.0_react@18.2.0-a4d36ec3.js";import"./hoist-non-react-statics@3.3.2-45eb0518.js";import{R as g,r as i}from"./react@18.2.0-44b760b7.js";import"./react-is@18.2.0-8137d776.js";import{j as C}from"./@ant-design_icons@4.7.0_biqbaboplfbrettd7655fr4n2y-a11e4fd7.js";import{w as v}from"./use-sync-external-store@1.2.0_react@18.2.0-592ba9c7.js";function w(e){e()}let p=w;const E=e=>p=e,N=()=>p,c=g.createContext(null);function S(){return i.exports.useContext(c)}const R=()=>{throw new Error("uSES not initialized!")};let b=R;const D=e=>{b=e},L=(e,o)=>e===o;function U(e=c){const o=e===c?S:()=>i.exports.useContext(e);return function(t,s=L){const{store:n,subscription:a,getServerState:u}=o(),l=b(a.addNestedSub,n.getState,u||n.getState,t,s);return i.exports.useDebugValue(l),l}}const O=U();function k(){const e=N();let o=null,r=null;return{clear(){o=null,r=null},notify(){e(()=>{let t=o;for(;t;)t.callback(),t=t.next})},get(){let t=[],s=o;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0,n=r={callback:t,next:null,prev:r};return n.prev?n.prev.next=n:o=n,function(){!s||o===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:o=n.next)}}}}const d={notify(){},get:()=>[]};function B(e,o){let r,t=d;function s(y){return l(),t.subscribe(y)}function n(){t.notify()}function a(){f.onStateChange&&f.onStateChange()}function u(){return Boolean(r)}function l(){r||(r=o?o.addNestedSub(a):e.subscribe(a),t=k())}function h(){r&&(r(),r=void 0,t.clear(),t=d)}const f={addNestedSub:s,notifyNestedSubs:n,handleChangeWrapper:a,isSubscribed:u,trySubscribe:l,tryUnsubscribe:h,getListeners:()=>t};return f}const V=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z=V?i.exports.useLayoutEffect:i.exports.useEffect;function _({store:e,context:o,children:r,serverState:t}){const s=i.exports.useMemo(()=>{const u=B(e);return{store:e,subscription:u,getServerState:t?()=>t:void 0}},[e,t]),n=i.exports.useMemo(()=>e.getState(),[e]);return z(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),n!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,n]),C((o||c).Provider,{value:s,children:r})}function x(e=c){const o=e===c?S:()=>i.exports.useContext(e);return function(){const{store:t}=o();return t}}const H=x();function M(e=c){const o=e===c?H:x(e);return function(){return o().dispatch}}const A=M();D(v.exports.useSyncExternalStoreWithSelector);E(m.exports.unstable_batchedUpdates);export{_ as P,O as a,A as u};
