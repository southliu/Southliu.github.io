!function(){var e=["fallback","src","imgRef"],n=["open","onOpenChange","current","onChange"],t=["src"],o=["prefixCls","previewPrefixCls","rootClassName","className","style","classNames","styles","width","height","src","alt","placeholder","fallback","preview","onClick","onError"],r=["src","open","onOpenChange","cover","rootClassName"];function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==n.indexOf(o))continue;t[o]=e[o]}return t}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)t=c[o],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){u(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=c(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==c(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,c,i,a=[],l=!0,u=!1;try{if(c=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=c.call(t)).done)&&(a.push(o.value),a.length!==n);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}System.register(["./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304-legacy.DAXs6LlY.js","./clsx@2.1.1-legacy.DZdazO62.js","./react@19.2.3-legacy.CjwGwsZR.js","./@rc-component_motion@1.1.6__75bed58c5aa0279623e804b6e3100d82-legacy.DwYvOzFj.js","./@rc-component_portal@2.2.0__23d0e188c8e59a845be2370f4ba3b141-legacy.DgfkEfSV.js"],function(a,f){"use strict";var m,d,v,p,h,y,g,b,w,C,x;return{setters:[function(e){m=e.i,d=e.l,v=e.e,p=e.K,h=e.h,y=e.d},function(e){g=e.c},function(e){b=e.r,w=e.e},function(e){C=e.C},function(e){x=e.P}],execute:function(){var f=b.createContext(null);function E(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}var O={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function k(e,n,t,o){var r=n+t,c=(t-o)/2;if(t>o){if(n>0)return u({},e,c);if(n<0&&r<o)return u({},e,-c)}else if(n<0||r>o)return u({},e,n<0?c:-c);return{}}function S(e,n,t,o){var r=E(),c=r.width,i=r.height,a=null;return e<=c&&n<=i?a={x:0,y:0}:(e>c||n>i)&&(a=l(l({},k("x",t,e,c)),k("y",o,n,i))),a}function P(e){var n=e.src,t=e.isCustomPlaceholder,o=e.fallback,r=s(b.useState(t?"loading":"normal"),2),c=r[0],i=r[1],a=b.useRef(!1),l="error"===c;b.useEffect(function(){var e=!0;return function(e){return new Promise(function(n){if(e){var t=document.createElement("img");t.onerror=function(){return n(!1)},t.onload=function(){return n(!0)},t.src=e}else n(!1)})}(n).then(function(n){!n&&e&&i("error")}),function(){e=!1}},[n]),b.useEffect(function(){t&&!a.current?i("loading"):l&&i("normal")},[n]);var u=function(){i("normal")};return[function(e){a.current=!1,"loading"===c&&null!=e&&e.complete&&(e.naturalWidth||e.naturalHeight)&&(a.current=!0,u())},l&&o?{src:o}:{onLoad:u,src:n},c]}function j(e,n){var t=e.x-n.x,o=e.y-n.y;return Math.hypot(t,o)}function R(e,n,t,o,r,c,i){var a=r.rotate,u=r.scale,f=r.x,m=r.y,d=s(b.useState(!1),2),v=d[0],p=d[1],h=b.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),y=function(e){h.current=l(l({},h.current),e)};return b.useEffect(function(){var e=function(e){e.preventDefault()};return t&&n&&window.addEventListener("touchmove",e,{passive:!1}),function(){window.removeEventListener("touchmove",e)}},[t,n]),{isTouching:v,onTouchStart:function(e){if(n){e.stopPropagation(),p(!0);var t=e.touches,o=void 0===t?[]:t;o.length>1?y({point1:{x:o[0].clientX,y:o[0].clientY},point2:{x:o[1].clientX,y:o[1].clientY},eventType:"touchZoom"}):y({point1:{x:o[0].clientX-f,y:o[0].clientY-m},eventType:"move"})}},onTouchMove:function(e){var n=e.touches,t=void 0===n?[]:n,o=h.current,r=o.point1,a=o.point2,l=o.eventType;if(t.length>1&&"touchZoom"===l){var u={x:t[0].clientX,y:t[0].clientY},f={x:t[1].clientX,y:t[1].clientY},m=function(e,n,t,o){var r=j(e,t),c=j(n,o);if(0===r&&0===c)return[e.x,e.y];var i=r/(r+c);return[e.x+i*(n.x-e.x),e.y+i*(n.y-e.y)]}(r,a,u,f),d=s(m,2),v=d[0],p=d[1],g=j(u,f)/j(r,a);i(g,"touchZoom",v,p,!0),y({point1:u,point2:f,eventType:"touchZoom"})}else"move"===l&&(c({x:t[0].clientX-r.x,y:t[0].clientY-r.y},"move"),y({eventType:"move"}))},onTouchEnd:function(){if(t){if(v&&p(!1),y({eventType:"none"}),o>u)return c({x:0,y:0,scale:o},"touchZoom");var n=e.current.offsetWidth*u,r=e.current.offsetHeight*u,i=e.current.getBoundingClientRect(),s=i.left,f=i.top,m=a%180!=0,d=S(m?r:n,m?n:r,s,f);d&&c(l({},d),"dragRebound")}}}}function N(e){var n=e.prefixCls,t=e.icon,o=e.onClick;return b.createElement("button",{className:"".concat(n,"-close"),onClick:o},t)}function Y(e){var n=e.prefixCls,t=e.showProgress,o=e.current,r=e.count,c=e.showSwitch,i=e.classNames,a=e.styles,l=e.icons,s=e.image,f=e.transform,m=e.countRender,d=e.actionsRender,v=e.scale,p=e.minScale,h=e.maxScale,y=e.onActive,w=e.onFlipY,C=e.onFlipX,x=e.onRotateLeft,E=e.onRotateRight,O=e.onZoomOut,k=e.onZoomIn,S=e.onClose,P=e.onReset,j=l.left,R=l.right,N=l.prev,Y=l.next,T=l.flipY,I=l.flipX,X=l.rotateLeft,L=l.rotateRight,M=l.zoomOut,A=l.zoomIn,Z=t&&b.createElement("div",{className:"".concat(n,"-progress")},m?m(o+1,r):b.createElement("bdi",null,"".concat(o+1," / ").concat(r))),z="".concat(n,"-actions-action"),D=function(e){var n=e.type,t=e.disabled,o=e.onClick,r=e.icon;return b.createElement("div",{key:n,className:g(z,"".concat(z,"-").concat(n),u({},"".concat(z,"-disabled"),!!t)),onClick:o},r)},F=c?D({icon:null!=N?N:j,onClick:function(){return y(-1)},type:"prev",disabled:0===o}):void 0,W=c?D({icon:null!=Y?Y:R,onClick:function(){return y(1)},type:"next",disabled:o===r-1}):void 0,_=D({icon:T,onClick:w,type:"flipY"}),H=D({icon:I,onClick:C,type:"flipX"}),B=D({icon:X,onClick:x,type:"rotateLeft"}),G=D({icon:L,onClick:E,type:"rotateRight"}),U=D({icon:M,onClick:O,type:"zoomOut",disabled:v<=p}),K=D({icon:A,onClick:k,type:"zoomIn",disabled:v===h}),V=b.createElement("div",{className:g("".concat(n,"-actions"),i.actions),style:a.actions},_,H,B,G,U,K);return b.createElement("div",{className:g("".concat(n,"-footer"),i.footer),style:a.footer},Z,d?d(V,{icons:{prevIcon:F,nextIcon:W,flipYIcon:_,flipXIcon:H,rotateLeftIcon:B,rotateRightIcon:G,zoomOutIcon:U,zoomInIcon:K},actions:{onActive:y,onFlipY:w,onFlipX:C,onRotateLeft:x,onRotateRight:E,onZoomOut:O,onZoomIn:k,onReset:P,onClose:S},transform:f,current:o,total:r,image:s}):V)}function T(e){var n=e.prefixCls,t=e.onActive,o=e.current,r=e.count,c=e.icons,i=c.left,a=c.right,l=c.prev,s=c.next,f="".concat(n,"-switch");return b.createElement(b.Fragment,null,b.createElement("div",{className:g(f,"".concat(f,"-prev"),u({},"".concat(f,"-disabled"),0===o)),onClick:function(){return t(-1)}},null!=l?l:i),b.createElement("div",{className:g(f,"".concat(f,"-next"),u({},"".concat(f,"-disabled"),o===r-1)),onClick:function(){return t(1)}},null!=s?s:a))}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},I.apply(this,arguments)}var X=function(n){var t=n.fallback,o=n.src,r=n.imgRef,c=i(n,e),a=s(P({src:o,fallback:t}),2),l=a[0],u=a[1];return w.createElement("img",I({ref:function(e){r.current=e,l(e)}},c,u))},L=function(e){var n=e.prefixCls,t=e.rootClassName,o=e.src,r=e.alt,c=e.imageInfo,i=e.fallback,a=e.movable,y=void 0===a||a,k=e.onClose,P=e.open,j=e.afterOpenChange,L=e.icons,M=void 0===L?{}:L,A=e.closeIcon,Z=e.getContainer,z=e.current,D=void 0===z?0:z,F=e.count,W=void 0===F?1:F,_=e.countRender,H=e.scaleStep,B=void 0===H?.5:H,G=e.minScale,U=void 0===G?1:G,K=e.maxScale,V=void 0===K?50:K,$=e.motionName,q=void 0===$?"fade":$,J=e.imageRender,Q=e.imgCommonProps,ee=e.actionsRender,ne=e.onTransform,te=e.onChange,oe=e.classNames,re=void 0===oe?{}:oe,ce=e.styles,ie=void 0===ce?{}:ce,ae=e.mousePosition,le=e.zIndex,ue=b.useRef(),se=b.useContext(f),fe=se&&W>1,me=se&&W>=1,de=s(b.useState(!0),2),ve=de[0],pe=de[1],he=function(e,n,t,o){var r=b.useRef(null),c=b.useRef([]),i=s(b.useState(O),2),a=i[0],u=i[1],f=function(e,n){null===r.current&&(c.current=[],r.current=d(function(){u(function(e){var t=e;return c.current.forEach(function(e){t=l(l({},t),e)}),r.current=null,null==o||o({transform:t,action:n}),t})})),c.current.push(l(l({},a),e))};return{transform:a,resetTransform:function(e){u(O),m(O,a)||null==o||o({transform:O,action:e})},updateTransform:f,dispatchZoomChange:function(o,r,c,i,l){var u=e.current,s=u.width,m=u.height,d=u.offsetWidth,v=u.offsetHeight,p=u.offsetLeft,h=u.offsetTop,y=o,g=a.scale*o;g>t?(g=t,y=t/a.scale):g<n&&(y=(g=l?g:n)/a.scale);var b=null!=c?c:innerWidth/2,w=null!=i?i:innerHeight/2,C=y-1,x=C*s*.5,O=C*m*.5,k=C*(b-a.x-p),S=C*(w-a.y-h),P=a.x-(k-x),j=a.y-(S-O);if(o<1&&1===g){var R=d*g,N=v*g,Y=E(),T=Y.width,I=Y.height;R<=T&&N<=I&&(P=0,j=0)}f({x:P,y:j,scale:g},r)}}}(ue,U,V,ne),ye=he.transform,ge=he.resetTransform,be=he.updateTransform,we=he.dispatchZoomChange,Ce=function(e,n,t,o,r,c,i){var a=r.rotate,u=r.scale,f=r.x,m=r.y,d=s(b.useState(!1),2),v=d[0],p=d[1],h=b.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),y=function(e){t&&v&&c({x:e.pageX-h.current.diffX,y:e.pageY-h.current.diffY},"move")},g=function(){if(t&&v){p(!1);var n=h.current,o=n.transformX,r=n.transformY;if(f===o||m===r)return;var i=e.current.offsetWidth*u,s=e.current.offsetHeight*u,d=e.current.getBoundingClientRect(),y=d.left,g=d.top,b=a%180!=0,w=S(b?s:i,b?i:s,y,g);w&&c(l({},w),"dragRebound")}};return b.useEffect(function(){if(n){window.addEventListener("mouseup",g,!1),window.addEventListener("mousemove",y,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",g,!1),window.top.addEventListener("mousemove",y,!1))}catch(e){}}return function(){window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",y);try{var n,t;null===(n=window.top)||void 0===n||n.removeEventListener("mouseup",g),null===(t=window.top)||void 0===t||t.removeEventListener("mousemove",y)}catch(e){}}},[t,v,f,m,a,n]),{isMoving:v,onMouseDown:function(e){n&&0===e.button&&(e.preventDefault(),e.stopPropagation(),h.current={diffX:e.pageX-f,diffY:e.pageY-m,transformX:f,transformY:m},p(!0))},onMouseMove:y,onMouseUp:g,onWheel:function(e){if(t&&0!=e.deltaY){var n=Math.abs(e.deltaY/100),r=1+Math.min(n,1)*o;e.deltaY>0&&(r=1/r),i(r,"wheel",e.clientX,e.clientY)}}}}(ue,y,P,B,ye,be,we),xe=Ce.isMoving,Ee=Ce.onMouseDown,Oe=Ce.onWheel,ke=R(ue,y,P,U,ye,be,we),Se=ke.isTouching,Pe=ke.onTouchStart,je=ke.onTouchMove,Re=ke.onTouchEnd,Ne=ye.rotate,Ye=ye.scale;b.useEffect(function(){ve||pe(!0)},[ve]),b.useEffect(function(){P||ge("close")},[P]);var Te=w.createElement(X,I({},Q,{width:e.width,height:e.height,imgRef:ue,className:"".concat(n,"-img"),alt:r,style:{transform:"translate3d(".concat(ye.x,"px, ").concat(ye.y,"px, 0) scale3d(").concat(ye.flipX?"-":"").concat(Ye,", ").concat(ye.flipY?"-":"").concat(Ye,", 1) rotate(").concat(Ne,"deg)"),transitionDuration:(!ve||Se)&&"0s"},fallback:i,src:o,onWheel:Oe,onMouseDown:Ee,onDoubleClick:function(e){P&&(1!==Ye?be({x:0,y:0,scale:1},"doubleClick"):we(1+B,"doubleClick",e.clientX,e.clientY))},onTouchStart:Pe,onTouchMove:je,onTouchEnd:Re,onTouchCancel:Re})),Ie=l({url:o,alt:r},c),Xe=function(){we(1+B,"zoomIn")},Le=function(){we(1/(1+B),"zoomOut")},Me=function(){be({rotate:Ne+90},"rotateRight")},Ae=function(){be({rotate:Ne-90},"rotateLeft")},Ze=function(){be({flipX:!ye.flipX},"flipX")},ze=function(){be({flipY:!ye.flipY},"flipY")},De=function(){ge("reset")},Fe=function(e){var n=D+e;n>=0&&n<=W-1&&(pe(!1),ge(e<0?"prev":"next"),null==te||te(n,D))},We=v(function(e){if(P){var n=e.keyCode;n===p.ESC&&(null==k||k()),fe&&(n===p.LEFT?Fe(-1):n===p.RIGHT&&Fe(1))}});b.useEffect(function(){if(P)return window.addEventListener("keydown",We),function(){window.removeEventListener("keydown",We)}},[P]);var _e=s(b.useState(!1),2),He=_e[0],Be=_e[1];w.useEffect(function(){P&&Be(!0)},[P]);var Ge=s(b.useState(!1),2),Ue=Ge[0],Ke=Ge[1];h(function(){P&&Ke(!0)},[P]);var Ve=l({},ie.body);return ae&&(Ve.transformOrigin="".concat(ae.x,"px ").concat(ae.y,"px")),w.createElement(x,{open:Ue,getContainer:Z,autoLock:He},w.createElement(C,{motionName:q,visible:Ue&&P,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:function(e){e||Be(!1),null==j||j(e)}},function(e){var o=e.className,r=e.style,c=l(l({},ie.root),r);return le&&(c.zIndex=le),w.createElement("div",{className:g(n,t,re.root,o,u({},"".concat(n,"-moving"),xe)),style:c},w.createElement("div",{className:g("".concat(n,"-mask"),re.mask),style:ie.mask,onClick:k}),w.createElement("div",{className:g("".concat(n,"-body"),re.body),style:Ve},J?J(Te,l({transform:ye,image:Ie},se?{current:D}:{})):Te),!1!==A&&null!==A&&w.createElement(N,{prefixCls:n,icon:!0===A?M.close:A||M.close,onClick:k}),fe&&w.createElement(T,{prefixCls:n,current:D,count:W,icons:M,onActive:Fe}),w.createElement(Y,{prefixCls:n,showProgress:me,current:D,count:W,showSwitch:fe,classNames:re,styles:ie,image:Ie,transform:ye,icons:M,countRender:_,actionsRender:ee,scale:Ye,minScale:U,maxScale:V,onActive:Fe,onFlipY:ze,onFlipX:Ze,onRotateLeft:Ae,onRotateRight:Me,onZoomOut:Le,onZoomIn:Xe,onClose:k,onReset:De}))}))},M=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},A.apply(this,arguments)}var Z=0;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},z.apply(this,arguments)}var D=a("I",function(e){var n=e.prefixCls,t=void 0===n?"rc-image":n,a=e.previewPrefixCls,m=void 0===a?"".concat(t,"-preview"):a,d=e.rootClassName,v=e.className,p=e.style,h=e.classNames,w=void 0===h?{}:h,C=e.styles,x=void 0===C?{}:C,E=e.width,O=e.height,k=e.src,S=e.alt,j=e.placeholder,R=e.fallback,N=e.preview,Y=void 0===N||N,T=e.onClick,I=e.onError,X=i(e,o),A=b.useContext(f),D=!!Y,F=Y&&"object"===c(Y)?Y:{},W=F.src,_=F.open,H=F.onOpenChange,B=F.cover,G=F.rootClassName,U=i(F,r),K="object"===c(B)&&B.placement&&B.placement||"center",V="object"===c(B)&&B.coverNode?B.coverNode:B,$=s(y(!!_,_),2),q=$[0],J=$[1],Q=s(b.useState(null),2),ee=Q[0],ne=Q[1],te=function(e){J(e),null==H||H(e)},oe=null!=W?W:k,re=s(P({src:k,isCustomPlaceholder:j&&!0!==j,fallback:R}),3),ce=re[0],ie=re[1],ae=re[2],le=b.useMemo(function(){var n={};return M.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n},M.map(function(n){return e[n]})),ue=function(e,n){var t=s(b.useState(function(){return String(Z+=1)}),1)[0],o=b.useContext(f),r={data:n,canPreview:e};return b.useEffect(function(){if(o)return o.register(t,r)},[]),b.useEffect(function(){o&&o.register(t,r)},[e,n]),t}(D,b.useMemo(function(){return l(l({},le),{},{src:oe})},[oe,le]));return b.createElement(b.Fragment,null,b.createElement("div",z({},X,{className:g(t,d,w.root,u({},"".concat(t,"-error"),"error"===ae)),onClick:D?function(e){var n=e.target.getBoundingClientRect(),t=n.x+n.width/2,o=n.y+n.height/2;A?A.onPreview(ue,oe,t,o):(ne({x:t,y:o}),te(!0)),null==T||T(e)}:T,style:l({width:E,height:O},x.root)}),b.createElement("img",z({},le,{className:g("".concat(t,"-img"),u({},"".concat(t,"-img-placeholder"),!0===j),w.image,v),style:l(l({height:O},x.image),p),ref:ce},ie,{width:E,height:O,onError:I})),"loading"===ae&&b.createElement("div",{"aria-hidden":"true",className:"".concat(t,"-placeholder")},j),!1!==B&&D&&b.createElement("div",{className:g("".concat(t,"-cover"),w.cover,"".concat(t,"-cover-").concat(K)),style:l({display:"none"===(null==p?void 0:p.display)?"none":void 0},x.cover)},V)),!A&&D&&b.createElement(L,z({"aria-hidden":!q,open:q,prefixCls:m,onClose:function(){te(!1)},mousePosition:ee,src:oe,alt:S,imageInfo:{width:E,height:O},fallback:R,imgCommonProps:le},U,{classNames:null==w?void 0:w.popup,styles:null==x?void 0:x.popup,rootClassName:g(G,d)})))});D.PreviewGroup=function(e){var o,r=e.previewPrefixCls,a=void 0===r?"rc-image-preview":r,m=e.classNames,d=e.styles,p=e.children,h=e.icons,g=void 0===h?{}:h,w=e.items,C=e.preview,x=e.fallback,E=C&&"object"===c(C)?C:{},O=E.open,k=E.onOpenChange,S=E.current,P=E.onChange,j=i(E,n),R=function(e){var n=s(b.useState({}),2),t=n[0],o=n[1],r=b.useCallback(function(e,n){return o(function(t){return l(l({},t),{},u({},e,n))}),function(){o(function(n){var t=l({},n);return delete t[e],t})}},[]);return[b.useMemo(function(){return e?e.map(function(e){if("string"==typeof e)return{data:{src:e}};var n={};return Object.keys(e).forEach(function(t){["src"].concat(M).includes(t)&&(n[t]=e[t])}),{data:n}}):Object.keys(t).reduce(function(e,n){var o=t[n],r=o.canPreview,c=o.data;return r&&e.push({data:c,id:n}),e},[])},[e,t]),r,!!e]}(w),N=s(R,3),Y=N[0],T=N[1],I=N[2],X=s(y(0,S),2),Z=X[0],z=X[1],D=s(b.useState(!1),2),F=D[0],W=D[1],_=(null===(o=Y[Z])||void 0===o?void 0:o.data)||{},H=_.src,B=i(_,t),G=s(y(!!O,O),2),U=G[0],K=G[1],V=v(function(e){K(e),e!==U&&(null==k||k(e,{current:Z}))}),$=s(b.useState(null),2),q=$[0],J=$[1],Q=b.useCallback(function(e,n,t,o){var r=I?Y.findIndex(function(e){return e.data.src===n}):Y.findIndex(function(n){return n.id===e});z(r<0?0:r),V(!0),J({x:t,y:o}),W(!0)},[Y,I]);b.useEffect(function(){U?F||z(0):W(!1)},[U]);var ee=b.useMemo(function(){return{register:T,onPreview:Q}},[T,Q]);return b.createElement(f.Provider,{value:ee},p,b.createElement(L,A({"aria-hidden":!U,open:U,prefixCls:a,onClose:function(){V(!1),J(null)},mousePosition:q,imgCommonProps:B,src:H,fallback:x,icons:g,current:Z,count:Y.length,onChange:function(e,n){z(e),null==P||P(e,n)}},j,{classNames:null==m?void 0:m.popup,styles:null==d?void 0:d.popup})))}}}})}();
