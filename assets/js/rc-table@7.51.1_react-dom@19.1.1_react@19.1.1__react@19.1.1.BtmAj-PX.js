import{r as e}from"./react@19.1.1.osUeTYwR.js";import{c as n,a as t,u as r}from"./@rc-component_context@1.4.0_de4028c8571959cb44d65adf38211715.BDDj82X8.js";import{u as o,i as l,F as a,e as c,a as i,n as u,k as s,y as d,c as f,E as m,t as p,Q as v,R as x,f as h,S as y,B as w}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.BCDSZbSC.js";import{h as C,f as E,d as g,g as S,k as b,i as R,j as N}from"./@babel_runtime@7.28.3.ESkOsrAB.js";import{c as k}from"./classnames@2.5.1.C0tKfs1P.js";import{R as I}from"./rc-resize-observer@1.4.3_re_417e6ee79a83d8d6def766a6be83681f.tpHCh3SB.js";import{L}from"./rc-virtual-list@3.19.1_reac_eb17cbd247287c3a3dcc8262c7846edd.B7s6eCxr.js";var M={},H="rc-table-internal-hook",T=n(),K=T.makeImmutable,W=T.responseImmutable,O=T.useImmutableMark,z=t(),_=e.createContext({renderWithProps:!1});function B(e){var n=[],t={};return e.forEach(function(e){for(var r,o=e||{},l=o.key,a=o.dataIndex,c=l||(r=a,null==r?[]:Array.isArray(r)?r:[r]).join("-")||"RC_TABLE_KEY";t[c];)c="".concat(c,"_next");t[c]=!0,n.push(c)}),n}function P(e){return null!=e}function A(n,t,r,c,i,u){var s=e.useContext(_),d=O();return o(function(){if(P(c))return[c];var o,l=null==t||""===t?[]:Array.isArray(t)?t:[t],u=a(n,l),d=u,f=void 0;if(i){var m=i(u,n,r);!(o=m)||"object"!==E(o)||Array.isArray(o)||e.isValidElement(o)?d=m:(d=m.children,f=m.props,s.renderWithProps=!0)}return[d,f]},[d,n,c,t,i,r],function(e,n){if(u){var t=C(e,2)[1],r=C(n,2)[1];return u(r,t)}return!!s.renderWithProps||!l(e,n,!0)})}function j(n){var t,o,l,a,i,u,s,d,f=n.component,m=n.children,p=n.ellipsis,v=n.scope,x=n.prefixCls,h=n.className,y=n.align,w=n.record,R=n.render,N=n.dataIndex,I=n.renderIndex,L=n.shouldCellUpdate,M=n.index,H=n.rowType,T=n.colSpan,K=n.rowSpan,W=n.fixLeft,O=n.fixRight,_=n.firstFixLeft,B=n.lastFixLeft,P=n.firstFixRight,j=n.lastFixRight,F=n.appendNode,X=n.additionalProps,D=void 0===X?{}:X,V=n.isSticky,U="".concat(x,"-cell"),Y=r(z,["supportSticky","allColumnsFixedLeft","rowHoverable"]),q=Y.supportSticky,G=Y.allColumnsFixedLeft,Q=Y.rowHoverable,J=A(w,N,I,m,R,L),Z=C(J,2),$=Z[0],ee=Z[1],ne={},te="number"==typeof W&&q,re="number"==typeof O&&q;te&&(ne.position="sticky",ne.left=W),re&&(ne.position="sticky",ne.right=O);var oe=null!==(t=null!==(o=null!==(l=null==ee?void 0:ee.colSpan)&&void 0!==l?l:D.colSpan)&&void 0!==o?o:T)&&void 0!==t?t:1,le=null!==(a=null!==(i=null!==(u=null==ee?void 0:ee.rowSpan)&&void 0!==u?u:D.rowSpan)&&void 0!==i?i:K)&&void 0!==a?a:1,ae=function(e,n){return r(z,function(t){var r,o,l,a;return[(r=e,o=n||1,l=t.hoverStartRow,a=t.hoverEndRow,r<=a&&r+o-1>=l),t.onHover]})}(M,le),ce=C(ae,2),ie=ce[0],ue=ce[1],se=c(function(e){var n;w&&ue(M,M+le-1),null==D||null===(n=D.onMouseEnter)||void 0===n||n.call(D,e)}),de=c(function(e){var n;w&&ue(-1,-1),null==D||null===(n=D.onMouseLeave)||void 0===n||n.call(D,e)});if(0===oe||0===le)return null;var fe=null!==(s=D.title)&&void 0!==s?s:function(n){var t,r=n.ellipsis,o=n.rowType,l=n.children,a=!0===r?{showTitle:!0}:r;return a&&(a.showTitle||"header"===o)&&("string"==typeof l||"number"==typeof l?t=l.toString():e.isValidElement(l)&&"string"==typeof l.props.children&&(t=l.props.children)),t}({rowType:H,ellipsis:p,children:$}),me=k(U,h,(g(g(g(g(g(g(g(g(g(g(d={},"".concat(U,"-fix-left"),te&&q),"".concat(U,"-fix-left-first"),_&&q),"".concat(U,"-fix-left-last"),B&&q),"".concat(U,"-fix-left-all"),B&&G&&q),"".concat(U,"-fix-right"),re&&q),"".concat(U,"-fix-right-first"),P&&q),"".concat(U,"-fix-right-last"),j&&q),"".concat(U,"-ellipsis"),p),"".concat(U,"-with-append"),F),"".concat(U,"-fix-sticky"),(te||re)&&V&&q),g(d,"".concat(U,"-row-hover"),!ee&&ie)),D.className,null==ee?void 0:ee.className),pe={};y&&(pe.textAlign=y);var ve=S(S(S(S({},null==ee?void 0:ee.style),ne),pe),D.style),xe=$;return"object"!==E(xe)||Array.isArray(xe)||e.isValidElement(xe)||(xe=null),p&&(B||P)&&(xe=e.createElement("span",{className:"".concat(U,"-content")},xe)),e.createElement(f,b({},ee,D,{className:me,style:ve,title:fe,scope:v,onMouseEnter:Q?se:void 0,onMouseLeave:Q?de:void 0,colSpan:1!==oe?oe:null,rowSpan:1!==le?le:null}),F,xe)}const F=e.memo(j);function X(e,n,t,r,o){var l,a,c=t[e]||{},i=t[n]||{};"left"===c.fixed?l=r.left["rtl"===o?n:e]:"right"===i.fixed&&(a=r.right["rtl"===o?e:n]);var u=!1,s=!1,d=!1,f=!1,m=t[n+1],p=t[e-1],v=m&&!m.fixed||p&&!p.fixed||t.every(function(e){return"left"===e.fixed});if("rtl"===o){if(void 0!==l)f=!(p&&"left"===p.fixed)&&v;else if(void 0!==a){d=!(m&&"right"===m.fixed)&&v}}else if(void 0!==l){u=!(m&&"left"===m.fixed)&&v}else if(void 0!==a){s=!(p&&"right"===p.fixed)&&v}return{fixLeft:l,fixRight:a,lastFixLeft:u,firstFixRight:s,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var D=e.createContext({});var V=["children"];function U(e){return e.children}U.Row=function(n){var t=n.children,r=R(n,V);return e.createElement("tr",r,t)},U.Cell=function(n){var t=n.className,o=n.index,l=n.children,a=n.colSpan,c=void 0===a?1:a,i=n.rowSpan,u=n.align,s=r(z,["prefixCls","direction"]),d=s.prefixCls,f=s.direction,m=e.useContext(D),p=m.scrollColumnIndex,v=m.stickyOffsets,x=o+c-1+1===p?c+1:c,h=X(o,o+x-1,m.flattenColumns,v,f);return e.createElement(F,b({className:t,index:o,component:"td",prefixCls:d,record:null,dataIndex:null,align:u,colSpan:x,rowSpan:i,render:function(){return l}},h))};const Y=W(function(n){var t=n.children,o=n.stickyOffsets,l=n.flattenColumns,a=r(z,"prefixCls"),c=l.length-1,i=l[c],u=e.useMemo(function(){return{stickyOffsets:o,flattenColumns:l,scrollColumnIndex:null!=i&&i.scrollbar?c:null}},[i,l,c,o]);return e.createElement(D.Provider,{value:u},e.createElement("tfoot",{className:"".concat(a,"-summary")},t))});var q=U;function G(e,n,t,r,o,l,a){var c=l(n,a);e.push({record:n,indent:t,index:a,rowKey:c});var i=null==o?void 0:o.has(c);if(n&&Array.isArray(n[r])&&i)for(var u=0;u<n[r].length;u+=1)G(e,n[r][u],t+1,r,o,l,u)}function Q(n,t,r,o){return e.useMemo(function(){if(null!=r&&r.size){for(var e=[],l=0;l<(null==n?void 0:n.length);l+=1){G(e,n[l],0,t,r,o,l)}return e}return null==n?void 0:n.map(function(e,n){return{record:e,indent:0,index:n,rowKey:o(e,n)}})},[n,t,r,o])}function J(e,n,t,o){var l,a=r(z,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,u=a.expandableType,s=a.expandedKeys,d=a.childrenColumnName,f=a.onTriggerExpand,m=a.rowExpandable,p=a.onRow,v=a.expandRowByClick,x=a.rowClassName,h="nest"===u,y="row"===u&&(!m||m(e)),w=y||h,C=s&&s.has(n),E=d&&e&&e[d],g=c(f),b=null==p?void 0:p(e,t),R=null==b?void 0:b.onClick;"string"==typeof x?l=x:"function"==typeof x&&(l=x(e,t,o));var N=B(i);return S(S({},a),{},{columnsKey:N,nestExpandable:h,expanded:C,hasNestChildren:E,record:e,onTriggerExpand:g,rowSupportExpand:y,expandable:w,rowProps:S(S({},b),{},{className:k(l,null==b?void 0:b.className),onClick:function(n){v&&w&&f(e,n);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null==R||R.apply(void 0,[n].concat(r))}})})}function Z(n){var t=n.prefixCls,o=n.children,l=n.component,a=n.cellComponent,c=n.className,i=n.expanded,u=n.colSpan,s=n.isEmpty,d=n.stickyOffset,f=void 0===d?0:d,m=r(z,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),p=m.scrollbarSize,v=m.fixHeader,x=m.fixColumn,h=m.componentWidth,y=m.horizonScroll,w=o;return(s?y&&h:x)&&(w=e.createElement("div",{style:{width:h-f-(v&&!s?p:0),position:"sticky",left:f,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},w)),e.createElement(l,{className:c,style:{display:i?null:"none"}},e.createElement(F,{component:a,prefixCls:t,colSpan:u},w))}function $(n){var t=n.prefixCls,r=n.record,o=n.onExpand,l=n.expanded,a=n.expandable,c="".concat(t,"-row-expand-icon");if(!a)return e.createElement("span",{className:k(c,"".concat(t,"-row-spaced"))});return e.createElement("span",{className:k(c,g(g({},"".concat(t,"-row-expanded"),l),"".concat(t,"-row-collapsed"),!l)),onClick:function(e){o(r,e),e.stopPropagation()}})}function ee(e,n,t,r){return"string"==typeof e?e:"function"==typeof e?e(n,t,r):""}function ne(n,t,r,o,l){var a,c,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=n.record,d=n.prefixCls,f=n.columnsKey,m=n.fixedInfoList,p=n.expandIconColumnIndex,v=n.nestExpandable,x=n.indentSize,h=n.expandIcon,y=n.expanded,w=n.hasNestChildren,C=n.onTriggerExpand,E=n.expandable,g=n.expandedKeys,S=f[r],b=m[r];r===(p||0)&&v&&(c=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(x*o,"px")},className:"".concat(d,"-row-indent indent-level-").concat(o)}),h({prefixCls:d,expanded:y,expandable:w,record:s,onExpand:C})));var R=(null===(a=t.onCell)||void 0===a?void 0:a.call(t,s,l))||{};if(u){var N=R.rowSpan,k=void 0===N?1:N;if(E&&k&&r<u){for(var I=k,L=l;L<l+k;L+=1){var M=i[L];g.has(M)&&(I+=1)}R.rowSpan=I}}return{key:S,fixedInfo:b,appendCellNode:c,additionalCellProps:R}}const te=W(function(n){var t=n.className,r=n.style,o=n.record,l=n.index,a=n.renderIndex,c=n.rowKey,i=n.rowKeys,u=n.indent,s=void 0===u?0:u,d=n.rowComponent,f=n.cellComponent,m=n.scopeCellComponent,p=n.expandedRowInfo,v=J(o,c,l,s),x=v.prefixCls,h=v.flattenColumns,y=v.expandedRowClassName,w=v.expandedRowRender,C=v.rowProps,E=v.expanded,R=v.rowSupportExpand,N=e.useRef(!1);N.current||(N.current=E);var I,L=ee(y,o,l,s),M=e.createElement(d,b({},C,{"data-row-key":c,className:k(t,"".concat(x,"-row"),"".concat(x,"-row-level-").concat(s),null==C?void 0:C.className,g({},L,s>=1)),style:S(S({},r),null==C?void 0:C.style)}),h.map(function(n,t){var r=n.render,c=n.dataIndex,u=n.className,d=ne(v,n,t,s,l,i,null==p?void 0:p.offset),h=d.key,y=d.fixedInfo,w=d.appendCellNode,C=d.additionalCellProps;return e.createElement(F,b({className:u,ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:n.rowScope?m:f,prefixCls:x,key:h,record:o,index:l,renderIndex:a,dataIndex:c,render:r,shouldCellUpdate:n.shouldCellUpdate},y,{appendNode:w,additionalProps:C}))}));if(R&&(N.current||E)){var H=w(o,l,s+1,E);I=e.createElement(Z,{expanded:E,className:k("".concat(x,"-expanded-row"),"".concat(x,"-expanded-row-level-").concat(s+1),L),prefixCls:x,component:d,cellComponent:f,colSpan:p?p.colSpan:h.length,stickyOffset:null==p?void 0:p.sticky,isEmpty:!1},H)}return e.createElement(e.Fragment,null,M,I)});function re(n){var t=n.columnKey,r=n.onColumnResize,o=e.useRef();return i(function(){o.current&&r(t,o.current.offsetWidth)},[]),e.createElement(I,{data:t},e.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function oe(n){var t=n.prefixCls,r=n.columnsKey,o=n.onColumnResize,l=e.useRef(null);return e.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0},ref:l},e.createElement(I.Collection,{onBatchResize:function(e){u(l.current)&&e.forEach(function(e){var n=e.data,t=e.size;o(n,t.offsetWidth)})}},r.map(function(n){return e.createElement(re,{key:n,columnKey:n,onColumnResize:o})})))}const le=W(function(n){var t,o=n.data,l=n.measureColumnWidth,a=r(z,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),c=a.prefixCls,i=a.getComponent,u=a.onColumnResize,s=a.flattenColumns,d=a.getRowKey,f=a.expandedKeys,m=a.childrenColumnName,p=a.emptyNode,v=a.expandedRowOffset,x=void 0===v?0:v,h=a.colWidths,y=Q(o,m,f,d),w=e.useMemo(function(){return y.map(function(e){return e.rowKey})},[y]),C=e.useRef({renderWithProps:!1}),E=e.useMemo(function(){for(var e=s.length-x,n=0,t=0;t<x;t+=1)n+=h[t]||0;return{offset:x,colSpan:e,sticky:n}},[s.length,x,h]),g=i(["body","wrapper"],"tbody"),S=i(["body","row"],"tr"),b=i(["body","cell"],"td"),R=i(["body","cell"],"th");t=o.length?y.map(function(n,t){var r=n.record,o=n.indent,l=n.index,a=n.rowKey;return e.createElement(te,{key:a,rowKey:a,rowKeys:w,record:r,index:t,renderIndex:l,rowComponent:S,cellComponent:b,scopeCellComponent:R,indent:o,expandedRowInfo:E})}):e.createElement(Z,{expanded:!0,className:"".concat(c,"-placeholder"),prefixCls:c,component:S,cellComponent:b,colSpan:s.length,isEmpty:!0},p);var N=B(s);return e.createElement(_.Provider,{value:C.current},e.createElement(g,{className:"".concat(c,"-tbody")},l&&e.createElement(oe,{prefixCls:c,columnsKey:N,onColumnResize:u}),t))});var ae=["expandable"],ce="RC_TABLE_INTERNAL_COL_DEFINE";var ie=["columnType"];function ue(n){for(var t=n.colWidths,o=n.columns,l=n.columCount,a=r(z,["tableLayout"]).tableLayout,c=[],i=!1,u=(l||o.length)-1;u>=0;u-=1){var s=t[u],d=o&&o[u],f=void 0,m=void 0;if(d&&(f=d[ce],"auto"===a&&(m=d.minWidth)),s||m||f||i){var p=f||{};p.columnType;var v=R(p,ie);c.unshift(e.createElement("col",b({key:u,style:{width:s,minWidth:m}},v))),i=!0}}return e.createElement("colgroup",null,c)}var se=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var de=e.forwardRef(function(n,t){var o=n.className,l=n.noData,a=n.columns,c=n.flattenColumns,i=n.colWidths,u=n.columCount,d=n.stickyOffsets,f=n.direction,m=n.fixHeader,p=n.stickyTopOffset,v=n.stickyBottomOffset,x=n.stickyClassName,h=n.onScroll,y=n.maxContentScroll,w=n.children,C=R(n,se),E=r(z,["prefixCls","scrollbarSize","isSticky","getComponent"]),b=E.prefixCls,I=E.scrollbarSize,L=E.isSticky,M=(0,E.getComponent)(["header","table"],"table"),H=L&&!m?0:I,T=e.useRef(null),K=e.useCallback(function(e){s(t,e),s(T,e)},[]);e.useEffect(function(){function e(e){var n=e,t=n.currentTarget,r=n.deltaX;r&&(h({currentTarget:t,scrollLeft:t.scrollLeft+r}),e.preventDefault())}var n=T.current;return null==n||n.addEventListener("wheel",e,{passive:!1}),function(){null==n||n.removeEventListener("wheel",e)}},[]);var W=e.useMemo(function(){return c.every(function(e){return e.width})},[c]),O=c[c.length-1],_={fixed:O?O.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(b,"-cell-scrollbar")}}},B=e.useMemo(function(){return H?[].concat(N(a),[_]):a},[H,a]),P=e.useMemo(function(){return H?[].concat(N(c),[_]):c},[H,c]),A=e.useMemo(function(){var e=d.right,n=d.left;return S(S({},d),{},{left:"rtl"===f?[].concat(N(n.map(function(e){return e+H})),[0]):n,right:"rtl"===f?e:[].concat(N(e.map(function(e){return e+H})),[0]),isSticky:L})},[H,d,L]),j=function(n,t){return e.useMemo(function(){for(var e=[],r=0;r<t;r+=1){var o=n[r];if(void 0===o)return null;e[r]=o}return e},[n.join("_"),t])}(i,u);return e.createElement("div",{style:S({overflow:"hidden"},L?{top:p,bottom:v}:{}),ref:K,className:k(o,g({},x,!!x))},e.createElement(M,{style:{tableLayout:"fixed",visibility:l||j?null:"hidden"}},(!l||!y||W)&&e.createElement(ue,{colWidths:j?[].concat(N(j),[H]):[],columCount:u+1,columns:P}),w(S(S({},C),{},{stickyOffsets:A,columns:B,flattenColumns:P}))))});const fe=e.memo(de);var me=function(n){var t,o=n.cells,l=n.stickyOffsets,a=n.flattenColumns,c=n.rowComponent,i=n.cellComponent,u=n.onHeaderRow,s=n.index,d=r(z,["prefixCls","direction"]),f=d.prefixCls,m=d.direction;u&&(t=u(o.map(function(e){return e.column}),s));var p=B(o.map(function(e){return e.column}));return e.createElement(c,t,o.map(function(n,t){var r,o=n.column,c=X(n.colStart,n.colEnd,a,l,m);return o&&o.onHeaderCell&&(r=n.column.onHeaderCell(o)),e.createElement(F,b({},n,{scope:o.title?n.colSpan>1?"colgroup":"col":null,ellipsis:o.ellipsis,align:o.align,component:i,prefixCls:f,key:p[t]},c,{additionalProps:r,rowType:"header"}))}))};const pe=W(function(n){var t=n.stickyOffsets,o=n.columns,l=n.flattenColumns,a=n.onHeaderRow,c=r(z,["prefixCls","getComponent"]),i=c.prefixCls,u=c.getComponent,s=e.useMemo(function(){return function(e){var n=[];!function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n[o]=n[o]||[];var l=r;return t.filter(Boolean).map(function(t){var r={key:t.key,className:t.className||"",children:t.title,column:t,colStart:l},a=1,c=t.children;return c&&c.length>0&&(a=e(c,l,o+1).reduce(function(e,n){return e+n},0),r.hasSubColumns=!0),"colSpan"in t&&(a=t.colSpan),"rowSpan"in t&&(r.rowSpan=t.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,n[o].push(r),l+=a,a})}(e,0);for(var t=n.length,r=function(e){n[e].forEach(function(n){"rowSpan"in n||n.hasSubColumns||(n.rowSpan=t-e)})},o=0;o<t;o+=1)r(o);return n}(o)},[o]),d=u(["header","wrapper"],"thead"),f=u(["header","row"],"tr"),m=u(["header","cell"],"th");return e.createElement(d,{className:"".concat(i,"-thead")},s.map(function(n,r){return e.createElement(me,{key:r,flattenColumns:l,cells:n,stickyOffsets:t,rowComponent:f,cellComponent:m,onHeaderRow:a,index:r})}))});function ve(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"==typeof n?n:n.endsWith("%")?e*parseFloat(n)/100:null}var xe=["children"],he=["fixed"];function ye(n){return d(n).filter(function(n){return e.isValidElement(n)}).map(function(e){var n=e.key,t=e.props,r=t.children,o=R(t,xe),l=S({key:n},o);return r&&(l.children=ye(r)),l})}function we(e){return e.filter(function(e){return e&&"object"===E(e)&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?S(S({},e),{},{children:we(n)}):e})}function Ce(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter(function(e){return e&&"object"===E(e)}).reduce(function(e,t,r){var o=t.fixed,l=!0===o?"left":o,a="".concat(n,"-").concat(r),c=t.children;return c&&c.length>0?[].concat(N(e),N(Ce(c,a).map(function(e){return S({fixed:l},e)}))):[].concat(N(e),[S(S({key:a},t),{},{fixed:l})])},[])}function Ee(n,t){var r=n.prefixCls,o=n.columns,l=n.children,a=n.expandable,c=n.expandedKeys,i=n.columnTitle,u=n.getRowKey,s=n.onTriggerExpand,d=n.expandIcon,f=n.rowExpandable,m=n.expandIconColumnIndex,p=n.expandedRowOffset,v=void 0===p?0:p,x=n.direction,h=n.expandRowByClick,y=n.columnWidth,w=n.fixed,E=n.scrollWidth,b=n.clientWidth,N=e.useMemo(function(){return we((o||ye(l)||[]).slice())},[o,l]),k=e.useMemo(function(){if(a){var n=N.slice();if(!n.includes(M)){var t=m||0;t>=0&&(t||"left"===w||!w)&&n.splice(t,0,M),"right"===w&&n.splice(N.length,0,M)}var o=n.indexOf(M);n=n.filter(function(e,n){return e!==M||n===o});var l,p=N[o];l=w||(p?p.fixed:null);var x=g(g(g(g(g(g({},ce,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",i),"fixed",l),"className","".concat(r,"-row-expand-icon-cell")),"width",y),"render",function(n,t,o){var l=u(t,o),a=c.has(l),i=!f||f(t),m=d({prefixCls:r,expanded:a,expandable:i,record:t,onExpand:s});return h?e.createElement("span",{onClick:function(e){return e.stopPropagation()}},m):m});return n.map(function(e,n){var t=e===M?x:e;return n<v?S(S({},t),{},{fixed:t.fixed||"left"}):t})}return N.filter(function(e){return e!==M})},[a,N,u,c,d,x,v]),I=e.useMemo(function(){var e=k;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e},[t,k,x]),L=e.useMemo(function(){return"rtl"===x?function(e){return e.map(function(e){var n=e.fixed,t=R(e,he),r=n;return"left"===n?r="right":"right"===n&&(r="left"),S({fixed:r},t)})}(Ce(I)):Ce(I)},[I,x,E]),H=e.useMemo(function(){for(var e=-1,n=L.length-1;n>=0;n-=1){var t=L[n].fixed;if("left"===t||!0===t){e=n;break}}if(e>=0)for(var r=0;r<=e;r+=1){var o=L[r].fixed;if("left"!==o&&!0!==o)return!0}var l=L.findIndex(function(e){return"right"===e.fixed});if(l>=0)for(var a=l;a<L.length;a+=1){if("right"!==L[a].fixed)return!0}return!1},[L]),T=function(n,t,r){return e.useMemo(function(){if(t&&t>0){var e=0,o=0;n.forEach(function(n){var r=ve(t,n.width);r?e+=r:o+=1});var l=Math.max(t,r),a=Math.max(l-e,o),c=o,i=a/o,u=0,s=n.map(function(e){var n=S({},e),r=ve(t,n.width);if(r)n.width=r;else{var o=Math.floor(i);n.width=1===c?a:o,a-=o,c-=1}return u+=n.width,n});if(u<l){var d=l/u;a=l,s.forEach(function(e,n){var t=Math.floor(e.width*d);e.width=n===s.length-1?a:t,a-=t})}return[s,Math.max(u,l)]}return[n,t]},[n,t,r])}(L,E,b),K=C(T,2),W=K[0],O=K[1];return[I,W,O,H]}function ge(n,t,r){var o=function(e){var n,t=e.expandable,r=R(e,ae);return!1===(n="expandable"in e?S(S({},r),t):r).showExpandColumn&&(n.expandIconColumnIndex=-1),n}(n),l=o.expandIcon,a=o.expandedRowKeys,c=o.defaultExpandedRowKeys,i=o.defaultExpandAllRows,u=o.expandedRowRender,s=o.onExpand,d=o.onExpandedRowsChange,f=l||$,m=o.childrenColumnName||"children",p=e.useMemo(function(){return u?"row":!!(n.expandable&&n.internalHooks===H&&n.expandable.__PARENT_RENDER_ICON__||t.some(function(e){return e&&"object"===E(e)&&e[m]}))&&"nest"},[!!u,t]),v=e.useState(function(){return c||(i?function(e,n,t){var r=[];return function e(o){(o||[]).forEach(function(o,l){r.push(n(o,l)),e(o[t])})}(e),r}(t,r,m):[])}),x=C(v,2),h=x[0],y=x[1],w=e.useMemo(function(){return new Set(a||h||[])},[a,h]),g=e.useCallback(function(e){var n,o=r(e,t.indexOf(e)),l=w.has(o);l?(w.delete(o),n=N(w)):n=[].concat(N(w),[o]),y(n),s&&s(!l,e),d&&d(n)},[r,w,t,s,d]);return[o,p,w,f,m,g]}var Se=f()?window:null;function be(n){var t=n.className,r=n.children;return e.createElement("div",{className:t},r)}function Re(e){var n=m(e).getBoundingClientRect(),t=document.documentElement;return{left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}var Ne=function(n,t){var o,l,a,c,i,u,s,d,f=n.scrollBodyRef,h=n.onScroll,y=n.offsetScroll,w=n.container,E=n.direction,b=r(z,"prefixCls"),R=(null===(o=f.current)||void 0===o?void 0:o.scrollWidth)||0,N=(null===(l=f.current)||void 0===l?void 0:l.clientWidth)||0,I=R&&N*(N/R),L=e.useRef(),M=(a={scrollLeft:0,isHiddenScrollBar:!0},c=e.useRef(a),i=e.useState({}),u=C(i,2)[1],s=e.useRef(null),d=e.useRef([]),e.useEffect(function(){return function(){s.current=null}},[]),[c.current,function(e){d.current.push(e);var n=Promise.resolve();s.current=n,n.then(function(){if(s.current===n){var e=d.current,t=c.current;d.current=[],e.forEach(function(e){c.current=e(c.current)}),s.current=null,t!==c.current&&u({})}})}]),H=C(M,2),T=H[0],K=H[1],W=e.useRef({delta:0,x:0}),O=e.useState(!1),_=C(O,2),B=_[0],P=_[1],A=e.useRef(null);e.useEffect(function(){return function(){p.cancel(A.current)}},[]);var j=function(){P(!1)},F=function(e){var n,t=(e||(null===(n=window)||void 0===n?void 0:n.event)).buttons;if(B&&0!==t){var r=W.current.x+e.pageX-W.current.x-W.current.delta,o="rtl"===E;r=Math.max(o?I-N:0,Math.min(o?0:N-I,r)),(!o||Math.abs(r)+Math.abs(I)<N)&&(h({scrollLeft:r/N*(R+2)}),W.current.x=e.pageX)}else B&&P(!1)},X=function(){p.cancel(A.current),A.current=p(function(){if(f.current){var e=Re(f.current).top,n=e+f.current.offsetHeight,t=w===window?document.documentElement.scrollTop+window.innerHeight:Re(w).top+w.clientHeight;n-x()<=t||e>=t-y?K(function(e){return S(S({},e),{},{isHiddenScrollBar:!0})}):K(function(e){return S(S({},e),{},{isHiddenScrollBar:!1})})}})},D=function(e){K(function(n){return S(S({},n),{},{scrollLeft:e/R*N||0})})};return e.useImperativeHandle(t,function(){return{setScrollLeft:D,checkScrollBarVisible:X}}),e.useEffect(function(){var e=v(document.body,"mouseup",j,!1),n=v(document.body,"mousemove",F,!1);return X(),function(){e.remove(),n.remove()}},[I,B]),e.useEffect(function(){if(f.current){for(var e=[],n=m(f.current);n;)e.push(n),n=n.parentElement;return e.forEach(function(e){return e.addEventListener("scroll",X,!1)}),window.addEventListener("resize",X,!1),window.addEventListener("scroll",X,!1),w.addEventListener("scroll",X,!1),function(){e.forEach(function(e){return e.removeEventListener("scroll",X)}),window.removeEventListener("resize",X),window.removeEventListener("scroll",X),w.removeEventListener("scroll",X)}}},[w]),e.useEffect(function(){T.isHiddenScrollBar||K(function(e){var n=f.current;return n?S(S({},e),{},{scrollLeft:n.scrollLeft/n.scrollWidth*n.clientWidth}):e})},[T.isHiddenScrollBar]),R<=N||!I||T.isHiddenScrollBar?null:e.createElement("div",{style:{height:x(),width:N,bottom:y},className:"".concat(b,"-sticky-scroll")},e.createElement("div",{onMouseDown:function(e){e.persist(),W.current.delta=e.pageX-T.scrollLeft,W.current.x=0,P(!0),e.preventDefault()},ref:L,className:k("".concat(b,"-sticky-scroll-bar"),g({},"".concat(b,"-sticky-scroll-bar-active"),B)),style:{width:"".concat(I,"px"),transform:"translate3d(".concat(T.scrollLeft,"px, 0, 0)")}}))};const ke=e.forwardRef(Ne);var Ie="rc-table",Le=[],Me={};function He(){return"No Data"}function Te(n,t){var r=S({rowKey:"key",prefixCls:Ie,emptyText:He},n),u=r.prefixCls,s=r.className,d=r.rowClassName,f=r.style,p=r.data,v=r.rowKey,x=r.scroll,R=r.tableLayout,N=r.direction,L=r.title,M=r.footer,T=r.summary,K=r.caption,W=r.id,O=r.showHeader,_=r.components,A=r.emptyText,j=r.onRow,F=r.onHeaderRow,D=r.onScroll,V=r.internalHooks,q=r.transformColumns,G=r.internalRefs,Q=r.tailor,J=r.getContainerWidth,Z=r.sticky,$=r.rowHoverable,ee=void 0===$||$,ne=p||Le,te=!!ne.length,re=V===H,oe=e.useCallback(function(e,n){return a(_,e)||n},[_]),ae=e.useMemo(function(){return"function"==typeof v?v:function(e){return e&&e[v]}},[v]),ce=oe(["body"]),ie=function(){var n=e.useState(-1),t=C(n,2),r=t[0],o=t[1],l=e.useState(-1),a=C(l,2),c=a[0],i=a[1];return[r,c,e.useCallback(function(e,n){o(e),i(n)},[])]}(),se=C(ie,3),de=se[0],me=se[1],ve=se[2],xe=ge(r,ne,ae),he=C(xe,6),ye=he[0],we=he[1],Ce=he[2],Re=he[3],Ne=he[4],Te=he[5],Ke=null==x?void 0:x.x,We=e.useState(0),Oe=C(We,2),ze=Oe[0],_e=Oe[1],Be=Ee(S(S(S({},r),ye),{},{expandable:!!ye.expandedRowRender,columnTitle:ye.columnTitle,expandedKeys:Ce,getRowKey:ae,onTriggerExpand:Te,expandIcon:Re,expandIconColumnIndex:ye.expandIconColumnIndex,direction:N,scrollWidth:re&&Q&&"number"==typeof Ke?Ke:null,clientWidth:ze}),re?q:null),Pe=C(Be,4),Ae=Pe[0],je=Pe[1],Fe=Pe[2],Xe=Pe[3],De=null!=Fe?Fe:Ke,Ve=e.useMemo(function(){return{columns:Ae,flattenColumns:je}},[Ae,je]),Ue=e.useRef(),Ye=e.useRef(),qe=e.useRef(),Ge=e.useRef();e.useImperativeHandle(t,function(){return{nativeElement:Ue.current,scrollTo:function(e){var n,t;if(qe.current instanceof HTMLElement){var r=e.index,o=e.top,l=e.key;if("number"!=typeof(t=o)||Number.isNaN(t)){var a,c=null!=l?l:ae(ne[r]);null===(a=qe.current.querySelector('[data-row-key="'.concat(c,'"]')))||void 0===a||a.scrollIntoView()}else{var i;null===(i=qe.current)||void 0===i||i.scrollTo({top:o})}}else null!==(n=qe.current)&&void 0!==n&&n.scrollTo&&qe.current.scrollTo(e)}}});var Qe,Je,Ze,$e=e.useRef(),en=e.useState(!1),nn=C(en,2),tn=nn[0],rn=nn[1],on=e.useState(!1),ln=C(on,2),an=ln[0],cn=ln[1],un=e.useState(new Map),sn=C(un,2),dn=sn[0],fn=sn[1],mn=B(je).map(function(e){return dn.get(e)}),pn=e.useMemo(function(){return mn},[mn.join("_")]),vn=function(n,t,r){return e.useMemo(function(){var e=t.length,o=function(e,r,o){for(var l=[],a=0,c=e;c!==r;c+=o)l.push(a),t[c].fixed&&(a+=n[c]||0);return l},l=o(0,e,1),a=o(e-1,-1,-1).reverse();return"rtl"===r?{left:a,right:l}:{left:l,right:a}},[n,t,r])}(pn,je,N),xn=x&&P(x.y),hn=x&&P(De)||Boolean(ye.fixed),yn=hn&&je.some(function(e){return e.fixed}),wn=e.useRef(),Cn=function(n,t){var r="object"===E(n)?n:{},o=r.offsetHeader,l=void 0===o?0:o,a=r.offsetSummary,c=void 0===a?0:a,i=r.offsetScroll,u=void 0===i?0:i,s=r.getContainer,d=(void 0===s?function(){return Se}:s)()||Se,f=!!n;return e.useMemo(function(){return{isSticky:f,stickyClassName:f?"".concat(t,"-sticky-holder"):"",offsetHeader:l,offsetSummary:c,offsetScroll:u,container:d}},[f,u,l,c,t,d])}(Z,u),En=Cn.isSticky,gn=Cn.offsetHeader,Sn=Cn.offsetSummary,bn=Cn.offsetScroll,Rn=Cn.stickyClassName,Nn=Cn.container,kn=e.useMemo(function(){return null==T?void 0:T(ne)},[T,ne]),In=(xn||En)&&e.isValidElement(kn)&&kn.type===U&&kn.props.fixed;xn&&(Je={overflowY:te?"scroll":"auto",maxHeight:x.y}),hn&&(Qe={overflowX:"auto"},xn||(Je={overflowY:"hidden"}),Ze={width:!0===De?"auto":De,minWidth:"100%"});var Ln=e.useCallback(function(e,n){fn(function(t){if(t.get(e)!==n){var r=new Map(t);return r.set(e,n),r}return t})},[]),Mn=function(){var n=e.useRef(null),t=e.useRef();function r(){window.clearTimeout(t.current)}return e.useEffect(function(){return r},[]),[function(e){n.current=e,r(),t.current=window.setTimeout(function(){n.current=null,t.current=void 0},100)},function(){return n.current}]}(),Hn=C(Mn,2),Tn=Hn[0],Kn=Hn[1];function Wn(e,n){n&&("function"==typeof n?n(e):n.scrollLeft!==e&&(n.scrollLeft=e,n.scrollLeft!==e&&setTimeout(function(){n.scrollLeft=e},0)))}var On=c(function(e){var n,t=e.currentTarget,r=e.scrollLeft,o="rtl"===N,l="number"==typeof r?r:t.scrollLeft,a=t||Me;Kn()&&Kn()!==a||(Tn(a),Wn(l,Ye.current),Wn(l,qe.current),Wn(l,$e.current),Wn(l,null===(n=wn.current)||void 0===n?void 0:n.setScrollLeft));var c=t||Ye.current;if(c){var i=re&&Q&&"number"==typeof De?De:c.scrollWidth,u=c.clientWidth;if(i===u)return rn(!1),void cn(!1);o?(rn(-l<i-u),cn(-l>0)):(rn(l>0),cn(l<i-u))}}),zn=c(function(e){On(e),null==D||D(e)}),_n=function(){var e;hn&&qe.current?On({currentTarget:m(qe.current),scrollLeft:null===(e=qe.current)||void 0===e?void 0:e.scrollLeft}):(rn(!1),cn(!1))},Bn=e.useRef(!1);e.useEffect(function(){Bn.current&&_n()},[hn,p,Ae.length]),e.useEffect(function(){Bn.current=!0},[]);var Pn=e.useState(0),An=C(Pn,2),jn=An[0],Fn=An[1],Xn=e.useState(!0),Dn=C(Xn,2),Vn=Dn[0],Un=Dn[1];i(function(){Q&&re||(qe.current instanceof Element?Fn(h(qe.current).width):Fn(h(Ge.current).width)),Un(y("position","sticky"))},[]),e.useEffect(function(){re&&G&&(G.body.current=qe.current)});var Yn,qn=e.useCallback(function(n){return e.createElement(e.Fragment,null,e.createElement(pe,n),"top"===In&&e.createElement(Y,n,kn))},[In,kn]),Gn=e.useCallback(function(n){return e.createElement(Y,n,kn)},[kn]),Qn=oe(["table"],"table"),Jn=e.useMemo(function(){return R||(yn?"max-content"===De?"auto":"fixed":xn||En||je.some(function(e){return e.ellipsis})?"fixed":"auto")},[xn,yn,je,R,En]),Zn={colWidths:pn,columCount:je.length,stickyOffsets:vn,onHeaderRow:F,fixHeader:xn,scroll:x},$n=e.useMemo(function(){return te?null:"function"==typeof A?A():A},[te,A]),et=e.createElement(le,{data:ne,measureColumnWidth:xn||hn||En}),nt=e.createElement(ue,{colWidths:je.map(function(e){return e.width}),columns:je}),tt=null!=K?e.createElement("caption",{className:"".concat(u,"-caption")},K):void 0,rt=w(r,{data:!0}),ot=w(r,{aria:!0});if(xn||En){var lt;"function"==typeof ce?(lt=ce(ne,{scrollbarSize:jn,ref:qe,onScroll:On}),Zn.colWidths=je.map(function(e,n){var t=e.width,r=n===je.length-1?t-jn:t;return"number"!=typeof r||Number.isNaN(r)?0:r})):lt=e.createElement("div",{style:S(S({},Qe),Je),onScroll:zn,ref:qe,className:k("".concat(u,"-body"))},e.createElement(Qn,b({style:S(S({},Ze),{},{tableLayout:Jn})},ot),tt,nt,et,!In&&kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var at=S(S(S({noData:!ne.length,maxContentScroll:hn&&"max-content"===De},Zn),Ve),{},{direction:N,stickyClassName:Rn,onScroll:On});Yn=e.createElement(e.Fragment,null,!1!==O&&e.createElement(fe,b({},at,{stickyTopOffset:gn,className:"".concat(u,"-header"),ref:Ye}),qn),lt,In&&"top"!==In&&e.createElement(fe,b({},at,{stickyBottomOffset:Sn,className:"".concat(u,"-summary"),ref:$e}),Gn),En&&qe.current&&qe.current instanceof Element&&e.createElement(ke,{ref:wn,offsetScroll:bn,scrollBodyRef:qe,onScroll:On,container:Nn,direction:N}))}else Yn=e.createElement("div",{style:S(S({},Qe),Je),className:k("".concat(u,"-content")),onScroll:On,ref:qe},e.createElement(Qn,b({style:S(S({},Ze),{},{tableLayout:Jn})},ot),tt,nt,!1!==O&&e.createElement(pe,b({},Zn,Ve)),et,kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var ct=e.createElement("div",b({className:k(u,s,g(g(g(g(g(g(g(g(g(g({},"".concat(u,"-rtl"),"rtl"===N),"".concat(u,"-ping-left"),tn),"".concat(u,"-ping-right"),an),"".concat(u,"-layout-fixed"),"fixed"===R),"".concat(u,"-fixed-header"),xn),"".concat(u,"-fixed-column"),yn),"".concat(u,"-fixed-column-gapped"),yn&&Xe),"".concat(u,"-scroll-horizontal"),hn),"".concat(u,"-has-fix-left"),je[0]&&je[0].fixed),"".concat(u,"-has-fix-right"),je[je.length-1]&&"right"===je[je.length-1].fixed)),style:f,id:W,ref:Ue},rt),L&&e.createElement(be,{className:"".concat(u,"-title")},L(ne)),e.createElement("div",{ref:Ge,className:"".concat(u,"-container")},Yn),M&&e.createElement(be,{className:"".concat(u,"-footer")},M(ne)));hn&&(ct=e.createElement(I,{onResize:function(e){var n,t=e.width;null===(n=wn.current)||void 0===n||n.checkScrollBarVisible();var r=Ue.current?Ue.current.offsetWidth:t;re&&J&&Ue.current&&(r=J(Ue.current,r)||r),r!==ze&&(_n(),_e(r))}},ct));var it=function(e,n,t){var r=e.map(function(r,o){return X(o,o,e,n,t)});return o(function(){return r},[r],function(e,n){return!l(e,n)})}(je,vn,N),ut=e.useMemo(function(){return{scrollX:De,prefixCls:u,getComponent:oe,scrollbarSize:jn,direction:N,fixedInfoList:it,isSticky:En,supportSticky:Vn,componentWidth:ze,fixHeader:xn,fixColumn:yn,horizonScroll:hn,tableLayout:Jn,rowClassName:d,expandedRowClassName:ye.expandedRowClassName,expandIcon:Re,expandableType:we,expandRowByClick:ye.expandRowByClick,expandedRowRender:ye.expandedRowRender,expandedRowOffset:ye.expandedRowOffset,onTriggerExpand:Te,expandIconColumnIndex:ye.expandIconColumnIndex,indentSize:ye.indentSize,allColumnsFixedLeft:je.every(function(e){return"left"===e.fixed}),emptyNode:$n,columns:Ae,flattenColumns:je,onColumnResize:Ln,colWidths:pn,hoverStartRow:de,hoverEndRow:me,onHover:ve,rowExpandable:ye.rowExpandable,onRow:j,getRowKey:ae,expandedKeys:Ce,childrenColumnName:Ne,rowHoverable:ee}},[De,u,oe,jn,N,it,En,Vn,ze,xn,yn,hn,Jn,d,ye.expandedRowClassName,Re,we,ye.expandRowByClick,ye.expandedRowRender,ye.expandedRowOffset,Te,ye.expandIconColumnIndex,ye.indentSize,$n,Ae,je,Ln,pn,de,me,ve,ye.rowExpandable,j,ae,Ce,Ne,ee]);return e.createElement(z.Provider,{value:ut},ct)}var Ke=e.forwardRef(Te);function We(e){return K(Ke,e)}var Oe=We();Oe.EXPAND_COLUMN=M,Oe.INTERNAL_HOOKS=H,Oe.Column=function(e){return null},Oe.ColumnGroup=function(e){return null},Oe.Summary=q;var ze=t(null),_e=t(null);function Be(n){var t=n.rowInfo,o=n.column,l=n.colIndex,a=n.indent,c=n.index,i=n.component,u=n.renderIndex,s=n.record,d=n.style,f=n.className,m=n.inverse,p=n.getHeight,v=o.render,x=o.dataIndex,h=o.className,y=o.width,w=r(_e,["columnsOffset"]).columnsOffset,C=ne(t,o,l,a,c),E=C.key,g=C.fixedInfo,R=C.appendCellNode,N=C.additionalCellProps,I=N.style,L=N.colSpan,M=void 0===L?1:L,H=N.rowSpan,T=void 0===H?1:H,K=function(e,n,t){return t[e+(n||1)]-(t[e]||0)}(l-1,M,w),W=M>1?y-K:0,O=S(S(S({},I),d),{},{flex:"0 0 ".concat(K,"px"),width:"".concat(K,"px"),marginRight:W,pointerEvents:"auto"}),z=e.useMemo(function(){return m?T<=1:0===M||0===T||T>1},[T,M,m]);z?O.visibility="hidden":m&&(O.height=null==p?void 0:p(T));var _=z?function(){return null}:v,B={};return 0!==T&&0!==M||(B.rowSpan=1,B.colSpan=1),e.createElement(F,b({className:k(h,f),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:i,prefixCls:t.prefixCls,key:E,record:s,index:c,renderIndex:u,dataIndex:x,render:_,shouldCellUpdate:o.shouldCellUpdate},g,{appendNode:R,additionalProps:S(S({},N),{},{style:O},B)}))}var Pe=["data","index","className","rowKey","style","extra","getHeight"],Ae=W(e.forwardRef(function(n,t){var o,l=n.data,a=n.index,c=n.className,i=n.rowKey,u=n.style,s=n.extra,d=n.getHeight,f=R(n,Pe),m=l.record,p=l.indent,v=l.index,x=r(z,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),h=x.scrollX,y=x.flattenColumns,w=x.prefixCls,C=x.fixColumn,E=x.componentWidth,N=r(ze,["getComponent"]).getComponent,I=J(m,i,a,p),L=N(["body","row"],"div"),M=N(["body","cell"],"div"),H=I.rowSupportExpand,T=I.expanded,K=I.rowProps,W=I.expandedRowRender,O=I.expandedRowClassName;if(H&&T){var _=W(m,a,p+1,T),B=ee(O,m,a,p),P={};C&&(P={style:g({},"--virtual-width","".concat(E,"px"))});var A="".concat(w,"-expanded-row-cell");o=e.createElement(L,{className:k("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(p+1),B)},e.createElement(F,{component:M,prefixCls:w,className:k(A,g({},"".concat(A,"-fixed"),C)),additionalProps:P},_))}var j=S(S({},u),{},{width:h});s&&(j.position="absolute",j.pointerEvents="none");var X=e.createElement(L,b({},K,f,{"data-row-key":i,ref:H?null:t,className:k(c,"".concat(w,"-row"),null==K?void 0:K.className,g({},"".concat(w,"-row-extra"),s)),style:S(S({},j),null==K?void 0:K.style)}),y.map(function(n,t){return e.createElement(Be,{key:t,component:M,rowInfo:I,column:n,colIndex:t,indent:p,index:a,renderIndex:v,record:m,inverse:s,getHeight:d})}));return H?e.createElement("div",{ref:t},X,o):X})),je=W(e.forwardRef(function(n,t){var o=n.data,l=n.onScroll,a=r(z,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),c=a.flattenColumns,i=a.onColumnResize,u=a.getRowKey,s=a.expandedKeys,d=a.prefixCls,f=a.childrenColumnName,m=a.scrollX,p=a.direction,v=r(ze),x=v.sticky,h=v.scrollY,y=v.listItemHeight,w=v.getComponent,g=v.onScroll,S=e.useRef(),b=Q(o,f,s,u),R=e.useMemo(function(){var e=0;return c.map(function(n){var t=n.width;return[n.key,t,e+=t]})},[c]),N=e.useMemo(function(){return R.map(function(e){return e[2]})},[R]);e.useEffect(function(){R.forEach(function(e){var n=C(e,2),t=n[0],r=n[1];i(t,r)})},[R]),e.useImperativeHandle(t,function(){var e,n={scrollTo:function(e){var n;null===(n=S.current)||void 0===n||n.scrollTo(e)},nativeElement:null===(e=S.current)||void 0===e?void 0:e.nativeElement};return Object.defineProperty(n,"scrollLeft",{get:function(){var e;return(null===(e=S.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var n;null===(n=S.current)||void 0===n||n.scrollTo({left:e})}}),n});var k=function(e,n){var t,r=null===(t=b[n])||void 0===t?void 0:t.record,o=e.onCell;if(o){var l,a=o(r,n);return null!==(l=null==a?void 0:a.rowSpan)&&void 0!==l?l:1}return 1},I=e.useMemo(function(){return{columnsOffset:N}},[N]),M="".concat(d,"-tbody"),H=w(["body","wrapper"]),T={};return x&&(T.position="sticky",T.bottom=0,"object"===E(x)&&x.offsetScroll&&(T.bottom=x.offsetScroll)),e.createElement(_e.Provider,{value:I},e.createElement(L,{fullHeight:!1,ref:S,prefixCls:"".concat(M,"-virtual"),styles:{horizontalScrollBar:T},className:M,height:h,itemHeight:y||24,data:b,itemKey:function(e){return u(e.record)},component:H,scrollWidth:m,direction:p,onVirtualScroll:function(e){var n,t=e.x;l({currentTarget:null===(n=S.current)||void 0===n?void 0:n.nativeElement,scrollLeft:t})},onScroll:g,extraRender:function(n){var t=n.start,r=n.end,o=n.getSize,l=n.offsetY;if(r<0)return null;for(var a=c.filter(function(e){return 0===k(e,t)}),i=t,s=function(e){if(!(a=a.filter(function(n){return 0===k(n,e)})).length)return i=e,1},d=t;d>=0&&!s(d);d-=1);for(var f=c.filter(function(e){return 1!==k(e,r)}),m=r,p=function(e){if(!(f=f.filter(function(n){return 1!==k(n,e)})).length)return m=Math.max(e-1,r),1},v=r;v<b.length&&!p(v);v+=1);for(var x=[],h=function(e){if(!b[e])return 1;c.some(function(n){return k(n,e)>1})&&x.push(e)},y=i;y<=m;y+=1)h(y);return x.map(function(n){var t=b[n],r=u(t.record,n),a=o(r);return e.createElement(Ae,{key:n,data:t,rowKey:r,index:n,style:{top:-l+a.top},extra:!0,getHeight:function(e){var t=n+e-1,l=u(b[t].record,t),a=o(r,l);return a.bottom-a.top}})})}},function(n,t,r){var o=u(n.record,t);return e.createElement(Ae,{data:n,rowKey:o,index:t,style:r.style})}))})),Fe=function(n,t){var r=t.ref,o=t.onScroll;return e.createElement(je,{ref:r,data:n,onScroll:o})};function Xe(n,t){var r=n.data,o=n.columns,l=n.scroll,i=n.sticky,u=n.prefixCls,s=void 0===u?Ie:u,d=n.className,f=n.listItemHeight,m=n.components,p=n.onScroll,v=l||{},x=v.x,h=v.y;"number"!=typeof x&&(x=1),"number"!=typeof h&&(h=500);var y=c(function(e,n){return a(m,e)||n}),w=c(p),C=e.useMemo(function(){return{sticky:i,scrollY:h,listItemHeight:f,getComponent:y,onScroll:w}},[i,h,f,y,w]);return e.createElement(ze.Provider,{value:C},e.createElement(Oe,b({},n,{className:k(d,"".concat(s,"-virtual")),scroll:S(S({},l),{},{x:x}),components:S(S({},m),{},{body:null!=r&&r.length?Fe:void 0}),columns:o,internalHooks:H,tailor:!0,ref:t})))}var De=e.forwardRef(Xe);function Ve(e){return K(De,e)}Ve();export{M as E,q as F,ce as I,Ve as a,H as b,ye as c,We as g};
