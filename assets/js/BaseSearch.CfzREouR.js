import{r as e,j as l}from"./react@19.1.0.Bf1nU3Xp.js";import{h as a,d as s,c as i,f as t,b as r}from"./componentMap.BziD0Wfr.js";import{a as n}from"./index.CKK7LeYB.js";import{u as o}from"./react-i18next@15.6.1_i18nex_8494df3c5789a08eaaa9660264635b87.GGzZsTB5.js";import{F as d,B as c,h as p,g as m}from"./antd@5.26.6_react-dom@19.1.0_react@19.1.0__react@19.1.0.BblooLD6.js";import{j as h,k as u,l as f}from"./@ant-design_icons@6.0.0_rea_d228a620a85a912b58178c44a57a12f1.BPuMA4if.js";const x=e.forwardRef((x,j)=>{var b;const{list:v,data:g,initialValues:w,isLoading:y,isSearch:C=!0,isReset:N=!0,isRowExpand:F=!0,type:_="default",style:E,className:k,children:R,labelCol:S,wrapperCol:W,defaultColCount:$=4,defaultRowExpand:P=2,handleFinish:V}=x,{t:B}=o(),{isPhone:I}=n(),[L]=d.useForm(),[z,M]=e.useState(!1),[O,T]=e.useState(!0),[q,A]=e.useState(F);e.useEffect(()=>{if(A(F),F){A($*P<v.length)}},[$,P,I,F,v.length]),e.useEffect(()=>{try{Object.keys(g).length&&(T(!1),L.setFieldsValue({...g}))}catch(e){}},[g,L,O]);const D={...x};delete D.type,delete D.isSearch,delete D.isReset,delete D.isLoading,delete D.handleFinish;const G=e=>(null==e?void 0:e.labelWidth)?{style:{width:e.labelWidth}}:(null==e?void 0:e.labelCol)?e.labelCol:S||("grid"!==_||I?void 0:{span:6}),H=e=>(null==e?void 0:e.wrapperWidth)?{style:{width:e.wrapperWidth}}:(null==e?void 0:e.wrapperCol)?e.wrapperCol:W||("grid"!==_||I?void 0:{span:18}),J=l.jsxs("div",{className:"flex items-center flex-wrap gap-10px",children:[!!C&&l.jsx(c,{type:"primary",htmlType:"submit",className:"!mb-5px "+(I?"mr-5px":""),loading:y,icon:l.jsx(h,{}),children:B("public.search")}),!!N&&l.jsx(c,{className:"!mb-5px "+(I?"mr-5px":""),icon:l.jsx(u,{}),onClick:()=>{null==L||L.resetFields(),null==L||L.setFieldsValue(w?{...w}:{}),null==L||L.submit()},children:B("public.reset")}),R&&l.jsx("div",{className:"!mb-5px "+(I?"mr-5px":""),children:R}),"grid"===_&&!!q&&l.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{M(!z)},children:[l.jsx(f,{rotate:z?180:0}),z?"收缩":"展开"]})]});return l.jsx("div",{id:"searches",style:E,className:k,children:l.jsxs(d,{layout:I?"horizontal":"inline",...D,ref:j,form:L,onFinish:e=>{if(V){let l=t(e,v);l=r(l),null==V||V(l)}},onFinishFailed:e=>{},autoComplete:"off",children:["default"===_&&l.jsxs(l.Fragment,{children:[null==v?void 0:v.map(l=>e.createElement(d.Item,{...s(l),key:`${l.name}`,className:`${(null==l?void 0:l.className)||""} !mb-5px`,labelCol:G(l),wrapperCol:H(l),valuePropName:a(l.component)},i(B,l))),J]}),"grid"===_&&l.jsxs(p,{wrap:!0,className:"w-full",children:[null==(b=(e=>{if(!q)return e;const l=$*P;for(let a=0;a<e.length;a++){const s=e[a];a<l?s.hidden=!1:s.hidden=!z}return e})(v))?void 0:b.map(e=>l.jsx("div",{style:{width:e.hidden?0:100/(I?1:$)+"%"},children:l.jsx(d.Item,{...s(e),className:`${(null==e?void 0:e.className)||""} !mb-5px`,labelCol:G(e),wrapperCol:H(e),valuePropName:a(e.component),children:i(B,e)})},`${e.name}`)),l.jsx(m,{flex:(null==v?void 0:v.length)%$===0||q?"auto":void 0,children:l.jsx(p,{justify:"flex-end",children:J})})]})]})})});export{x as B};
