!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function s(e,i,o,a){var s=i&&i.prototype instanceof c?i:c,l=Object.create(s.prototype);return t(l,"_invoke",function(e,t,i){var o,a,s,c=0,l=i||[],d=!1,f={p:0,n:0,v:n,a:h,f:h.bind(n,4),d:function(e,t){return o=e,a=0,s=n,f.n=t,u}};function h(e,t){for(a=e,s=t,r=0;!d&&c&&!i&&r<l.length;r++){var i,o=l[r],h=f.p,p=o[2];e>3?(i=p===t)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=h&&((i=e<2&&h<o[1])?(a=0,f.v=t,f.n=o[1]):h<p&&(i=e<3||o[0]>t||t>p)&&(o[4]=e,o[5]=t,f.n=p,a=0))}if(i||e>1)return u;throw d=!0,t}return function(i,l,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&h(l,p),a=l,s=p;(r=a<2?n:s)||!d;){o||(a?a<3?(a>1&&(f.n=-1),h(a,s)):f.n=s:f.v=s);try{if(c=2,o){if(a||(i="next"),r=o[i]){if(!(r=r.call(o,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=n}else if((r=(d=f.n<0)?s:e.call(t,f))!==u)break}catch(r){o=n,a=1,s=r}finally{c=1}}return{value:r,done:d}}}(e,o,a),!0),l}var u={};function c(){}function l(){}function d(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(t(r={},o,function(){return this}),r),h=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=d,t(h,"constructor",d),t(d,"constructor",l),l.displayName="GeneratorFunction",t(d,a,"GeneratorFunction"),t(h),t(h,a,"Generator"),t(h,o,function(){return this}),t(h,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:p}})()}function t(e,n,r,i){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,r,i){function a(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},t(e,n,r,i)}function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}}function i(e,t,n){return t=c(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&u(i,n.prototype),i}(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},a(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}System.register(["./@sentry_core@10.38.0-legacy.DXgvrsUk.js","./@sentry-internal_browser-utils@10.38.0-legacy.CHsm1owe.js"],function(t,n){"use strict";var s,u,c,f,p,v,y,k,b,_,I,C,E,T,x,M,R,O,A,D,L,N,F,P,B,U,z,j,W,H,q,K,V,G,J,Y,X,$,Q,Z,ee,te,ne,re,ie;return{setters:[function(e){s=e.aT,u=e.G,c=e.aU,f=e.a0,p=e.ae,v=e.al,y=e.aa,k=e.az,b=e.o,_=e.aV,I=e.F,C=e.an,E=e.aD,T=e.aW,x=e.aG,M=e.aX,R=e.H,O=e.aY,A=e.aZ,D=e.P,L=e.aQ,N=e.g,F=e.a_,P=e.au,B=e.a$,U=e.b0,z=e.b1,j=e.as,W=e.ak,H=e.b2,q=e.e,K=e.J,V=e.O},function(e){G=e.n,J=e.a,Y=e.d,X=e.e,$=e.o,Q=e.q,Z=e.t,ee=e.u,te=e.v,ne=e.S,re=e.p,ie=e.w}],execute:function(){var n=u,oe="sentryReplaySession",ae="Unable to send Replay",se=15e4,ue=5e3,ce=2e7,le=36e5,de=Object.defineProperty,fe=function(e,t,n){return function(e,t,n){return t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==w(t)?t+"":t,n)},he=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(he||{});function pe(e){var t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function me(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function ve(e){try{var t=e.rules||e.cssRules;return t?((n=Array.from(t,ye).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),n):null}catch(r){return null}var n}function ye(e){var t,n;if(function(e){return"styleSheet"in e}(e))try{t=ve(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(a){}else if(function(e){return"selectorText"in e}(e)){var r=e.cssText,i=e.selectorText.includes(":"),o="string"==typeof e.style.all&&e.style.all;if(o&&(r=function(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style,i=r[n],o=r.getPropertyPriority(i);t+="".concat(i,":").concat(r.getPropertyValue(i)).concat(o?" !important":"",";")}return"".concat(e.selectorText," { ").concat(t," }")}(e)),i&&(n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,r=r.replace(n,"$1\\$2")),i||o)return r}return t||e.cssText}var ge=function(){return S(function e(){g(this,e),fe(this,"idNodeMap",new Map),fe(this,"nodeMetaMap",new WeakMap)},[{key:"getId",value:function(e){var t;if(!e)return-1;var n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var n=this.getNode(e);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}])}();function ke(e){var t=e.maskInputOptions,n=e.tagName,r=e.type;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function Se(e){var t=e.isMasked,n=e.element,r=e.value,i=e.maskInputFn,o=r||"";return t?(i&&(o=i(o,n)),"*".repeat(o.length)):o}function be(e){return e.toLowerCase()}function we(e){return e.toUpperCase()}var _e="__rrweb_original__";function Ie(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?be(t):null}function Ce(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function Ee(e,t){var n,r;try{r=new URL(e,null!=t?t:window.location.href)}catch(o){return null}var i=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(n=null==i?void 0:i[1])&&void 0!==n?n:null}var Te={};function xe(e){var t=Te[e];if(t)return t;var n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);var o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch(a){}return Te[e]=r.bind(window)}function Me(){return xe("setTimeout").apply(void 0,arguments)}function Re(){return xe("clearTimeout").apply(void 0,arguments)}function Oe(e){try{return e.contentDocument}catch(t){}}var Ae,De,Le=1,Ne=new RegExp("[^a-z0-9-_:]");function Fe(){return Le++}var Pe=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Be=/^(?:[a-z+]+:)?\/\//i,Ue=/^www\..*/i,ze=/^(data:)([^,]*),(.*)/i;function je(e,t){return(e||"").replace(Pe,function(e,n,r,i,o,a){var s,u=r||o||a,c=n||i||"";if(!u)return e;if(Be.test(u)||Ue.test(u))return"url(".concat(c).concat(u).concat(c,")");if(ze.test(u))return"url(".concat(c).concat(u).concat(c,")");if("/"===u[0])return"url(".concat(c).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)).concat(c,")");var l=t.split("/"),d=u.split("/");l.pop();var f,h=m(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;"."!==p&&(".."===p?l.pop():l.push(p))}}catch(v){h.e(v)}finally{h.f()}return"url(".concat(c).concat(l.join("/")).concat(c,")")})}var We=/^[^ \t\n\r\u000c]+/,He=/^[, \t\n\r\u000c]+/;var qe=new WeakMap;function Ke(e,t){return t&&""!==t.trim()?Ge(e,t):t}function Ve(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Ge(e,t){var n=qe.get(e);if(n||(n=e.createElement("a"),qe.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function Je(e,t,n,r,i,o,a){if(!r)return r;if("src"===n||"href"===n&&("use"!==t||"#"!==r[0]))return Ke(e,r);if("xlink:href"===n&&"#"!==r[0])return Ke(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return Ke(e,r);if("srcset"===n)return function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}for(var i=[];r(He),!(n>=t.length);){var o=r(We);if(","===o.slice(-1))o=Ke(e,o.substring(0,o.length-1)),i.push(o);else{var a="";o=Ke(e,o);for(var s=!1;;){var u=t.charAt(n);if(""===u){i.push((o+a).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){n+=1,i.push((o+a).trim());break}"("===u&&(s=!0)}a+=u,n+=1}}}return i.join(", ")}(e,r);if("style"===n){var s=je(r,Ge(e));return a&&a.size>0&&(s=function(e,t){if(!e||0===t.size)return e;try{var n,r=e.split(";"),i=[],o=m(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a=a.trim()){var s=a.indexOf(":");if(-1!==s){var u=a.slice(0,s).trim();t.has(u)||i.push(a)}else i.push(a)}}}catch(c){o.e(c)}finally{o.f()}return i.join("; ")+(i.length>0&&e.endsWith(";")?";":"")}catch(l){return e}}(s,a)),s}return"object"===t&&"data"===n?Ke(e,r):"function"==typeof o?o(n,r,i):r}function Ye(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Xe(e.parentNode,t,n,r+1):-1}function $e(e,t){return function(n){var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(".".concat(e)))return!0}else if(function(e,t){for(var n=e.classList.length;n--;){var r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(i){return!1}}}function Qe(e,t,n,r,i,o){try{var a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){var s=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(s))return!0}var u=-1,c=-1;if(o){if((c=Xe(a,$e(r,i)))<0)return!0;u=Xe(a,$e(t,n),c>=0?c:1/0)}else{if((u=Xe(a,$e(t,n)))<0)return!1;c=Xe(a,$e(r,i),u>=0?u:1/0)}return u>=0?!(c>=0)||u<=c:!(c>=0)&&!!o}catch(l){}return!!o}function Ze(e,t){var n=t.doc,r=t.mirror,i=t.blockClass,o=t.blockSelector,a=t.unblockSelector,s=t.maskAllText,u=t.maskAttributeFn,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.inlineStylesheet,p=t.maskInputOptions,m=void 0===p?{}:p,v=t.maskTextFn,y=t.maskInputFn,g=t.dataURLOptions,k=void 0===g?{}:g,S=t.inlineImages,b=t.recordCanvas,w=t.keepIframeSrcFn,_=t.newlyAddedElement,I=void 0!==_&&_,C=t.ignoreCSSAttributes,E=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:he.Document,childNodes:[],compatMode:e.compatMode}:{type:he.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:he.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return function(e,t){for(var n,r=t.doc,i=t.blockClass,o=t.blockSelector,a=t.unblockSelector,s=t.inlineStylesheet,u=t.maskInputOptions,c=void 0===u?{}:u,l=t.maskAttributeFn,d=t.maskInputFn,f=t.dataURLOptions,h=void 0===f?{}:f,p=t.inlineImages,m=t.recordCanvas,v=t.keepIframeSrcFn,y=t.newlyAddedElement,g=void 0!==y&&y,k=t.rootId,S=t.maskTextClass,b=t.unmaskTextClass,w=t.maskTextSelector,_=t.unmaskTextSelector,I=t.ignoreCSSAttributes,C=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch(a){}return!1}(e,i,o,a),E=function(e){if(e instanceof HTMLFormElement)return"form";var t=be(e.tagName);return Ne.test(t)?"div":t}(e),T={},x=e.attributes.length,M=0;M<x;M++){var R=e.attributes[M];R.name&&!Ye(E,R.name,R.value)&&(T[R.name]=Je(r,E,be(R.name),R.value,e,l,I))}if("link"===E&&s){var O=Array.from(r.styleSheets).find(function(t){return t.href===e.href}),A=null;O&&(A=ve(O)),A&&(T.rel=null,T.href=null,T.crossorigin=null,T._cssText=je(A,O.href))}if("style"===E&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var D=ve(e.sheet);D&&(T._cssText=je(D,Ge(r)))}if("input"===E||"textarea"===E||"select"===E||"option"===E){var L=e,N=Ie(L),F=Ce(L,we(E),N),P=L.checked;if("submit"!==N&&"button"!==N&&F){var B=Qe(L,S,w,b,_,ke({type:N,tagName:we(E),maskInputOptions:c}));T.value=Se({isMasked:B,element:L,value:F,maskInputFn:d})}P&&(T.checked=P)}"option"===E&&(e.selected&&!c.select?T.selected=!0:delete T.selected);if("canvas"===E&&m)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var i=t.getImageData,o=_e in i?i[_e]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(function(e){return 0!==e}))return!1}return!0})(e)||(T.rr_dataURL=e.toDataURL(h.type,h.quality));else if(!("__context"in e)){var U=e.toDataURL(h.type,h.quality),z=r.createElement("canvas");z.width=e.width,z.height=e.height,U!==z.toDataURL(h.type,h.quality)&&(T.rr_dataURL=U)}if("img"===E&&p){Ae||(Ae=r.createElement("canvas"),De=Ae.getContext("2d"));var j=e,W=(j.currentSrc||j.getAttribute("src"),j.crossOrigin),H=function(){j.removeEventListener("load",H);try{Ae.width=j.naturalWidth,Ae.height=j.naturalHeight,De.drawImage(j,0,0),T.rr_dataURL=Ae.toDataURL(h.type,h.quality)}catch(e){if("anonymous"!==j.crossOrigin)return j.crossOrigin="anonymous",void(j.complete&&0!==j.naturalWidth?H():j.addEventListener("load",H))}"anonymous"===j.crossOrigin&&(W?T.crossOrigin=W:j.removeAttribute("crossorigin"))};j.complete&&0!==j.naturalWidth?H():j.addEventListener("load",H)}"audio"!==E&&"video"!==E||(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime);g||(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop));if(C){var q=e.getBoundingClientRect(),K=q.width,V=q.height;T={class:T.class,rr_width:"".concat(K,"px"),rr_height:"".concat(V,"px")}}"iframe"!==E||v(T.src)||(C||Oe(e)||(T.rr_src=T.src),delete T.src);try{customElements.get(E)&&(n=!0)}catch(G){}return{type:he.Element,tagName:E,attributes:T,childNodes:[],isSVG:Ve(e)||void 0,needBlock:C,rootId:k,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:u,maskInputOptions:m,maskInputFn:y,dataURLOptions:k,inlineImages:S,recordCanvas:b,keepIframeSrcFn:w,newlyAddedElement:I,rootId:E,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:C});case e.TEXT_NODE:return function(e,t){var n=t.maskAllText,r=t.maskTextClass,i=t.unmaskTextClass,o=t.maskTextSelector,a=t.unmaskTextSelector,s=t.maskTextFn,u=t.maskInputOptions,c=t.maskInputFn,l=t.rootId,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,h="STYLE"===d||void 0,p="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&f){try{var v;e.nextSibling||e.previousSibling||null!==(v=e.parentNode.sheet)&&void 0!==v&&v.cssRules&&(f=ve(e.parentNode.sheet))}catch(g){}f=je(f,Ge(t.doc))}p&&(f="SCRIPT_PLACEHOLDER");var y=Qe(e,r,o,i,a,n);h||p||m||!f||!y||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*"));m&&f&&(u.textarea||y)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===d&&f){f=Se({isMasked:Qe(e,r,o,i,a,ke({type:null,tagName:d,maskInputOptions:u})),element:e,value:f,maskInputFn:c})}return{type:he.Text,textContent:f||"",isStyle:h,rootId:l}}(e,{doc:n,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:v,maskInputOptions:m,maskInputFn:y,rootId:E});case e.CDATA_SECTION_NODE:return{type:he.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:he.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function et(e){return null==e?"":e.toLowerCase()}function tt(e,t){var n,r=t.doc,i=t.mirror,o=t.blockClass,a=t.blockSelector,s=t.unblockSelector,u=t.maskAllText,c=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.skipChild,p=void 0!==h&&h,v=t.inlineStylesheet,y=void 0===v||v,g=t.maskInputOptions,k=void 0===g?{}:g,S=t.maskAttributeFn,b=t.maskTextFn,w=t.maskInputFn,_=t.slimDOMOptions,I=t.dataURLOptions,C=void 0===I?{}:I,E=t.inlineImages,T=void 0!==E&&E,x=t.recordCanvas,M=void 0!==x&&x,R=t.onSerialize,O=t.onIframeLoad,A=t.iframeLoadTimeout,D=void 0===A?5e3:A,L=t.onBlockedImageLoad,N=t.onStylesheetLoad,F=t.stylesheetLoadTimeout,P=void 0===F?5e3:F,B=t.keepIframeSrcFn,U=void 0===B?function(){return!1}:B,z=t.newlyAddedElement,j=void 0!==z&&z,W=t.ignoreCSSAttributes,H=t.preserveWhiteSpace,q=void 0===H||H,K=Ze(e,{doc:r,mirror:i,blockClass:o,blockSelector:a,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:y,maskInputOptions:k,maskAttributeFn:S,maskTextFn:b,maskInputFn:w,dataURLOptions:C,inlineImages:T,recordCanvas:M,keepIframeSrcFn:U,newlyAddedElement:j,ignoreCSSAttributes:W});if(!K)return null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===he.Comment)return!0;if(e.type===he.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===Ee(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(et(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===et(e.attributes.name)||"icon"===et(e.attributes.rel)||"apple-touch-icon"===et(e.attributes.rel)||"shortcut icon"===et(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&et(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(et(e.attributes.property).match(/^(og|twitter|fb):/)||et(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===et(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===et(e.attributes.name)||"googlebot"===et(e.attributes.name)||"bingbot"===et(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===et(e.attributes.name)||"generator"===et(e.attributes.name)||"framework"===et(e.attributes.name)||"publisher"===et(e.attributes.name)||"progid"===et(e.attributes.name)||et(e.attributes.property).match(/^article:/)||et(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===et(e.attributes.name)||"yandex-verification"===et(e.attributes.name)||"csrf-token"===et(e.attributes.name)||"p:domain_verify"===et(e.attributes.name)||"verify-v1"===et(e.attributes.name)||"verification"===et(e.attributes.name)||"shopify-checkout-api-token"===et(e.attributes.name)))return!0}}return!1}(K,_)&&(q||K.type!==he.Text||K.isStyle||K.textContent.replace(/^\s+|\s+$/gm,"").length)?Fe():-2;var V=Object.assign(K,{id:n});if(i.add(e,V),-2===n)return null;R&&R(e);var G=!p;if(V.type===he.Element){G=G&&!V.needBlock;var J=e.shadowRoot;J&&me(J)&&(V.isShadowHost=!0)}if((V.type===he.Document||V.type===he.Element)&&G){_.headWhitespace&&V.type===he.Element&&"head"===V.tagName&&(q=!1);var Y,X={doc:r,mirror:i,blockClass:o,blockSelector:a,maskAllText:u,unblockSelector:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:p,inlineStylesheet:y,maskInputOptions:k,maskAttributeFn:S,maskTextFn:b,maskInputFn:w,slimDOMOptions:_,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:q,onSerialize:R,onIframeLoad:O,iframeLoadTimeout:D,onBlockedImageLoad:L,onStylesheetLoad:N,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:W},$=m(e.childNodes?Array.from(e.childNodes):[]);try{for($.s();!(Y=$.n()).done;){var Q=tt(Y.value,X);Q&&V.childNodes.push(Q)}}catch(ie){$.e(ie)}finally{$.f()}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(var Z=0,ee=Array.from(e.shadowRoot.childNodes);Z<ee.length;Z++){var te=tt(ee[Z],X);te&&(me(e.shadowRoot)&&(te.isShadow=!0),V.childNodes.push(te))}}if(e.parentNode&&pe(e.parentNode)&&me(e.parentNode)&&(V.isShadow=!0),V.type!==he.Element||"iframe"!==V.tagName||V.needBlock||function(e,t,n){var r=e.contentWindow;if(r){var i,o=!1;try{i=r.document.readyState}catch(u){return}if("complete"===i){var a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return Me(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=Me(function(){o||(t(),o=!0)},n);e.addEventListener("load",function(){Re(s),o=!0,t()})}}}(e,function(){var t=Oe(e);if(t&&O){var n=tt(t,{doc:t,mirror:i,blockClass:o,blockSelector:a,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:y,maskInputOptions:k,maskAttributeFn:S,maskTextFn:b,maskInputFn:w,slimDOMOptions:_,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:q,onSerialize:R,onIframeLoad:O,iframeLoadTimeout:D,onStylesheetLoad:N,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:W});n&&O(e,n)}},D),V.type===he.Element&&"img"===V.tagName&&!e.complete&&V.needBlock){var ne=e,re=function(){if(ne.isConnected&&!ne.complete&&L)try{var e=ne.getBoundingClientRect();e.width>0&&e.height>0&&L(ne,V,e)}catch(t){}ne.removeEventListener("load",re)};ne.isConnected&&ne.addEventListener("load",re)}return V.type===he.Element&&"link"===V.tagName&&"string"==typeof V.attributes.rel&&("stylesheet"===V.attributes.rel||"preload"===V.attributes.rel&&"string"==typeof V.attributes.href&&"css"===Ee(V.attributes.href))&&function(e,t,n){var r,i=!1;try{r=e.sheet}catch(a){return}if(!r){var o=Me(function(){i||(t(),i=!0)},n);e.addEventListener("load",function(){Re(o),i=!0,t()})}}(e,function(){if(N){var t=tt(e,{doc:r,mirror:i,blockClass:o,blockSelector:a,unblockSelector:s,maskAllText:u,maskTextClass:c,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:y,maskInputOptions:k,maskAttributeFn:S,maskTextFn:b,maskInputFn:w,slimDOMOptions:_,dataURLOptions:C,inlineImages:T,recordCanvas:M,preserveWhiteSpace:q,onSerialize:R,onIframeLoad:O,iframeLoadTimeout:D,onStylesheetLoad:N,stylesheetLoadTimeout:P,keepIframeSrcFn:U,ignoreCSSAttributes:W});t&&N(e,t)}},P),V.type===he.Element&&delete V.needBlock,V}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var rt={map:{},getId:function(){return-1},getNode:function(){return null},removeNodeFromMap:function(){},has:function(){return!1},reset:function(){}};function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var u=Date.now();i||!1!==n.leading||(i=u);var c=t-(u-i),l=this;c<=0||c>t?(r&&(!function(){It("clearTimeout").apply(void 0,arguments)}(r),r=null),i=u,e.apply(l,a)):r||!1===n.trailing||(r=Ct(function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(l,a)},c))}}function ot(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;Ct(function(){n.set.call(t,e)},0),o&&o.set&&o.set.call(this,e)}}),function(){return ot(e,t,o||{},!0)}}function at(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(o){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(rt=new Proxy(rt,{get:function(e,t,n){return Reflect.get(e,t,n)}}));var st=Date.now;function ut(e){var t,n,r,i,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==o?void 0:o.documentElement.scrollLeft)||(null==o||null===(t=o.body)||void 0===t||null===(t=t.parentElement)||void 0===t?void 0:t.scrollLeft)||(null==o||null===(n=o.body)||void 0===n?void 0:n.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==o?void 0:o.documentElement.scrollTop)||(null==o||null===(r=o.body)||void 0===r||null===(r=r.parentElement)||void 0===r?void 0:r.scrollTop)||(null==o||null===(i=o.body)||void 0===i?void 0:i.scrollTop)||0}}function ct(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function lt(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function dt(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function ft(e,t,n,r,i){if(!e)return!1;var o=dt(e);if(!o)return!1;var a=$e(t,n);if(!i){var s=r&&o.matches(r);return a(o)&&!s}var u=Xe(o,a),c=-1;return!(u<0)&&(r&&(c=Xe(o,$e(null,r))),u>-1&&c<0||u<c)}function ht(e,t){return-2===t.getId(e)}function pt(e,t){if(pe(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||pt(e.parentNode,t))}function mt(e){return Boolean(e.changedTouches)}function vt(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function yt(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function gt(e){return Boolean(null==e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(st=function(){return(new Date).getTime()});var kt=function(){return S(function e(){g(this,e),this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map},[{key:"getId",value:function(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n);var n}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}])}();function St(e){var t,n=null;return(null===(t=e.getRootNode)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function bt(e){var t=e.ownerDocument;if(!t)return!1;var n=function(e){for(var t,n=e;t=St(n);)n=t;return n}(e);return t.contains(n)}function wt(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||bt(e))}var _t={};function It(e){var t=_t[e];if(t)return t;var n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);var o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch(a){}return _t[e]=r.bind(window)}function Ct(){return It("setTimeout").apply(void 0,arguments)}var Et=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Et||{}),Tt=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(Tt||{}),xt=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(xt||{}),Mt=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(Mt||{}),Rt=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(Rt||{});function Ot(e){try{return e.contentDocument}catch(t){}}function At(e){return"__ln"in e}var Dt,Lt=function(){return S(function e(){g(this,e),this.length=0,this.head=null,this.tail=null},[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++){var r;t=(null===(r=t)||void 0===r?void 0:r.next)||null}return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&At(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&At(e.nextSibling)&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}])}(),Nt=function(e,t){return"".concat(e,"@").concat(t)},Ft=function(){return S(function e(){var t=this;g(this,e),this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(t.processMutation),t.emit()},this.emit=function(){if(!t.frozen&&!t.locked){for(var e=[],n=new Set,r=new Lt,i=function(e){for(var n=e,r=-2;-2===r;)r=(n=n&&n.nextSibling)&&t.mirror.getId(n);return r},o=function(o){if(o.parentNode&&wt(o)){var a=pe(o.parentNode)?t.mirror.getId(St(o)):t.mirror.getId(o.parentNode),s=i(o);if(-1===a||-1===s)return r.addNode(o);var u=tt(o,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskAllText:t.maskAllText,unblockSelector:t.unblockSelector,maskTextClass:t.maskTextClass,unmaskTextClass:t.unmaskTextClass,maskTextSelector:t.maskTextSelector,unmaskTextSelector:t.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskAttributeFn:t.maskAttributeFn,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){vt(e,t.mirror)&&!ft(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)&&t.iframeManager.addIframe(e),yt(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),gt(o)&&t.shadowDomManager.addShadowRoot(o.shadowRoot,t.doc)},onIframeLoad:function(e,n){ft(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(t.iframeManager.attachIframe(e,n),e.contentWindow&&t.canvasManager.addWindow(e.contentWindow),t.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:function(e,n){t.stylesheetManager.attachLinkElement(e,n)},onBlockedImageLoad:function(e,n,r){var i=r.width,o=r.height;t.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:{style:{width:"".concat(i,"px"),height:"".concat(o,"px")}}}]})},ignoreCSSAttributes:t.ignoreCSSAttributes});u&&(e.push({parentId:a,nextId:s,node:u}),n.add(u.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var a,s=m(t.movedSet);try{for(s.s();!(a=s.n()).done;){var u=a.value;Bt(t.removes,u,t.mirror)&&!t.movedSet.has(u.parentNode)||o(u)}}catch(_){s.e(_)}finally{s.f()}var c,l=m(t.addedSet);try{for(l.s();!(c=l.n()).done;){var d=c.value;Ut(t.droppedSet,d)||Bt(t.removes,d,t.mirror)?Ut(t.movedSet,d)?o(d):t.droppedSet.add(d):o(d)}}catch(_){l.e(_)}finally{l.f()}for(var f=null;r.length;){var h=null;if(f){var p=t.mirror.getId(f.value.parentNode),v=i(f.value);-1!==p&&-1!==v&&(h=f)}if(!h)for(var y=r.tail;y;){var g=y;if(y=y.previous,g){var k=t.mirror.getId(g.value.parentNode);if(-1===i(g.value))continue;if(-1!==k){h=g;break}var S=g.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var b=S.parentNode.host;if(-1!==t.mirror.getId(b)){h=g;break}}}}if(!h){for(;r.head;)r.removeNode(r.head.value);break}f=h.previous,r.removeNode(h.value),o(h.value)}var w={texts:t.texts.map(function(e){return{id:t.mirror.getId(e.node),value:e.value}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),attributes:t.attributes.map(function(e){var n=e.attributes;if("string"==typeof n.style){var r=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);r.length<n.style.length&&(r+i).split("var(").length===n.style.split("var(").length&&(n.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:n}}).filter(function(e){return!n.has(e.id)}).filter(function(e){return t.mirror.has(e.id)}),removes:t.removes,adds:e};(w.texts.length||w.attributes.length||w.removes.length||w.adds.length)&&(t.texts=[],t.attributes=[],t.attributeMap=new WeakMap,t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(w))}},this.processMutation=function(e){if(!ht(e.target,t.mirror))switch(e.type){case"characterData":var n=e.target.textContent;ft(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||n===e.oldValue||t.texts.push({value:Qe(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,t.maskAllText)&&n?t.maskTextFn?t.maskTextFn(n,dt(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break;case"attributes":var r=e.target,i=e.attributeName,o=e.target.getAttribute(i);if("value"===i){var a=Ie(r),s=r.tagName;o=Ce(r,s,a);var u=ke({maskInputOptions:t.maskInputOptions,tagName:s,type:a});o=Se({isMasked:Qe(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,u),element:r,value:o,maskInputFn:t.maskInputFn})}if(ft(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||o===e.oldValue)return;var c=t.attributeMap.get(e.target);if("IFRAME"===r.tagName&&"src"===i&&!t.keepIframeSrcFn(o)){if(Ot(r))return;i="rr_src"}if(c||(c={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(c),t.attributeMap.set(e.target,c)),"type"===i&&"INPUT"===r.tagName&&"password"===(e.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!Ye(r.tagName,i)&&(c.attributes[i]=Je(t.doc,be(r.tagName),be(i),o,r,t.maskAttributeFn),"style"===i)){if(!t.unattachedDoc)try{t.unattachedDoc=document.implementation.createHTMLDocument()}catch(k){t.unattachedDoc=t.doc}var l=t.unattachedDoc.createElement("span");e.oldValue&&l.setAttribute("style",e.oldValue);for(var d=0,f=Array.from(r.style);d<f.length;d++){var h=f[d],p=r.style.getPropertyValue(h),m=r.style.getPropertyPriority(h);p!==l.style.getPropertyValue(h)||m!==l.style.getPropertyPriority(h)?c.styleDiff[h]=""===m?p:[p,m]:c._unchangedStyles[h]=[p,m]}for(var v=0,y=Array.from(l.style);v<y.length;v++){var g=y[v];""===r.style.getPropertyValue(g)&&(c.styleDiff[g]=!1)}}break;case"childList":if(ft(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!0))return;e.addedNodes.forEach(function(n){return t.genAdds(n,e.target)}),e.removedNodes.forEach(function(n){var r=t.mirror.getId(n),i=pe(e.target)?t.mirror.getId(e.target.host):t.mirror.getId(e.target);ft(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||ht(n,t.mirror)||!function(e,t){return-1!==t.getId(e)}(n,t.mirror)||(t.addedSet.has(n)?(Pt(t.addedSet,n),t.droppedSet.add(n)):t.addedSet.has(e.target)&&-1===r||pt(e.target,t.mirror)||(t.movedSet.has(n)&&t.movedMap[Nt(r,i)]?Pt(t.movedSet,n):t.removes.push({parentId:i,id:r,isShadow:!(!pe(e.target)||!me(e.target))||void 0})),t.mapRemoves.push(n))})}},this.genAdds=function(e,n){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!t.addedSet.has(e)&&!t.movedSet.has(e)){if(t.mirror.hasNode(e)){if(ht(e,t.mirror))return;t.movedSet.add(e);var r=null;n&&t.mirror.hasNode(n)&&(r=t.mirror.getId(n)),r&&-1!==r&&(t.movedMap[Nt(t.mirror.getId(e),r)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);ft(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(function(e){return t.genAdds(e)}),gt(e)&&e.shadowRoot.childNodes.forEach(function(n){t.processedNodeManager.add(n,t),t.genAdds(n,e)}))}}},[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(function(n){t[n]=e[n]})}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}])}();function Pt(e,t){var n;e.delete(t),null===(n=t.childNodes)||void 0===n||n.forEach(function(t){return Pt(e,t)})}function Bt(e,t,n){return 0!==e.length&&function(e,t,n){var r,i=t.parentNode,o=function(){var t=n.getId(i);if(e.some(function(e){return e.id===t}))return{v:!0};i=i.parentNode};for(;i;)if(r=o())return r.v;return!1}(e,t,n)}function Ut(e,t){return 0!==e.size&&zt(e,t)}function zt(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||zt(e,n))}var jt=function(e){if(!Dt)return e;return function(){try{return e.apply(void 0,arguments)}catch(t){if(Dt&&!0===Dt(t))return function(){};throw t}}},Wt=[];function Ht(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(n){}return e&&e.target}function qt(e,t){var n,r,i=new Ft;Wt.push(i),i.init(e);var o=window.MutationObserver||window.__rrMutationObserver,a=null===(n=window)||void 0===n||null===(n=n.Zone)||void 0===n||null===(r=n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");a&&window[a]&&(o=window[a]);var s=new o(jt(function(t){e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Kt(e){var t=e.mouseInteractionCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.sampling;if(!1===s.mouseInteraction)return function(){};var u=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,c=[],l=null;return Object.keys(xt).filter(function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==u[e]}).forEach(function(e){var s=be(e),u=function(e){return function(n){var s=Ht(n);if(!ft(s,i,o,a,!0)){var u=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":u=Mt.Mouse;break;case"touch":u=Mt.Touch;break;case"pen":u=Mt.Pen}u===Mt.Touch?xt[e]===xt.MouseDown?c="TouchStart":xt[e]===xt.MouseUp&&(c="TouchEnd"):Mt.Pen}else mt(n)&&(u=Mt.Touch);null!==u?(l=u,(c.startsWith("Touch")&&u===Mt.Touch||c.startsWith("Mouse")&&u===Mt.Mouse)&&(u=null)):xt[e]===xt.Click&&(u=l,l=null);var d=mt(n)?n.changedTouches[0]:n;if(d){var f=r.getId(s),p=d.clientX,m=d.clientY;jt(t)(h({type:xt[c],id:f,x:p,y:m},null!==u&&{pointerType:u}))}}}}(e);if(window.PointerEvent)switch(xt[e]){case xt.MouseDown:case xt.MouseUp:s=s.replace("mouse","pointer");break;case xt.TouchStart:case xt.TouchEnd:return}c.push(nt(s,u,n))}),jt(function(){c.forEach(function(e){return e()})})}function Vt(e){var t=e.scrollCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.sampling;return nt("scroll",jt(it(jt(function(e){var s=Ht(e);if(s&&!ft(s,i,o,a,!0)){var u=r.getId(s);if(s===n&&n.defaultView){var c=ut(n.defaultView);t({id:u,x:c.left,y:c.top})}else t({id:u,x:s.scrollLeft,y:s.scrollTop})}}),s.scroll||100)),n)}var Gt=["INPUT","TEXTAREA","SELECT"],Jt=new WeakMap;function Yt(e){var t=e.inputCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.ignoreClass,u=e.ignoreSelector,c=e.maskInputOptions,l=e.maskInputFn,f=e.sampling,p=e.userTriggeredOnInput,m=e.maskTextClass,v=e.unmaskTextClass,y=e.maskTextSelector,g=e.unmaskTextSelector;function k(e){var t=Ht(e),r=e.isTrusted,d=t&&we(t.tagName);if("OPTION"===d&&(t=t.parentElement),t&&d&&!(Gt.indexOf(d)<0)&&!ft(t,i,o,a,!0)){var f=t;if(!(f.classList.contains(s)||u&&f.matches(u))){var h=Ie(t),k=Ce(f,d,h),b=!1,w=ke({maskInputOptions:c,tagName:d,type:h}),_=Qe(t,m,y,v,g,w);"radio"!==h&&"checkbox"!==h||(b=t.checked),k=Se({isMasked:_,element:t,value:k,maskInputFn:l}),S(t,p?{text:k,isChecked:b,userTriggered:r}:{text:k,isChecked:b});var I=t.name;"radio"===h&&I&&b&&n.querySelectorAll('input[type="radio"][name="'.concat(I,'"]')).forEach(function(e){if(e!==t){var n=Se({isMasked:_,element:e,value:Ce(e,d,h),maskInputFn:l});S(e,p?{text:n,isChecked:!b,userTriggered:!1}:{text:n,isChecked:!b})}})}}}function S(e,n){var i=Jt.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){Jt.set(e,n);var o=r.getId(e);jt(t)(h(h({},n),{},{id:o}))}}var b=("last"===f.input?["change"]:["input","change"]).map(function(e){return nt(e,jt(k),n)}),w=n.defaultView;if(!w)return function(){b.forEach(function(e){return e()})};var _=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),I=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&b.push.apply(b,d(I.map(function(e){return ot(e[0],e[1],{set:function(){jt(k)({target:this,isTrusted:!1})}},!1,w)}))),jt(function(){b.forEach(function(e){return e()})})}function Xt(e){return function(e,t){if(en("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||en("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||en("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||en("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){var r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}(e,[])}function $t(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Qt(e,t){var n,r,i=e.mirror,o=e.stylesheetManager,a=null;a="#document"===t.nodeName?i.getId(t):i.getId(t.host);var s="#document"===t.nodeName?null===(n=t.defaultView)||void 0===n?void 0:n.Document:null===(r=t.ownerDocument)||void 0===r||null===(r=r.defaultView)||void 0===r?void 0:r.ShadowRoot,u=null!=s&&s.prototype?Object.getOwnPropertyDescriptor(null==s?void 0:s.prototype,"adoptedStyleSheets"):void 0;return null!==a&&-1!==a&&s&&u?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:function(){var e;return null===(e=u.get)||void 0===e?void 0:e.call(this)},set:function(e){var t,n=null===(t=u.set)||void 0===t?void 0:t.call(this,e);if(null!==a&&-1!==a)try{o.adoptStyleSheets(e,a)}catch(r){}return n}}),jt(function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})})):function(){}}function Zt(e){var t,n=e.doc.defaultView;if(!n)return function(){};e.recordDOM&&(t=qt(e,e.doc));var r,i,o,a,s,u=function(e){var t=e.mousemoveCb,n=e.sampling,r=e.doc,i=e.mirror;if(!1===n.mousemove)return function(){};var o,a="number"==typeof n.mousemove?n.mousemove:50,s="number"==typeof n.mousemoveCallback?n.mousemoveCallback:500,u=[],c=it(jt(function(e){var n=Date.now()-o;t(u.map(function(e){return e.timeOffset-=n,e}),e),u=[],o=null}),s),l=jt(it(jt(function(e){var t=Ht(e),n=mt(e)?e.changedTouches[0]:e,r=n.clientX,a=n.clientY;o||(o=st()),u.push({x:r,y:a,id:i.getId(t),timeOffset:st()-o}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Tt.Drag:e instanceof MouseEvent?Tt.MouseMove:Tt.TouchMove)}),a,{trailing:!1})),d=[nt("mousemove",l,r),nt("touchmove",l,r),nt("drag",l,r)];return jt(function(){d.forEach(function(e){return e()})})}(e),c=Kt(e),f=Vt(e),h=(r={win:n},i=e.viewportResizeCb,o=r.win,a=-1,s=-1,nt("resize",jt(it(jt(function(){var e=ct(),t=lt();a===e&&s===t||(i({width:Number(t),height:Number(e)}),a=e,s=t)}),200)),o)),p=Yt(e),v=function(e){var t=e.mediaInteractionCb,n=e.blockClass,r=e.blockSelector,i=e.unblockSelector,o=e.mirror,a=e.sampling,s=e.doc,u=jt(function(e){return it(jt(function(a){var s=Ht(a);if(s&&!ft(s,n,r,i,!0)){var u=s.currentTime,c=s.volume,l=s.muted,d=s.playbackRate;t({type:e,id:o.getId(s),currentTime:u,volume:c,muted:l,playbackRate:d})}}),a.media||500)}),c=[nt("play",u(Rt.Play),s),nt("pause",u(Rt.Pause),s),nt("seeked",u(Rt.Seeked),s),nt("volumechange",u(Rt.VolumeChange),s),nt("ratechange",u(Rt.RateChange),s)];return jt(function(){c.forEach(function(e){return e()})})}(e),y=function(){},g=function(){},k=function(){},S=function(){};e.recordDOM&&(y=function(e,t){var n=e.styleSheetRuleCb,r=e.mirror,i=e.stylesheetManager,o=t.win;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return function(){};var a=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:jt(function(e,t,o){var a=l(o,2),s=a[0],u=a[1],c=$t(t,r,i.styleMirror),d=c.id,f=c.styleId;return(d&&-1!==d||f&&-1!==f)&&n({id:d,styleId:f,adds:[{rule:s,index:u}]}),e.apply(t,o)})});var s,u,c=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:jt(function(e,t,o){var a=l(o,1)[0],s=$t(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,removes:[{index:a}]}),e.apply(t,o)})}),o.CSSStyleSheet.prototype.replace&&(s=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:jt(function(e,t,o){var a=l(o,1)[0],s=$t(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,replace:a}),e.apply(t,o)})})),o.CSSStyleSheet.prototype.replaceSync&&(u=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:jt(function(e,t,o){var a=l(o,1)[0],s=$t(t,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,replaceSync:a}),e.apply(t,o)})}));var f={};tn("CSSGroupingRule")?f.CSSGroupingRule=o.CSSGroupingRule:(tn("CSSMediaRule")&&(f.CSSMediaRule=o.CSSMediaRule),tn("CSSConditionRule")&&(f.CSSConditionRule=o.CSSConditionRule),tn("CSSSupportsRule")&&(f.CSSSupportsRule=o.CSSSupportsRule));var h={};return Object.entries(f).forEach(function(e){var t=l(e,2),o=t[0],a=t[1];h[o]={insertRule:a.prototype.insertRule,deleteRule:a.prototype.deleteRule},a.prototype.insertRule=new Proxy(h[o].insertRule,{apply:jt(function(e,t,o){var a=l(o,2),s=a[0],u=a[1],c=$t(t.parentStyleSheet,r,i.styleMirror),f=c.id,h=c.styleId;return(f&&-1!==f||h&&-1!==h)&&n({id:f,styleId:h,adds:[{rule:s,index:[].concat(d(Xt(t)),[u||0])}]}),e.apply(t,o)})}),a.prototype.deleteRule=new Proxy(h[o].deleteRule,{apply:jt(function(e,t,o){var a=l(o,1)[0],s=$t(t.parentStyleSheet,r,i.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&n({id:u,styleId:c,removes:[{index:[].concat(d(Xt(t)),[a])}]}),e.apply(t,o)})})}),jt(function(){o.CSSStyleSheet.prototype.insertRule=a,o.CSSStyleSheet.prototype.deleteRule=c,s&&(o.CSSStyleSheet.prototype.replace=s),u&&(o.CSSStyleSheet.prototype.replaceSync=u),Object.entries(f).forEach(function(e){var t=l(e,2),n=t[0],r=t[1];r.prototype.insertRule=h[n].insertRule,r.prototype.deleteRule=h[n].deleteRule})})}(e,{win:n}),g=Qt(e,e.doc),k=function(e,t){var n=e.styleDeclarationCb,r=e.mirror,i=e.ignoreCSSAttributes,o=e.stylesheetManager,a=t.win,s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:jt(function(e,t,a){var u,c=l(a,3),d=c[0],f=c[1],h=c[2];if(i.has(d))return s.apply(t,[d,f,h]);var p=$t(null===(u=t.parentRule)||void 0===u?void 0:u.parentStyleSheet,r,o.styleMirror),m=p.id,v=p.styleId;return(m&&-1!==m||v&&-1!==v)&&n({id:m,styleId:v,set:{property:d,value:f,priority:h},index:Xt(t.parentRule)}),e.apply(t,a)})});var u=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:jt(function(e,t,a){var s,c=l(a,1)[0];if(i.has(c))return u.apply(t,[c]);var d=$t(null===(s=t.parentRule)||void 0===s?void 0:s.parentStyleSheet,r,o.styleMirror),f=d.id,h=d.styleId;return(f&&-1!==f||h&&-1!==h)&&n({id:f,styleId:h,remove:{property:c},index:Xt(t.parentRule)}),e.apply(t,a)})}),jt(function(){a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=u})}(e,{win:n}),e.collectFonts&&(S=function(e){var t=e.fontCb,n=e.doc,r=n.defaultView;if(!r)return function(){};var i=[],o=new WeakMap,a=r.FontFace;r.FontFace=function(e,t,n){var r=new a(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};var s=at(n.fonts,"add",function(e){return function(n){return Ct(jt(function(){var e=o.get(n);e&&(t(e),o.delete(n))}),0),e.apply(this,[n])}});return i.push(function(){r.FontFace=a}),i.push(s),jt(function(){i.forEach(function(e){return e()})})}(e)));var b,w,_,I,C,E,T,x,M,R,O=(w=(b=e).doc,_=b.mirror,I=b.blockClass,C=b.blockSelector,E=b.unblockSelector,T=b.selectionCb,x=!0,(M=jt(function(){var e=w.getSelection();if(!(!e||x&&null!=e&&e.isCollapsed)){x=e.isCollapsed||!1;for(var t=[],n=e.rangeCount||0,r=0;r<n;r++){var i=e.getRangeAt(r),o=i.startContainer,a=i.startOffset,s=i.endContainer,u=i.endOffset;ft(o,I,C,E,!0)||ft(s,I,C,E,!0)||t.push({start:_.getId(o),startOffset:a,end:_.getId(s),endOffset:u})}T({ranges:t})}}))(),nt("selectionchange",M)),A=function(e){var t=e.doc,n=e.customElementCb,r=t.defaultView;return r&&r.customElements?at(r.customElements,"define",function(e){return function(t,r,i){try{n({define:{name:t}})}catch(o){}return e.apply(this,[t,r,i])}}):function(){}}(e),D=[],L=m(e.plugins);try{for(L.s();!(R=L.n()).done;){var N=R.value;D.push(N.observer(N.callback,n,N.options))}}catch(F){L.e(F)}finally{L.f()}return jt(function(){var e;Wt.forEach(function(e){return e.reset()}),null===(e=t)||void 0===e||e.disconnect(),u(),c(),f(),h(),p(),v(),y(),g(),k(),S(),O(),A(),D.forEach(function(e){return e()})})}function en(e){return void 0!==window[e]}function tn(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}for(var nn=function(){return S(function e(t){g(this,e),this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap},[{key:"getId",value:function(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e),a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a}},{key:"getIds",value:function(e,t){var n=this,r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getId(e,t,r,i)})}},{key:"getRemoteId",value:function(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var i=r.get(t);return i||-1}},{key:"getRemoteIds",value:function(e,t){var n=this,r=this.getRemoteIdToIdMap(e);return t.map(function(t){return n.getRemoteId(e,t,r)})}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}])}(),rn=function(){return S(function e(){g(this,e),this.crossOriginIframeMirror=new nn(Fe),this.crossOriginIframeRootIdMap=new WeakMap},[{key:"addIframe",value:function(){}},{key:"addLoadListener",value:function(){}},{key:"attachIframe",value:function(){}}])}(),on=function(){return S(function e(t){g(this,e),this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new nn(Fe),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new nn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))},[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){var n,r;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null===(n=e.contentWindow)||void 0===n||n.addEventListener("message",this.handleMessage.bind(this))),null===(r=this.loadListener)||void 0===r||r.call(this,e);var i=Ot(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}},{key:"handleMessage",value:function(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var n=this.crossOriginIframeMap.get(e.source);if(n){var r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var n=this;switch(t.type){case Et.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:Et.IncrementalSnapshot,data:{source:Tt.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Et.Meta:case Et.Load:case Et.DomContentLoaded:return!1;case Et.Plugin:return t;case Et.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Et.IncrementalSnapshot:switch(t.data.source){case Tt.Mutation:return t.data.adds.forEach(function(t){n.replaceIds(t,e,["parentId","nextId","previousId"]),n.replaceIdOnNode(t.node,e);var r=n.crossOriginIframeRootIdMap.get(e);r&&n.patchRootIdOnNode(t.node,r)}),t.data.removes.forEach(function(t){n.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(function(t){n.replaceIds(t,e,["id"])}),t.data.texts.forEach(function(t){n.replaceIds(t,e,["id"])}),t;case Tt.Drag:case Tt.TouchMove:case Tt.MouseMove:return t.data.positions.forEach(function(t){n.replaceIds(t,e,["id"])}),t;case Tt.ViewportResize:return!1;case Tt.MediaInteraction:case Tt.MouseInteraction:case Tt.Scroll:case Tt.CanvasMutation:case Tt.Input:return this.replaceIds(t.data,e,["id"]),t;case Tt.StyleSheetRule:case Tt.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Tt.Font:return t;case Tt.Selection:return t.data.ranges.forEach(function(t){n.replaceIds(t,e,["start","end"])}),t;case Tt.AdoptedStyleSheet:var i;return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(i=t.data.styles)||void 0===i||i.forEach(function(t){n.replaceStyleIds(t,e,["styleId"])}),t}}return!1}},{key:"replace",value:function(e,t,n,r){var i,o=m(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;(Array.isArray(t[a])||"number"==typeof t[a])&&(Array.isArray(t[a])?t[a]=e.getIds(n,t[a]):t[a]=e.getId(n,t[a]))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"replaceIds",value:function(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}},{key:"replaceStyleIds",value:function(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}},{key:"replaceIdOnNode",value:function(e,t){var n=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(function(e){n.replaceIdOnNode(e,t)})}},{key:"patchRootIdOnNode",value:function(e,t){var n=this;e.type===he.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(function(e){n.patchRootIdOnNode(e,t)})}}])}(),an=function(){return S(function e(){g(this,e)},[{key:"init",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"observeAttachShadow",value:function(){}},{key:"reset",value:function(){}}])}(),sn=function(){return S(function e(t){g(this,e),this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()},[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var n=this;if(me(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);var r=qt(h(h({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(function(){return r.disconnect()}),this.restoreHandlers.push(Vt(h(h({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),Ct(function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&n.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,n.mirror.getId(e.host)),n.restoreHandlers.push(Qt({mirror:n.mirror,stylesheetManager:n.bypassOptions.stylesheetManager},e))},0)}}},{key:"observeAttachShadow",value:function(e){var t=Ot(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}},{key:"patchAttachShadow",value:function(e,t){var n=this;this.restoreHandlers.push(at(e.prototype,"attachShadow",function(e){return function(r){var i=e.call(this,r);return this.shadowRoot&&wt(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}},{key:"reset",value:function(){this.restoreHandlers.forEach(function(e){try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}])}(),un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ln=0;ln<64;ln++)cn[un.charCodeAt(ln)]=ln;var dn,fn,hn=function(){return S(function e(){g(this,e)},[{key:"reset",value:function(){}},{key:"freeze",value:function(){}},{key:"unfreeze",value:function(){}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}},{key:"snapshot",value:function(){}},{key:"addWindow",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"resetShadowRoots",value:function(){}}])}(),pn=function(){return S(function e(t){g(this,e),this.trackedLinkElements=new WeakSet,this.styleMirror=new kt,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb},[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){if(0!==e.length){var n,r={id:t,styleIds:[]},i=[],o=m(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=void 0;this.styleMirror.has(a)?s=this.styleMirror.getId(a):(s=this.styleMirror.add(a),i.push({styleId:s,rules:Array.from(a.rules||CSSRule,function(e,t){return{rule:ye(e),index:t}})})),r.styleIds.push(s)}}catch(u){o.e(u)}finally{o.f()}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}])}(),mn=function(){return S(function e(){g(this,e),this.nodeMap=new WeakMap,this.active=!1},[{key:"inOtherBuffer",value:function(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some(function(e){return e!==t})}},{key:"add",value:function(e,t){var n=this;this.active||(this.active=!0,function(){It("requestAnimationFrame").apply(void 0,arguments)}(function(){n.nodeMap=new WeakMap,n.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"destroy",value:function(){}}])}();try{if(2!==Array.from([1],function(e){return 2*e})[0]){var vn,yn=document.createElement("iframe");document.body.appendChild(yn),Array.from=(null===(vn=yn.contentWindow)||void 0===vn?void 0:vn.Array.from)||Array.from,document.body.removeChild(yn)}}catch(Pi){}var gn,kn,Sn=new ge;function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,i=e.blockClass,o=void 0===i?"rr-block":i,a=e.blockSelector,s=void 0===a?null:a,u=e.unblockSelector,c=void 0===u?null:u,l=e.ignoreClass,d=void 0===l?"rr-ignore":l,f=e.ignoreSelector,p=void 0===f?null:f,v=e.maskAllText,y=void 0!==v&&v,g=e.maskTextClass,k=void 0===g?"rr-mask":g,S=e.unmaskTextClass,b=void 0===S?null:S,w=e.maskTextSelector,_=void 0===w?null:w,I=e.unmaskTextSelector,C=void 0===I?null:I,E=e.inlineStylesheet,T=void 0===E||E,x=e.maskAllInputs,M=e.maskInputOptions,R=e.slimDOMOptions,O=e.maskAttributeFn,A=e.maskInputFn,D=e.maskTextFn,L=e.maxCanvasSize,N=void 0===L?null:L,F=e.packFn,P=e.sampling,B=void 0===P?{}:P,U=e.dataURLOptions,z=void 0===U?{}:U,j=e.mousemoveWait,W=e.recordDOM,H=void 0===W||W,q=e.recordCanvas,K=void 0!==q&&q,V=e.recordCrossOriginIframes,G=void 0!==V&&V,J=e.recordAfter,Y=void 0===J?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":J,X=e.userTriggeredOnInput,$=void 0!==X&&X,Q=e.collectFonts,Z=void 0!==Q&&Q,ee=e.inlineImages,te=void 0!==ee&&ee,ne=e.plugins,re=e.keepIframeSrcFn,ie=void 0===re?function(){return!1}:re,oe=e.ignoreCSSAttributes,ae=void 0===oe?new Set([]):oe,se=e.errorHandler,ue=e.onMutation,ce=e.getCanvasManager;Dt=se;var le=!G||window.parent===window,de=!1;if(!le)try{window.parent.document&&(de=!1)}catch(De){de=!0}if(le&&!t)throw new Error("emit function is required");if(!le&&!de)return function(){};void 0!==j&&void 0===B.mousemove&&(B.mousemove=j),Sn.reset();var fe,he=!0===x?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==M?M:{},pe=!0===R||"all"===R?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===R,headMetaDescKeywords:"all"===R}:R||{};!function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===i)return!0}while(i=i&&i.parentNode);return!1})}();var me=0,ve=function(e){var t,n=m(ne||[]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.eventProcessor&&(e=r.eventProcessor(e))}}catch(Pi){n.e(Pi)}finally{n.f()}return F&&!de&&(e=F(e)),e};dn=function(e,i){var o,a=e;if(a.timestamp=st(),null===(o=Wt[0])||void 0===o||!o.isFrozen()||a.type===Et.FullSnapshot||a.type===Et.IncrementalSnapshot&&a.data.source===Tt.Mutation||Wt.forEach(function(e){return e.unfreeze()}),le)null==t||t(ve(a),i);else if(de){var s={type:"rrweb",event:ve(a),origin:window.location.origin,isCheckout:i};window.parent.postMessage(s,"*")}if(a.type===Et.FullSnapshot)fe=a,me=0;else if(a.type===Et.IncrementalSnapshot){if(a.data.source===Tt.Mutation&&a.data.isAttachIframe)return;me++;var u=r&&me>=r,c=n&&fe&&a.timestamp-fe.timestamp>n;(u||c)&&Me(!0)}};var ye,ke=function(e){dn({type:Et.IncrementalSnapshot,data:h({source:Tt.Mutation},e)})},Se=function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.Scroll},e)})},be=function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.CanvasMutation},e)})},we=new pn({mutationCb:ke,adoptedStyleSheetCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.AdoptedStyleSheet},e)})}}),_e="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new rn:new on({mirror:Sn,mutationCb:ke,stylesheetManager:we,recordCrossOriginIframes:G,wrappedEmit:dn}),Ie=m(ne||[]);try{for(Ie.s();!(ye=Ie.n()).done;){var Ce=ye.value;Ce.getMirror&&Ce.getMirror({nodeMirror:Sn,crossOriginIframeMirror:_e.crossOriginIframeMirror,crossOriginIframeStyleMirror:_e.crossOriginIframeStyleMirror})}}catch(Pi){Ie.e(Pi)}finally{Ie.f()}var Ee=new mn,Te=function(e,t){try{return e?e(t):new hn}catch(n){return new hn}}(ce,{mirror:Sn,win:window,mutationCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.CanvasMutation},e)})},recordCanvas:K,blockClass:o,blockSelector:s,unblockSelector:c,maxCanvasSize:N,sampling:B.canvas,dataURLOptions:z,errorHandler:se}),xe="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new an:new sn({mutationCb:ke,scrollCb:Se,bypassOptions:{onMutation:ue,blockClass:o,blockSelector:s,unblockSelector:c,maskAllText:y,maskTextClass:k,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:C,inlineStylesheet:T,maskInputOptions:he,dataURLOptions:z,maskAttributeFn:O,maskTextFn:D,maskInputFn:A,recordCanvas:K,inlineImages:te,sampling:B,slimDOMOptions:pe,iframeManager:_e,stylesheetManager:we,canvasManager:Te,keepIframeSrcFn:ie,processedNodeManager:Ee,ignoreCSSAttributes:ae},mirror:Sn}),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(H){dn({type:Et.Meta,data:{href:window.location.href,width:lt(),height:ct()}},e),we.reset(),xe.init(),Wt.forEach(function(e){return e.lock()});var t=function(e,t){var n=t||{},r=n.mirror,i=void 0===r?new ge:r,o=n.blockClass,a=void 0===o?"rr-block":o,s=n.blockSelector,u=void 0===s?null:s,c=n.unblockSelector,l=void 0===c?null:c,d=n.maskAllText,f=void 0!==d&&d,h=n.maskTextClass,p=void 0===h?"rr-mask":h,m=n.unmaskTextClass,v=void 0===m?null:m,y=n.maskTextSelector,g=void 0===y?null:y,k=n.unmaskTextSelector,S=void 0===k?null:k,b=n.inlineStylesheet,w=void 0===b||b,_=n.inlineImages,I=void 0!==_&&_,C=n.recordCanvas,E=void 0!==C&&C,T=n.maskAllInputs,x=void 0!==T&&T,M=n.maskAttributeFn,R=n.maskTextFn,O=n.maskInputFn,A=n.slimDOM,D=void 0!==A&&A,L=n.dataURLOptions,N=n.preserveWhiteSpace,F=n.onSerialize,P=n.onIframeLoad,B=n.iframeLoadTimeout,U=n.onBlockedImageLoad,z=n.onStylesheetLoad,j=n.stylesheetLoadTimeout,W=n.keepIframeSrcFn,H=void 0===W?function(){return!1}:W,q=n.ignoreCSSAttributes;return tt(e,{doc:e,mirror:i,blockClass:a,blockSelector:u,unblockSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:v,maskTextSelector:g,unmaskTextSelector:S,skipChild:!1,inlineStylesheet:w,maskInputOptions:!0===x?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===x?{}:x,maskAttributeFn:M,maskTextFn:R,maskInputFn:O,slimDOMOptions:!0===D||"all"===D?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===D,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===D?{}:D,dataURLOptions:L,inlineImages:I,recordCanvas:E,preserveWhiteSpace:N,onSerialize:F,onIframeLoad:P,iframeLoadTimeout:B,onBlockedImageLoad:U,onStylesheetLoad:z,stylesheetLoadTimeout:j,keepIframeSrcFn:H,newlyAddedElement:!1,ignoreCSSAttributes:void 0===q?new Set([]):q})}(document,{mirror:Sn,blockClass:o,blockSelector:s,unblockSelector:c,maskAllText:y,maskTextClass:k,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:C,inlineStylesheet:T,maskAllInputs:he,maskAttributeFn:O,maskInputFn:A,maskTextFn:D,slimDOM:pe,dataURLOptions:z,recordCanvas:K,inlineImages:te,onSerialize:function(e){vt(e,Sn)&&_e.addIframe(e),yt(e,Sn)&&we.trackLinkElement(e),gt(e)&&xe.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){_e.attachIframe(e,t),e.contentWindow&&Te.addWindow(e.contentWindow),xe.observeAttachShadow(e)},onStylesheetLoad:function(e,t){we.attachLinkElement(e,t)},onBlockedImageLoad:function(e,t,n){var r=n.width,i=n.height;ke({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:{style:{width:"".concat(r,"px"),height:"".concat(i,"px")}}}]})},keepIframeSrcFn:ie,ignoreCSSAttributes:ae});t&&(dn({type:Et.FullSnapshot,data:{node:t,initialOffset:ut(window)}}),Wt.forEach(function(e){return e.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&we.adoptStyleSheets(document.adoptedStyleSheets,Sn.getId(document)))}};fn=Me;try{var Re=[],Oe=function(e){var t;return jt(Zt)({onMutation:ue,mutationCb:ke,mousemoveCb:function(e,t){return dn({type:Et.IncrementalSnapshot,data:{source:t,positions:e}})},mouseInteractionCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.MouseInteraction},e)})},scrollCb:Se,viewportResizeCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.ViewportResize},e)})},inputCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.Input},e)})},mediaInteractionCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.MediaInteraction},e)})},styleSheetRuleCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.StyleSheetRule},e)})},styleDeclarationCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.StyleDeclaration},e)})},canvasMutationCb:be,fontCb:function(e){return dn({type:Et.IncrementalSnapshot,data:h({source:Tt.Font},e)})},selectionCb:function(e){dn({type:Et.IncrementalSnapshot,data:h({source:Tt.Selection},e)})},customElementCb:function(e){dn({type:Et.IncrementalSnapshot,data:h({source:Tt.CustomElement},e)})},blockClass:o,ignoreClass:d,ignoreSelector:p,maskAllText:y,maskTextClass:k,unmaskTextClass:b,maskTextSelector:_,unmaskTextSelector:C,maskInputOptions:he,inlineStylesheet:T,sampling:B,recordDOM:H,recordCanvas:K,inlineImages:te,userTriggeredOnInput:$,collectFonts:Z,doc:e,maskAttributeFn:O,maskInputFn:A,maskTextFn:D,keepIframeSrcFn:ie,blockSelector:s,unblockSelector:c,slimDOMOptions:pe,dataURLOptions:z,mirror:Sn,iframeManager:_e,stylesheetManager:we,shadowDomManager:xe,processedNodeManager:Ee,canvasManager:Te,ignoreCSSAttributes:ae,plugins:(null==ne||null===(t=ne.filter(function(e){return e.observer}))||void 0===t?void 0:t.map(function(e){return{observer:e.observer,options:e.options,callback:function(t){return dn({type:Et.Plugin,data:{plugin:e.name,payload:t}})}}}))||[]},{})};_e.addLoadListener(function(e){try{Re.push(Oe(e.contentDocument))}catch(t){}});var Ae=function(){Me(),Re.push(Oe(document))};return"interactive"===document.readyState||"complete"===document.readyState?Ae():(Re.push(nt("DOMContentLoaded",function(){dn({type:Et.DomContentLoaded,data:{}}),"DOMContentLoaded"===Y&&Ae()})),Re.push(nt("load",function(){dn({type:Et.Load,data:{}}),"load"===Y&&Ae()},window))),function(){Re.forEach(function(e){return e()}),Ee.destroy(),fn=void 0,Dt=void 0}}catch(Le){}}bn.mirror=Sn,bn.takeFullSnapshot=function(e){if(!fn)throw new Error("please take full snapshot after start recording");fn(e)},(kn=gn||(gn={}))[kn.NotStarted=0]="NotStarted",kn[kn.Running=1]="Running",kn[kn.Stopped=2]="Stopped";function wn(e){return e>9999999999?e:1e3*e}function _n(e){return e>9999999999?e/1e3:e}function In(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(function(){return e.throttledAddEvent({type:Et.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:M(t,10,1e3)}}),"console"===t.category}))}var Cn;function En(e){return e.closest("button,a")||e}function Tn(e){var t=xn(e);return t&&t instanceof Element?En(t):t}function xn(e){return function(e){return"object"===w(e)&&!!e&&"target"in e}(e)?e.target:e}function Mn(e){return Cn||(Cn=[],D(n,"open",function(e){return function(){if(Cn)try{Cn.forEach(function(e){return e()})}catch(o){}for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(n,r)}})),Cn.push(e),function(){var t=Cn?Cn.indexOf(e):-1;t>-1&&Cn.splice(t,1)}}var Rn=new Set([Tt.Mutation,Tt.StyleSheetRule,Tt.StyleDeclaration,Tt.AdoptedStyleSheet,Tt.CanvasMutation,Tt.Selection,Tt.MediaInteraction]);var On=function(){return S(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:In;g(this,e),this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r},[{key:"addListeners",value:function(){var e=this,t=Mn(function(){e._lastMutation=Dn()});this._teardown=function(){t(),e._clicks=[],e._lastMutation=0,e._lastScroll=0}}},{key:"removeListeners",value:function(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}},{key:"handleClick",value:function(e,t){if(!function(e,t){if(!An.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)&&function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e)){var n={timestamp:_n(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(function(e){return e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1})||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}}},{key:"registerMutation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=_n(e)}},{key:"registerScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=_n(e)}},{key:"registerClick",value:function(e){var t=En(e);this._handleMultiClick(t)}},{key:"_handleMultiClick",value:function(e){this._getClicks(e).forEach(function(e){e.clickCount++})}},{key:"_getClicks",value:function(e){return this._clicks.filter(function(t){return t.node===e})}},{key:"_checkClicks",value:function(){var e=this,t=[],n=Dn();this._clicks.forEach(function(r){!r.mutationAfter&&e._lastMutation&&(r.mutationAfter=r.timestamp<=e._lastMutation?e._lastMutation-r.timestamp:void 0),!r.scrollAfter&&e._lastScroll&&(r.scrollAfter=r.timestamp<=e._lastScroll?e._lastScroll-r.timestamp:void 0),r.timestamp+e._timeout<=n&&t.push(r)});for(var r=0,i=t;r<i.length;r++){var o=i[r],a=this._clicks.indexOf(o);a>-1&&(this._generateBreadcrumbs(o),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}},{key:"_generateBreadcrumbs",value:function(e){var t=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,i=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!r&&!i,a=e.clickCount,s=e.clickBreadcrumb;if(o){var u=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),c=u<1e3*this._timeout?"mutation":"timeout",l={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:h(h({},s.data),{},{url:n.location.href,route:t.getCurrentRoute(),timeAfterClickMs:u,endReason:c,clickCount:a||1})};this._addBreadcrumbEvent(t,l)}else if(a>1){var d={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:h(h({},s.data),{},{url:n.location.href,route:t.getCurrentRoute(),clickCount:a,metric:!0})};this._addBreadcrumbEvent(t,d)}}},{key:"_scheduleCheckClicks",value:function(){var e=this;this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=G(function(){return e._checkClicks()},1e3)}}])}(),An=["A","BUTTON","INPUT"];function Dn(){return Date.now()/1e3}function Ln(e,t){try{if(!function(e){return 3===e.type}(t))return;var n=t.data.source;if(Rn.has(n)&&e.registerMutation(t.timestamp),n===Tt.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Tt.MouseInteraction}(t)){var r=t.data,i=r.type,o=r.id,a=bn.mirror.getNode(o);a instanceof HTMLElement&&i===xt.Click&&e.registerClick(a)}}catch(s){}}function Nn(e){return h({timestamp:Date.now()/1e3,type:"default"},e)}var Fn=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(Fn||{}),Pn=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Bn(e){var t={};for(var n in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(Pn.has(n)){var r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}var Un=function(e){return function(t){if(e.isEnabled()){var n=function(e){var t=function(e){var t,n="click"===e.name,r=null;try{r=n?Tn(e.event):xn(e.event),t=R(r,{maxStringLength:200})||"<unknown>"}catch(i){t="<unknown>"}return{target:r,message:t}}(e),n=t.target,r=t.message;return Nn(h({category:"ui.".concat(e.name)},zn(n,r)))}(t);if(n){var r,i,o,a="click"===t.name,s=a?t.event:void 0;!(a&&e.clickDetector&&null!=s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(r=e.clickDetector,i=n,o=Tn(t.event),r.handleClick(i,o)),In(e,n)}}}};function zn(e,t){var n=bn.mirror.getId(e),r=n&&bn.mirror.getNode(n),i=r&&bn.mirror.getMeta(r),o=i&&function(e){return e.type===Fn.Element}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(function(e){return e.type===Fn.Text&&e.textContent}).filter(Boolean).map(function(e){return e.trim()}).join(""),attributes:Bn(o.attributes)}}:{}}}function jn(e,t){if(e.isEnabled()){e.updateUserActivity();var n=function(e){var t=e.metaKey,n=e.shiftKey,r=e.ctrlKey,i=e.altKey,o=e.key,a=e.target;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!o)return null;var s=t||r||i,u=1===o.length;if(!s&&u)return null;var c=R(a,{maxStringLength:200})||"<unknown>",l=zn(a,c);return Nn({category:"ui.keyDown",message:c,data:h(h({},l.data),{},{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o})})}(t);n&&In(e,n)}}var Wn={resource:function(e){var t=e.entryType,n=e.initiatorType,r=e.name,i=e.responseEnd,o=e.startTime,a=e.decodedBodySize,s=e.encodedBodySize,u=e.responseStatus,c=e.transferSize;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:Kn(o),end:Kn(i),name:r,data:{size:c,statusCode:u,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){var t=e.duration,n=e.entryType,r=e.name,i=Kn(e.startTime);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){var t=e.entryType,n=e.name,r=e.decodedBodySize,i=e.duration,o=e.domComplete,a=e.encodedBodySize,s=e.domContentLoadedEventStart,u=e.domContentLoadedEventEnd,c=e.domInteractive,l=e.loadEventStart,d=e.loadEventEnd,f=e.redirectCount,h=e.startTime,p=e.transferSize,m=e.type;if(0===i)return null;return{type:"".concat(t,".").concat(m),start:Kn(h),end:Kn(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:c,domContentLoadedEventStart:s,domContentLoadedEventEnd:u,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}}}};function Hn(e,t){return function(n){var r=n.metric;t.replayPerformanceEntries.push(e(r))}}function qn(e){var t=Wn[e.entryType];return t?t(e):null}function Kn(e){return((j()||n.performance.timeOrigin)+e)/1e3}function Vn(e){var t=e.entries[e.entries.length-1];return Xn(e,"largest-contentful-paint",null!=t&&t.element?[t.element]:void 0)}function Gn(e){return void 0!==e.sources}function Jn(e){var t,n=[],r=[],i=m(e.entries);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(Gn(o)){var a,s=[],u=m(o.sources);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.node){r.push(c.node);var l=bn.mirror.getId(c.node);l&&s.push(l)}}}catch(Pi){u.e(Pi)}finally{u.f()}n.push({value:o.value,nodeIds:s.length?s:void 0})}}}catch(Pi){i.e(Pi)}finally{i.f()}return Xn(e,"cumulative-layout-shift",r,n)}function Yn(e){var t=e.entries[e.entries.length-1];return Xn(e,"interaction-to-next-paint",null!=t&&t.target?[t.target]:void 0)}function Xn(e,t,n,r){var i=e.value,o=e.rating,a=Kn(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:o,nodeIds:n?n.map(function(e){return bn.mirror.getId(e)}):void 0,attributions:r}}}var $n="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Qn=["log","warn","error"],Zn="[Replay] ";function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";K({category:"console",data:{logger:"replay"},level:t,message:"".concat(Zn).concat(e)},{level:t})}var tr,nr,rr,ir=(tr=!1,nr=!1,rr={exception:function(){},infoTick:function(){},setConfig:function(e){tr=!!e.captureExceptions,nr=!!e.traceInternals}},$n?(Qn.forEach(function(e){rr[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=I)[e].apply(t,[Zn].concat(r)),nr&&er(r.join(""),V(e))}}),rr.exception=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.length&&rr.error&&rr.error.apply(rr,n),I.error(Zn,e),tr?q(e,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):nr&&er(e,"error")},rr.infoTick=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=I).log.apply(e,[Zn].concat(n)),nr&&setTimeout(function(){return er(n[0])},0)}):Qn.forEach(function(e){rr[e]=function(){}}),rr),or=function(e){function t(){return g(this,t),i(this,t,["Event buffer exceeded maximum size of ".concat(ce,".")])}return o(t,e),S(t)}(a(Error)),ar=function(){return S(function e(){g(this,e),this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1},[{key:"hasEvents",get:function(){return this.events.length>0}},{key:"type",get:function(){return"sync"}},{key:"destroy",value:function(){this.events=[]}},{key:"addEvent",value:(t=r(e().m(function t(n){var r;return e().w(function(e){for(;;)switch(e.n){case 0:if(r=JSON.stringify(n).length,this._totalSize+=r,!(this._totalSize>ce)){e.n=1;break}throw new or;case 1:this.events.push(n);case 2:return e.a(2)}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"finish",value:function(){var e=this;return new Promise(function(t){var n=e.events;e.clear(),t(JSON.stringify(n))})}},{key:"clear",value:function(){this.events=[],this._totalSize=0,this.hasCheckout=!1}},{key:"getEarliestTimestamp",value:function(){var e=this.events.map(function(e){return e.timestamp}).sort()[0];return e?wn(e):null}}]);var t}(),sr=function(){return S(function e(t){g(this,e),this._worker=t,this._id=0},[{key:"ensureReady",value:function(){var e=this;return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(function(t,n){e._worker.addEventListener("message",function(e){e.data.success?t():n()},{once:!0}),e._worker.addEventListener("error",function(e){n(e)},{once:!0})})),this._ensureReadyPromise}},{key:"destroy",value:function(){$n&&ir.log("Destroying compression worker"),this._worker.terminate()}},{key:"postMessage",value:function(e,t){var n=this,r=this._getAndIncrementId();return new Promise(function(i,o){var a=function(t){var s=t.data;if(s.method===e&&s.id===r){if(n._worker.removeEventListener("message",a),!s.success)return $n&&ir.error("Error in compression worker: ",s.response),void o(new Error("Error in compression worker"));i(s.response)}};n._worker.addEventListener("message",a),n._worker.postMessage({id:r,method:e,arg:t})})}},{key:"_getAndIncrementId",value:function(){return this._id++}}])}(),ur=function(){return S(function e(t){g(this,e),this._worker=new sr(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1},[{key:"hasEvents",get:function(){return!!this._earliestTimestamp}},{key:"type",get:function(){return"worker"}},{key:"ensureReady",value:function(){return this._worker.ensureReady()}},{key:"destroy",value:function(){this._worker.destroy()}},{key:"addEvent",value:function(e){var t=wn(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>ce?Promise.reject(new or):this._sendEventToWorker(n)}},{key:"finish",value:function(){return this._finishRequest()}},{key:"clear",value:function(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,function(e){$n&&ir.exception(e,'Sending "clear" message to worker failed',e)})}},{key:"getEarliestTimestamp",value:function(){return this._earliestTimestamp}},{key:"_sendEventToWorker",value:function(e){return this._worker.postMessage("addEvent",e)}},{key:"_finishRequest",value:(t=r(e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._worker.postMessage("finish");case 1:return n=e.v,this._earliestTimestamp=null,this._totalSize=0,e.a(2,n)}},t,this)})),function(){return t.apply(this,arguments)})}]);var t}(),cr=function(){return S(function e(t){g(this,e),this._fallback=new ar,this._compression=new ur(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()},[{key:"waitForCheckout",get:function(){return this._used.waitForCheckout},set:function(e){this._used.waitForCheckout=e}},{key:"type",get:function(){return this._used.type}},{key:"hasEvents",get:function(){return this._used.hasEvents}},{key:"hasCheckout",get:function(){return this._used.hasCheckout},set:function(e){this._used.hasCheckout=e}},{key:"destroy",value:function(){this._fallback.destroy(),this._compression.destroy()}},{key:"clear",value:function(){return this._used.clear()}},{key:"getEarliestTimestamp",value:function(){return this._used.getEarliestTimestamp()}},{key:"addEvent",value:function(e){return this._used.addEvent(e)}},{key:"finish",value:(i=r(e().m(function t(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.ensureWorkerIsLoaded();case 1:return e.a(2,this._used.finish())}},t,this)})),function(){return i.apply(this,arguments)})},{key:"ensureWorkerIsLoaded",value:function(){return this._ensureWorkerIsLoadedPromise}},{key:"_ensureWorkerIsLoaded",value:(n=r(e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this._compression.ensureReady();case 1:e.n=3;break;case 2:return e.p=2,n=e.v,$n&&ir.exception(n,"Failed to load the compression worker, falling back to simple buffer"),e.a(2);case 3:return e.n=4,this._switchToCompressionWorker();case 4:return e.a(2)}},t,this,[[0,2]])})),function(){return n.apply(this,arguments)})},{key:"_switchToCompressionWorker",value:(t=r(e().m(function t(){var n,r,i,o,a,s,u,c,l;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:n=this._fallback,r=n.events,i=n.hasCheckout,o=n.waitForCheckout,a=[],s=m(r);try{for(s.s();!(u=s.n()).done;)c=u.value,a.push(this._compression.addEvent(c))}catch(Pi){s.e(Pi)}finally{s.f()}return this._compression.hasCheckout=i,this._compression.waitForCheckout=o,this._used=this._compression,e.p=1,e.n=2,Promise.all(a);case 2:this._fallback.clear(),e.n=4;break;case 3:e.p=3,l=e.v,$n&&ir.exception(l,"Failed to add events when switching buffers.");case 4:return e.a(2)}},t,this,[[1,3]])})),function(){return t.apply(this,arguments)})}]);var t,n,i}();function lr(e){var t=e.useCompression,n=e.workerUrl;if(t&&window.Worker){var r=function(e){try{var t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;$n&&ir.log("Using compression worker".concat(e?" from ".concat(e):""));var n=new Worker(t);return new cr(n)}catch(r){$n&&ir.exception(r,"Failed to create compression worker")}}(n);if(r)return r}return $n&&ir.log("Using simple buffer"),new ar}function dr(){try{return"sessionStorage"in n&&!!n.sessionStorage}catch(e){return!1}}function fr(e){!function(){if(!dr())return;try{n.sessionStorage.removeItem(oe)}catch(e){}}(),e.session=void 0}function hr(e){return void 0!==e&&Math.random()<e}function pr(e){if(dr())try{n.sessionStorage.setItem(oe,JSON.stringify(e))}catch(t){}}function mr(e){var t=Date.now();return{id:e.id||L(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId,dirty:e.dirty||!1}}function vr(e){var t=e.sessionSampleRate,n=e.allowBuffering,r=e.stickySession,i=void 0!==r&&r,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousSessionId,a=function(e,t){return hr(e)?"session":!!t&&"buffer"}(t,n),s=mr({sampled:a,previousSessionId:o});return i&&pr(s),s}function yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function gr(e,t){var n=t.maxReplayDuration,r=t.sessionIdleExpire,i=t.targetTime,o=void 0===i?Date.now():i;return yr(e.started,n,o)||yr(e.lastActivity,r,o)}function kr(e,t){return!!gr(e,{sessionIdleExpire:t.sessionIdleExpire,maxReplayDuration:t.maxReplayDuration})&&("buffer"!==e.sampled||0!==e.segmentId)}function Sr(e,t){var r=e.sessionIdleExpire,i=e.maxReplayDuration,o=e.previousSessionId,a=t.stickySession&&function(){if(!dr())return null;try{var e=n.sessionStorage.getItem(oe);if(!e)return null;var t=JSON.parse(e);return $n&&ir.infoTick("Loading existing session"),mr(t)}catch(r){return null}}();return a?kr(a,{sessionIdleExpire:r,maxReplayDuration:i})?($n&&ir.infoTick("Session in sessionStorage is expired, creating new one..."),vr(t,{previousSessionId:a.id})):a:($n&&ir.infoTick("Creating new session"),vr(t,{previousSessionId:o}))}function br(e,t,n){return!!Ir(e,t)&&(wr(e,t,n),!0)}function wr(e,t,n){return _r.apply(this,arguments)}function _r(){return(_r=r(e().m(function t(n,r,i){var o,a,s,u,c,l,d,f,h;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if((o=n.eventBuffer)&&(!o.waitForCheckout||i)){e.n=1;break}return e.a(2,null);case 1:if(a="buffer"===n.recordingMode,e.p=2,i&&a&&o.clear(),i&&(o.hasCheckout=!0,o.waitForCheckout=!1),s=n.getOptions(),u=Cr(r,s.beforeAddRecordingEvent)){e.n=3;break}return e.a(2);case 3:return e.n=4,o.addEvent(u);case 4:return e.a(2,e.v);case 5:if(e.p=5,h=e.v,l=(c=h&&h instanceof or)?"addEventSizeExceeded":"addEvent",(d=b())&&(f=c?"buffer_overflow":"internal_sdk_error",d.recordDroppedEvent(f,"replay")),!c||!a){e.n=6;break}return o.clear(),o.waitForCheckout=!0,e.a(2,null);case 6:return n.handleException(h),e.n=7,n.stop({reason:l});case 7:return e.a(2)}},t,null,[[2,5]])}))).apply(this,arguments)}function Ir(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var n=wn(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||($n&&ir.infoTick("Skipping event with timestamp ".concat(n," because it is after maxReplayDuration")),!1))}function Cr(e,t){try{if("function"==typeof t&&function(e){return e.type===Et.Custom}(e))return t(e)}catch(n){return $n&&ir.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Er(e){return!e.type}function Tr(e){return"transaction"===e.type}function xr(e){return"feedback"===e.type}function Mr(t){return function(n,i){if(t.isEnabled()&&(Er(n)||Tr(n))){var o=i.statusCode;!o||o<200||o>=300||(Tr(n)?function(e,t){var n,r=e.getContext();null!==(n=t.contexts)&&void 0!==n&&null!==(n=n.trace)&&void 0!==n&&n.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}(t,n):function(t,n){var i=t.getContext();n.event_id&&i.errorIds.size<100&&i.errorIds.add(n.event_id);if("buffer"!==t.recordingMode||!n.tags||!n.tags.replayId)return;var o=t.getOptions(),a=o.beforeErrorSampling;if("function"==typeof a&&!a(n))return;G(r(e().m(function n(){var r;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t.sendBufferedReplayOrFlush();case 1:e.n=3;break;case 2:e.p=2,r=e.v,t.handleException(r);case 3:return e.a(2)}},n,null,[[0,2]])})))}(t,n))}}}function Rr(e){return function(t){e.isEnabled()&&Er(t)&&function(e,t){var n,r=null===(n=t.exception)||void 0===n||null===(n=n.values)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.value;if("string"!=typeof r)return;if(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i)){In(e,Nn({category:"replay.hydrate-error",data:{url:N()}}))}}(e,t)}}function Or(e){var t=b();t&&t.on("beforeAddBreadcrumb",function(t){return function(e,t){if(!e.isEnabled()||!Ar(t))return;var n=function(e){if(!Ar(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.arguments;if(!Array.isArray(n)||0===n.length)return Nn(e);var r=!1,i=n.map(function(e){if(!e)return e;if("string"==typeof e)return e.length>ue?(r=!0,"".concat(e.slice(0,ue),"")):e;if("object"===w(e))try{var t=M(e,7);return JSON.stringify(t).length>ue?(r=!0,"".concat(JSON.stringify(t,null,2).slice(0,ue),"")):t}catch(n){}return e});return Nn(h(h({},e),{},{data:h(h({},e.data),{},{arguments:i},r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(e);return Nn(e)}(t);n&&In(e,n)}(e,t)})}function Ar(e){return!!e.category}function Dr(){var e=C().getPropagationContext().dsc;e&&delete e.replay_id;var t=p();t&&delete E(t).replay_id}function Lr(e){return Object.assign(function(t,n){var r;if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Er(t)&&!Tr(t)&&!xr(t))return t;if(!e.checkAndHandleExpiredSession())return Dr(),t;if(xr(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(function(){return!t.timestamp||(e.throttledAddEvent({type:Et.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)})}(e,t),t;if(function(e,t){var n,r;return!(e.type||null===(n=e.exception)||void 0===n||null===(n=n.values)||void 0===n||!n.length||null===(r=t.originalException)||void 0===r||!r.__rrweb__)}(t,n)&&!e.getOptions()._experiments.captureExceptions)return $n&&ir.log("Ignoring error from rrweb internals",t),null;var i=function(e,t){return"buffer"===e.recordingMode&&t.message!==ae&&!(!t.exception||t.type)&&hr(e.getOptions().errorSampleRate)}(e,t);if((i||"session"===e.recordingMode)&&(t.tags=h(h({},t.tags),{},{replayId:e.getSessionId()})),i&&"buffer"===e.recordingMode&&"buffer"===(null===(r=e.session)||void 0===r?void 0:r.sampled)){var o=e.session;o.dirty=!0,e.getOptions().stickySession&&pr(o)}return t},{id:"Replay"})}function Nr(e,t){return t.map(function(t){var n=t.type,r=t.start,i=t.end,o=t.name,a=t.data,s=e.throttledAddEvent({type:Et.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:a}}});return"string"==typeof s?Promise.resolve(null):s})}function Fr(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.from,n=e.to,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(function(){return Nr(e,[n]),!1}))}}}function Pr(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!$n||!e.getOptions()._experiments.traceInternals)&&H(t,b())}(e,t.name)||e.addUpdate(function(){return Nr(e,[t]),!0}))}function Br(e){if(e){var t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var n=te(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(r){}}}function Ur(e){if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}function zr(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var n=h({},e._meta),r=n.warnings||[];return n.warnings=[].concat(d(r),[t]),e._meta=n,e}function jr(e,t){return t?{type:e,start:t.startTimestamp/1e3,end:t.endTimestamp/1e3,name:t.url,data:{method:t.method,statusCode:t.statusCode,request:t.request,response:t.response}}:null}function Wr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Hr(e,t,n){if(t||0!==Object.keys(e).length){if(!t)return{headers:e};if(!n)return{headers:e,size:t};var r={headers:e,size:t},i=function(e){if(!e||"string"!=typeof e)return{body:e};var t=e.length>se,n=(r=e,i=r[0],o=r[r.length-1],"["===i&&"]"===o||"{"===i&&"}"===o);var r,i,o;if(t){var a=e.slice(0,se);return n?{body:a,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(a,""),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(s){}return{body:e}}(n),o=i.body,a=i.warnings;return r.body=o,null!=a&&a.length&&(r._meta={warnings:a}),r}}function qr(e,t){return Object.entries(e).reduce(function(n,r){var i=l(r,2),o=i[0],a=i[1],s=o.toLowerCase();return t.includes(s)&&e[o]&&(n[s]=a),n},{})}function Kr(e,t){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(n.location.origin))return e;var r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;var i=r.href;if(!e.endsWith("/")&&i.endsWith("/"))return i.slice(0,-1);return i}(e);return W(r,t)}function Vr(){return(Vr=r(e().m(function t(n,r,i){var o,a,s;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Gr(n,r,i);case 1:o=e.v,a=jr("resource.fetch",o),Pr(i.replay,a),e.n=3;break;case 2:e.p=2,s=e.v,$n&&ir.exception(s,"Failed to capture fetch breadcrumb");case 3:return e.a(2)}},t,null,[[0,2]])}))).apply(this,arguments)}function Gr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=r(e().m(function t(n,r,i){var o,a,s,u,c,l,d,f,h,p,m,v,y,g,k;return e().w(function(e){for(;;)switch(e.n){case 0:return o=Date.now(),a=r.startTimestamp,s=void 0===a?o:a,u=r.endTimestamp,c=void 0===u?o:u,l=n.data,d=l.url,f=l.method,h=l.status_code,p=void 0===h?0:h,m=l.request_body_size,v=l.response_body_size,y=Kr(d,i.networkDetailAllowUrls)&&!Kr(d,i.networkDetailDenyUrls),g=y?Yr(i,r.input,m):Wr(m),e.n=1,Xr(y,i,r.response,v);case 1:return k=e.v,e.a(2,{startTimestamp:s,endTimestamp:c,url:d,method:f,statusCode:p,request:g,response:k})}},t)}))).apply(this,arguments)}function Yr(e,t,n){var r=e.networkCaptureBodies,i=e.networkRequestHeaders,o=t?function(e,t){if(1===e.length&&"string"!=typeof e[0])return ni(e[0],t);if(2===e.length)return ni(e[1],t);return{}}(t,i):{};if(!r)return Hr(o,n,void 0);var a=ee(t),s=l(ie(a,ir),2),u=s[0],c=s[1],d=Hr(o,n,u);return c?zr(d,c):d}function Xr(e,t,n,r){return $r.apply(this,arguments)}function $r(){return($r=r(e().m(function t(n,r,i,o){var a,s,u,c,d,f,h,p;return e().w(function(e){for(;;)switch(e.n){case 0:if(a=r.networkCaptureBodies,s=r.networkResponseHeaders,n||void 0===o){e.n=1;break}return e.a(2,Wr(o));case 1:if(u=i?ti(i.headers,s):{},i&&(a||void 0===o)){e.n=2;break}return e.a(2,Hr(u,o,void 0));case 2:return e.n=3,Zr(i);case 3:if(c=e.v,d=l(c,2),f=d[0],h=d[1],p=Qr(f,{networkCaptureBodies:a,responseBodySize:o,captureDetails:n,headers:u}),!h){e.n=4;break}return e.a(2,zr(p,h));case 4:return e.a(2,p)}},t)}))).apply(this,arguments)}function Qr(e,t){var n=t.networkCaptureBodies,r=t.responseBodySize,i=t.captureDetails,o=t.headers;try{var a=null!=e&&e.length&&void 0===r?Br(e):r;return i?Hr(o,a,n?e:void 0):Wr(a)}catch(s){return $n&&ir.exception(s,"Failed to serialize response body"),Hr(o,r,void 0)}}function Zr(e){return ei.apply(this,arguments)}function ei(){return(ei=r(e().m(function t(n){var r,i,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=ri(n)){e.n=1;break}return e.a(2,[void 0,"BODY_PARSE_ERROR"]);case 1:return e.p=1,e.n=2,ii(r);case 2:return i=e.v,e.a(2,[i]);case 3:if(e.p=3,!((o=e.v)instanceof Error&&o.message.indexOf("Timeout")>-1)){e.n=4;break}return $n&&ir.warn("Parsing text body from response timed out"),e.a(2,[void 0,"BODY_PARSE_TIMEOUT"]);case 4:return $n&&ir.exception(o,"Failed to get text body from response"),e.a(2,[void 0,"BODY_PARSE_ERROR"])}},t,null,[[1,3]])}))).apply(this,arguments)}function ti(e,t){var n={};return t.forEach(function(t){e.get(t)&&(n[t]=e.get(t))}),n}function ni(e,t){if(!e)return{};var n=e.headers;return n?n instanceof Headers?ti(n,t):Array.isArray(n)?{}:qr(n,t):{}}function ri(e){try{return e.clone()}catch(t){$n&&ir.exception(t,"Failed to clone response body")}}function ii(e){return new Promise(function(t,n){var r=G(function(){return n(new Error("Timeout while trying to read response body"))},500);(function(e){return oi.apply(this,arguments)})(e).then(function(e){return t(e)},function(e){return n(e)}).finally(function(){return clearTimeout(r)})})}function oi(){return(oi=r(e().m(function t(n){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.text();case 1:return e.a(2,e.v)}},t)}))).apply(this,arguments)}function ai(){return(ai=r(e().m(function t(n,r,i){var o,a;return e().w(function(e){for(;;)switch(e.n){case 0:try{o=ui(n,r,i),a=jr("resource.xhr",o),Pr(i.replay,a)}catch(t){$n&&ir.exception(t,"Failed to capture xhr breadcrumb")}case 1:return e.a(2)}},t)}))).apply(this,arguments)}function si(e,t){var n=t.xhr,r=t.input;if(n){var i=Br(r),o=n.getResponseHeader("content-length")?Ur(n.getResponseHeader("content-length")):function(e,t){try{return Br("json"===t&&e&&"object"===w(e)?JSON.stringify(e):e)}catch(n){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}}function ui(e,t,n){var r=Date.now(),i=t.startTimestamp,o=void 0===i?r:i,a=t.endTimestamp,s=void 0===a?r:a,u=t.input,c=t.xhr,d=e.data,f=d.url,h=d.method,p=d.status_code,m=void 0===p?0:p,v=d.request_body_size,y=d.response_body_size;if(!f)return null;if(!c||!Kr(f,n.networkDetailAllowUrls)||Kr(f,n.networkDetailDenyUrls))return{startTimestamp:o,endTimestamp:s,url:f,method:h,statusCode:m,request:Wr(v),response:Wr(y)};var g=c[ne],k=g?qr(g.request_headers,n.networkRequestHeaders):{},S=qr(re(c),n.networkResponseHeaders),b=l(n.networkCaptureBodies?ie(u,ir):[void 0],2),_=b[0],I=b[1],C=n.networkCaptureBodies?function(e){var t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===w(e))return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return $n&&ir.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $n&&ir.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return $n&&ir.warn.apply(ir,["Failed to get xhr response body"].concat(t)),[void 0]}(c):[void 0],E=l(C,2),T=E[0],x=E[1],M=Hr(k,v,_),R=Hr(S,y,T);return{startTimestamp:o,endTimestamp:s,url:f,method:h,statusCode:m,request:I?zr(M,I):M,response:x?zr(R,x):R}}function ci(e){var t=b();try{var n=e.getOptions(),r={replay:e,networkDetailAllowUrls:n.networkDetailAllowUrls,networkDetailDenyUrls:n.networkDetailDenyUrls,networkCaptureBodies:n.networkCaptureBodies,networkRequestHeaders:n.networkRequestHeaders,networkResponseHeaders:n.networkResponseHeaders};t&&t.on("beforeAddBreadcrumb",function(e,t){return function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return null==e?void 0:e.xhr}(n)&&(si(t,n),function(e,t,n){ai.apply(this,arguments)}(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return null==e?void 0:e.response}(n)&&(function(e,t){var n=t.input,r=t.response,i=Br(n?ee(n):void 0),o=r?Ur(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o)}(t,n),function(e,t,n){Vr.apply(this,arguments)}(t,n,e))}catch(r){$n&&ir.exception(r,"Error when enriching network breadcrumb")}}(r,e,t)})}catch(i){}}function li(e){return di.apply(this,arguments)}function di(){return(di=r(e().m(function t(r){return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.a(2,Promise.all(Nr(r,[fi(n.performance.memory)])));case 1:return e.p=1,e.v,e.a(2,[])}},t,null,[[0,1]])}))).apply(this,arguments)}function fi(e){var t=e.jsHeapSizeLimit,n=e.totalJSHeapSize,r=e.usedJSHeapSize,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}var hi=u.navigator;function pi(e){var t=!1;return function(n,r){if(e.checkAndHandleExpiredSession()){var i=r||!t;t=!0,e.clickDetector&&Ln(e.clickDetector,n),e.addUpdate(function(){if("buffer"===e.recordingMode&&i&&e.setInitialState(),!br(e,n,i))return!0;if(!i)return!1;var t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;br(e,function(e){var t=e.getOptions();return{type:Et.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),"buffer"===e.recordingMode&&t&&e.eventBuffer&&!t.dirty){var r=e.eventBuffer.getEarliestTimestamp();r&&($n&&ir.log("Updating session start time to earliest event in buffer to ".concat(new Date(r))),t.started=r,e.getOptions().stickySession&&pr(t))}return null!=t&&t.previousSessionId||"session"===e.recordingMode&&e.flush(),!0})}else $n&&ir.warn("Received replay event after session expired.")}}function mi(e,t,n,r){return B(U(e,z(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}function vi(e){var t,n=e.recordingData,r=e.headers,i="".concat(JSON.stringify(r),"\n");if("string"==typeof n)t="".concat(i).concat(n);else{var o=(new TextEncoder).encode(i);(t=new Uint8Array(o.length+n.length)).set(o),t.set(n,o.length)}return t}function yi(e){return gi.apply(this,arguments)}function gi(){return(gi=r(e().m(function t(n){var r,i,o,a,s,u,c,l,d,f,p,m;return e().w(function(e){for(;;)switch(e.n){case 0:return r=n.client,i=n.scope,o=n.replayId,a=n.event,s="object"!==w(r._integrations)||null===r._integrations||Array.isArray(r._integrations)?void 0:Object.keys(r._integrations),u={event_id:o,integrations:s},r.emit("preprocessEvent",a,u),e.n=1,F(r.getOptions(),a,u,i,r,P());case 1:if(c=e.v){e.n=2;break}return e.a(2,null);case 2:return r.emit("postprocessEvent",c,u),c.platform=c.platform||"javascript",l=r.getSdkMetadata(),d=(null==l?void 0:l.sdk)||{},f=d.name,p=d.version,m=d.settings,c.sdk=h(h({},c.sdk),{},{name:f||"sentry.javascript.unknown",version:p||"0.0.0",settings:m}),e.a(2,c)}},t)}))).apply(this,arguments)}function ki(e){return Si.apply(this,arguments)}function Si(){return(Si=r(e().m(function t(n){var r,i,o,a,s,u,c,l,d,f,h,p,m,v,y,g,k,S,w,_,I,E;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=n.recordingData,i=n.replayId,o=n.segmentId,a=n.eventContext,s=n.timestamp,u=n.session,c=vi({recordingData:r,headers:{segment_id:o}}),l=a.urls,d=a.errorIds,f=a.traceIds,h=a.initialTimestamp,p=b(),m=C(),v=null==p?void 0:p.getTransport(),y=null==p?void 0:p.getDsn(),p&&v&&y&&u.sampled){e.n=1;break}return e.a(2,Promise.resolve({}));case 1:return g={type:"replay_event",replay_start_timestamp:h/1e3,timestamp:s/1e3,error_ids:d,trace_ids:f,urls:l,replay_id:i,segment_id:o,replay_type:u.sampled},e.n=2,yi({scope:m,client:p,replayId:i,event:g});case 2:if(k=e.v){e.n=3;break}return p.recordDroppedEvent("event_processor","replay"),$n&&ir.log("An event processor returned `null`, will not send event."),e.a(2,Promise.resolve({}));case 3:return delete k.sdkProcessingMetadata,S=mi(k,c,y,p.getOptions().tunnel),e.p=4,e.n=5,v.send(S);case 5:w=e.v,e.n=7;break;case 6:e.p=6,E=e.v,_=new Error(ae);try{_.cause=E}catch(t){}throw _;case 7:if(I=O({},w),!A(I,"replay")){e.n=8;break}throw new wi(I);case 8:if("number"!=typeof w.statusCode||!(w.statusCode<200||w.statusCode>=300)){e.n=9;break}throw new bi(w.statusCode);case 9:return e.a(2,w)}},t,null,[[4,6]])}))).apply(this,arguments)}var bi=function(e){function t(e){return g(this,t),i(this,t,["Transport returned status code ".concat(e)])}return o(t,e),S(t)}(a(Error)),wi=function(e){function t(e){var n;return g(this,t),(n=i(this,t,["Rate limit hit"])).rateLimits=e,n}return o(t,e),S(t)}(a(Error)),_i=function(e){function t(){return g(this,t),i(this,t,["Session is too long, not sending replay"])}return o(t,e),S(t)}(a(Error));function Ii(e){return Ci.apply(this,arguments)}function Ci(){return Ci=r(e().m(function t(n){var i,o,a,s,u,c=arguments;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:if(i=c.length>1&&void 0!==c[1]?c[1]:{count:0,interval:5e3},o=n.recordingData,a=n.onError,o.length){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,ki(n);case 2:return t.a(2,!0);case 3:if(t.p=3,!((u=t.v)instanceof bi||u instanceof wi)){t.n=4;break}throw u;case 4:if(x("Replays",{_retryCount:i.count}),a&&a(u),!(i.count>=3)){t.n=5;break}s=new Error("".concat(ae," - max retries exceeded"));try{s.cause=u}catch(l){}throw s;case 5:return i.interval*=++i.count,t.a(2,new Promise(function(t,o){G(r(e().m(function r(){var a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ii(n,i);case 1:t(!0),e.n=3;break;case 2:e.p=2,a=e.v,o(a);case 3:return e.a(2)}},r,null,[[0,2]])})),i.interval)}))}},t,null,[[1,3]])})),Ci.apply(this,arguments)}var Ei="__THROTTLED";function Ti(e,t,n){var r=new Map,i=!1;return function(){var o=Math.floor(Date.now()/1e3);if(function(e){var t=e-n;r.forEach(function(e,n){n<t&&r.delete(n)})}(o),d(r.values()).reduce(function(e,t){return e+t},0)>=t){var a=i;return i=!0,a?"__SKIPPED":Ei}i=!1;var s=r.get(o)||0;return r.set(o,s+1),e.apply(void 0,arguments)}}var xi=function(){return S(function e(t){var r=this,i=t.options,o=t.recordingOptions;g(this,e),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=o,this._options=i,this._debouncedFlush=function(e,t,n){return _(e,t,h(h({},n),{},{setTimeoutImpl:G}))}(function(){return r._flush()},this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Ti(function(e,t){return function(e,t,n){return Ir(e,t)?wr(e,t,n):Promise.resolve(null)}(r,e,t)},300,5);var a=this.getOptions(),s=a.slowClickTimeout,u=a.slowClickIgnoreSelectors,c=s?{threshold:Math.min(3e3,s),timeout:s,scrollTimeout:300,ignoreSelector:u?u.join(","):""}:void 0;if(c&&(this.clickDetector=new On(this,c)),$n){var l=i._experiments;ir.setConfig({captureExceptions:!!l.captureExceptions,traceInternals:!!l.traceInternals})}this._handleVisibilityChange=function(){"visible"===n.document.visibilityState?r._doChangeToForegroundTasks():r._doChangeToBackgroundTasks()},this._handleWindowBlur=function(){var e=Nn({category:"ui.blur"});r._doChangeToBackgroundTasks(e)},this._handleWindowFocus=function(){var e=Nn({category:"ui.focus"});r._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=function(e){jn(r,e)}},[{key:"getContext",value:function(){return this._context}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isPaused",value:function(){return this._isPaused}},{key:"isRecordingCanvas",value:function(){return Boolean(this._canvas)}},{key:"getOptions",value:function(){return this._options}},{key:"handleException",value:function(e){$n&&ir.exception(e),this._options.onError&&this._options.onError(e)}},{key:"initializeSampling",value:function(e){var t=this._options,n=t.errorSampleRate,r=t.sessionSampleRate,i=n<=0&&r<=0;this._requiresManualStart=i,i||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",$n&&ir.infoTick("Starting replay in ".concat(this.recordingMode," mode")),this._initializeRecording()):$n&&ir.exception(new Error("Unable to initialize and create session")))}},{key:"start",value:function(){if(this._isEnabled&&"session"===this.recordingMode)$n&&ir.log("Recording is already in progress");else if(this._isEnabled&&"buffer"===this.recordingMode)$n&&ir.log("Buffering is in progress, call `flush()` to save the replay");else{$n&&ir.infoTick("Starting replay in session mode"),this._updateUserActivity();var e=Sr({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}}},{key:"startBuffering",value:function(){if(this._isEnabled)$n&&ir.log("Buffering is in progress, call `flush()` to save the replay");else{$n&&ir.infoTick("Starting replay in buffer mode");var e=Sr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}}},{key:"startRecording",value:function(){try{var e=this._canvas;this._stopRecording=bn(h(h(h(h({},this._recordingOptions),"buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{},{emit:pi(this)},/iPhone|iPad|iPod/i.test(null!==(t=null==hi?void 0:hi.userAgent)&&void 0!==t?t:"")||/Macintosh/i.test(null!==(n=null==hi?void 0:hi.userAgent)&&void 0!==n?n:"")&&null!=hi&&hi.maxTouchPoints&&(null==hi?void 0:hi.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}),{},{onMutation:this._onMutationHandler.bind(this)},e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(Pi){this.handleException(Pi)}var t,n}},{key:"stopRecording",value:function(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(Pi){return this.handleException(Pi),!1}}},{key:"stop",value:(s=r(e().m(function t(){var n,r,i,o,a,s,u=arguments;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=(n=u.length>0&&void 0!==u[0]?u[0]:{}).forceFlush,i=void 0!==r&&r,o=n.reason,this._isEnabled){e.n=1;break}return e.a(2);case 1:if(this._isEnabled=!1,this.recordingMode="buffer",e.p=2,$n&&ir.log("Stopping Replay".concat(o?" triggered by ".concat(o):"")),Dr(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),!i){e.n=3;break}return e.n=3,this._flush({force:!0});case 3:null===(a=this.eventBuffer)||void 0===a||a.destroy(),this.eventBuffer=null,fr(this),e.n=5;break;case 4:e.p=4,s=e.v,this.handleException(s);case 5:return e.a(2)}},t,this,[[2,4]])})),function(){return s.apply(this,arguments)})},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this.stopRecording(),$n&&ir.log("Pausing replay"))}},{key:"resume",value:function(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),$n&&ir.log("Resuming replay"))}},{key:"sendBufferedReplayOrFlush",value:(a=r(e().m(function t(){var n,r,i,o,a=arguments;return e().w(function(e){for(;;)switch(e.n){case 0:if(n=(a.length>0&&void 0!==a[0]?a[0]:{}).continueRecording,r=void 0===n||n,"session"!==this.recordingMode){e.n=1;break}return e.a(2,this.flushImmediate());case 1:return i=Date.now(),$n&&ir.log("Converting buffer to session"),e.n=2,this.flushImmediate();case 2:if(o=this.stopRecording(),r&&o){e.n=3;break}return e.a(2);case 3:if("session"!==this.recordingMode){e.n=4;break}return e.a(2);case 4:this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(i),this._updateSessionActivity(i),this._maybeSaveSession()),this.startRecording();case 5:return e.a(2)}},t,this)})),function(){return a.apply(this,arguments)})},{key:"addUpdate",value:function(e){var t=e();"buffer"!==this.recordingMode&&this._isEnabled&&!0!==t&&this._debouncedFlush()}},{key:"triggerUserActivity",value:function(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}},{key:"updateUserActivity",value:function(){this._updateUserActivity(),this._updateSessionActivity()}},{key:"conditionalFlush",value:function(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}},{key:"flush",value:function(){return this._debouncedFlush()}},{key:"flushImmediate",value:function(){return this._debouncedFlush(),this._debouncedFlush.flush()}},{key:"cancelFlush",value:function(){this._debouncedFlush.cancel()}},{key:"getSessionId",value:function(e){var t,n;if(!e||!1!==(null===(t=this.session)||void 0===t?void 0:t.sampled))return null===(n=this.session)||void 0===n?void 0:n.id}},{key:"checkAndHandleExpiredSession",value:function(){if(!(this._lastActivity&&yr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}},{key:"setInitialState",value:function(){var e="".concat(n.location.pathname).concat(n.location.hash).concat(n.location.search),t="".concat(n.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}},{key:"throttledAddEvent",value:function(e,t){var n=this,r=this._throttledAddEvent(e,t);if(r===Ei){var i=Nn({category:"replay.throttled"});this.addUpdate(function(){return!br(n,{type:5,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}})})}return r}},{key:"getCurrentRoute",value:function(){var e=this.lastActiveSpan||p(),t=e&&v(e),n=(t&&y(t).data||{})[k];if(t&&n&&["route","custom"].includes(n))return y(t).description}},{key:"_initializeRecording",value:function(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=lr({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}},{key:"_initializeSessionForSampling",value:function(e){var t=this._options.errorSampleRate>0,n=Sr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}},{key:"_checkSession",value:function(){if(!this.session)return!1;var e=this.session;return!kr(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}},{key:"_refreshSession",value:(o=r(e().m(function t(n){return e().w(function(e){for(;;)switch(e.n){case 0:if(this._isEnabled){e.n=1;break}return e.a(2);case 1:return e.n=2,this.stop({reason:"refresh session"});case 2:this.initializeSampling(n.id);case 3:return e.a(2)}},t,this)})),function(e){return o.apply(this,arguments)})},{key:"_addListeners",value:function(){try{n.document.addEventListener("visibilitychange",this._handleVisibilityChange),n.addEventListener("blur",this._handleWindowBlur),n.addEventListener("focus",this._handleWindowFocus),n.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(t){var n=b();J(Un(t)),Y(Fr(t)),Or(t),ci(t);var i=Lr(t);T(i),n&&(n.on("beforeSendEvent",Rr(t)),n.on("afterSendEvent",Mr(t)),n.on("createDsc",function(e){var n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&t.checkAndHandleExpiredSession()&&(e.replay_id=n)}),n.on("spanStart",function(e){t.lastActiveSpan=e}),n.on("spanEnd",function(e){t.lastActiveSpan=e}),n.on("beforeSendFeedback",function(){var n=r(e().m(function n(r,i){var o,a;return e().w(function(e){for(;;)switch(e.n){case 0:if(a=t.getSessionId(),!(null!=i&&i.includeReplay&&t.isEnabled()&&a&&null!==(o=r.contexts)&&void 0!==o&&o.feedback)){e.n=2;break}if("api"!==r.contexts.feedback.source){e.n=1;break}return e.n=1,t.sendBufferedReplayOrFlush();case 1:r.contexts.feedback.replay_id=a;case 2:return e.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}()),n.on("openFeedbackWidget",r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.sendBufferedReplayOrFlush();case 1:return e.a(2)}},n)}))))}(this),this._hasInitializedCoreListeners=!0)}catch(Pi){this.handleException(Pi)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){e.entries.forEach(t)}var r=[];return["navigation","paint","resource"].forEach(function(e){r.push(X(e,n))}),r.push($(Hn(Vn,e)),Q(Hn(Jn,e)),Z(Hn(Yn,e))),function(){r.forEach(function(e){return e()})}}(this)}},{key:"_removeListeners",value:function(){try{n.document.removeEventListener("visibilitychange",this._handleVisibilityChange),n.removeEventListener("blur",this._handleWindowBlur),n.removeEventListener("focus",this._handleWindowFocus),n.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(Pi){this.handleException(Pi)}}},{key:"_doChangeToBackgroundTasks",value:function(e){this.session&&(gr(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}},{key:"_doChangeToForegroundTasks",value:function(e){this.session&&(this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):$n&&ir.log("Document has become active, but session has expired"))}},{key:"_updateUserActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}},{key:"_updateSessionActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}},{key:"_createCustomBreadcrumb",value:function(e){var t=this;this.addUpdate(function(){t.throttledAddEvent({type:Et.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}},{key:"_addPerformanceEntries",value:function(){var e,t=(e=this.performanceEntries,e.map(qn).filter(Boolean)).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){var n=this._context.initialTimestamp/1e3;t=t.filter(function(e){return e.start>=n})}return Promise.all(Nr(this,t))}},{key:"_clearContext",value:function(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}},{key:"_updateInitialTimestampFromEventBuffer",value:function(){var e=this.session,t=this.eventBuffer;if(e&&t&&!this._requiresManualStart&&!e.segmentId){var n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}}},{key:"_popEventContext",value:function(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}},{key:"_runFlush",value:(i=r(e().m(function t(){var n,r,i,o,a,s,u,c,l,d=this;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=this.getSessionId(),this.session&&this.eventBuffer&&r){e.n=1;break}return $n&&ir.error("No session or eventBuffer found to flush."),e.a(2);case 1:return e.n=2,this._addPerformanceEntries();case 2:if(null!==(n=this.eventBuffer)&&void 0!==n&&n.hasEvents){e.n=3;break}return e.a(2);case 3:return e.n=4,li(this);case 4:if(this.eventBuffer){e.n=5;break}return e.a(2);case 5:if(r===this.getSessionId()){e.n=6;break}return e.a(2);case 6:if(e.p=6,this._updateInitialTimestampFromEventBuffer(),!((i=Date.now())-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)){e.n=7;break}throw new _i;case 7:return o=this._popEventContext(),a=this.session.segmentId++,this._maybeSaveSession(),e.n=8,this.eventBuffer.finish();case 8:return s=e.v,e.n=9,Ii({replayId:r,recordingData:s,segmentId:a,eventContext:o,session:this.session,timestamp:i,onError:function(e){return d.handleException(e)}});case 9:e.n=11;break;case 10:e.p=10,l=e.v,this.handleException(l),this.stop({reason:"sendReplay"}),(u=b())&&(c=l instanceof wi?"ratelimit_backoff":l instanceof _i?"invalid":"send_error",u.recordDroppedEvent(c,"replay"));case 11:return e.a(2)}},t,this,[[6,10]])})),function(){return i.apply(this,arguments)})},{key:"_flush",value:(t=r(e().m(function t(){var n,r,i,o,a,s,u,c,l,d,f=arguments;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=(f.length>0&&void 0!==f[0]?f[0]:{}).force,r=void 0!==n&&n,this._isEnabled||r){e.n=1;break}return e.a(2);case 1:if(this.checkAndHandleExpiredSession()){e.n=2;break}return $n&&ir.error("Attempting to finish replay event after session expired."),e.a(2);case 2:if(this.session){e.n=3;break}return e.a(2);case 3:if(i=this.session.started,o=Date.now(),a=o-i,this._debouncedFlush.cancel(),s=a<this._options.minReplayDuration,u=a>this._options.maxReplayDuration+5e3,!s&&!u){e.n=4;break}return $n&&ir.log("Session duration (".concat(Math.floor(a/1e3),"s) is too ").concat(s?"short":"long",", not sending replay.")),s&&this._debouncedFlush(),e.a(2);case 4:return(c=this.eventBuffer)&&0===this.session.segmentId&&!c.hasCheckout&&$n&&ir.log("Flushing initial segment without checkout."),l=!!this._flushLock,this._flushLock||(this._flushLock=this._runFlush()),e.p=5,e.n=6,this._flushLock;case 6:e.n=8;break;case 7:e.p=7,d=e.v,this.handleException(d);case 8:return e.p=8,this._flushLock=void 0,l&&this._debouncedFlush(),e.f(8);case 9:return e.a(2)}},t,this,[[5,7,8,9]])})),function(){return t.apply(this,arguments)})},{key:"_maybeSaveSession",value:function(){this.session&&this._options.stickySession&&pr(this.session)}},{key:"_onMutationHandler",value:function(e){var t=this._options._experiments.ignoreMutations;if(null!=t&&t.length&&e.some(function(e){var n=function(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}(e.target),r=t.join(",");return null==n?void 0:n.matches(r)}))return!1;var n=e.length,r=this._options.mutationLimit,i=r&&n>r;if(n>this._options.mutationBreadcrumbLimit||i){var o=Nn({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(o)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}]);var t,i,o,a,s}();function Mi(e,t){return[].concat(d(e),d(t)).join(",")}var Ri='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Oi=["content-length","content-type","accept"],Ai=Symbol.for("sentry__originalRequestBody"),Di=!1,Li=!1;t("r",function(e){return new Ni(e)});var Ni=function(){return S(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushMinDelay,r=void 0===n?5e3:n,i=t.flushMaxDelay,o=void 0===i?5500:i,a=t.minReplayDuration,u=void 0===a?4999:a,c=t.maxReplayDuration,l=void 0===c?le:c,d=t.stickySession,f=void 0===d||d,p=t.useCompression,m=void 0===p||p,v=t.workerUrl,y=t._experiments,k=void 0===y?{}:y,S=t.maskAllText,b=void 0===S||S,w=t.maskAllInputs,_=void 0===w||w,I=t.blockAllMedia,C=void 0===I||I,E=t.mutationBreadcrumbLimit,T=void 0===E?750:E,x=t.mutationLimit,M=void 0===x?1e4:x,R=t.slowClickTimeout,O=void 0===R?7e3:R,A=t.slowClickIgnoreSelectors,D=void 0===A?[]:A,L=t.networkDetailAllowUrls,N=void 0===L?[]:L,F=t.networkDetailDenyUrls,P=void 0===F?[]:F,B=t.networkCaptureBodies,U=void 0===B||B,z=t.networkRequestHeaders,j=void 0===z?[]:z,W=t.networkResponseHeaders,H=void 0===W?[]:W,q=t.mask,K=void 0===q?[]:q,V=t.maskAttributes,G=void 0===V?["title","placeholder","aria-label"]:V,J=t.unmask,Y=void 0===J?[]:J,X=t.block,$=void 0===X?[]:X,Q=t.unblock,Z=void 0===Q?[]:Q,ee=t.ignore,te=void 0===ee?[]:ee,ne=t.maskFn,re=t.beforeAddRecordingEvent,ie=t.beforeErrorSampling,oe=t.onError,ae=t.attachRawBodyFromRequest,se=void 0!==ae&&ae;g(this,e),this.name="Replay";var ue=function(e){var t=e.mask,n=e.unmask,r=e.block,i=e.unblock,o=e.ignore;return{maskTextSelector:Mi(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Mi(n,[]),blockSelector:Mi(r,[".sentry-block","[data-sentry-block]"].concat(["base","iframe[srcdoc]:not([src])"])),unblockSelector:Mi(i,[]),ignoreSelector:Mi(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:K,unmask:Y,block:$,unblock:Z,ignore:te});if(this._recordingOptions=h(h({maskAllInputs:_,maskAllText:b,maskInputOptions:{password:!0},maskTextFn:ne,maskInputFn:ne,maskAttributeFn:function(e,t,n){return function(e){var t=e.el,n=e.key,r=e.maskAttributes,i=e.maskAllText,o=e.privacyOptions,a=e.value;return i?o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?a:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a:a}({maskAttributes:G,maskAllText:b,privacyOptions:ue,key:e,value:t,el:n})}},ue),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:function(e){try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(k.recordCrossOriginIframes)}),this._initialOptions={flushMinDelay:r,flushMaxDelay:o,minReplayDuration:Math.min(u,5e4),maxReplayDuration:Math.min(l,le),stickySession:f,useCompression:m,workerUrl:v,blockAllMedia:C,maskAllInputs:_,maskAllText:b,mutationBreadcrumbLimit:T,mutationLimit:M,slowClickTimeout:O,slowClickIgnoreSelectors:D,networkDetailAllowUrls:N,networkDetailDenyUrls:P,networkCaptureBodies:U,networkRequestHeaders:Fi(j),networkResponseHeaders:Fi(H),beforeAddRecordingEvent:re,beforeErrorSampling:ie,onError:oe,attachRawBodyFromRequest:se,_experiments:k},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(Ri):Ri,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&s())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0},[{key:"_isInitialized",get:function(){return Di},set:function(e){Di=e}},{key:"afterAllSetup",value:function(e){s()&&!this._replay&&(this._initialOptions.attachRawBodyFromRequest&&function(){if("undefined"!=typeof Request&&!Li){var e=Request;try{var t=function(t,n){var r=new e(t,n);return null!=(null==n?void 0:n.body)&&(r[Ai]=n.body),r};t.prototype=e.prototype,u.Request=t,Li=!0}catch(n){}}}(),this._setup(e),this._initialize(e))}},{key:"start",value:function(){this._replay&&this._replay.start()}},{key:"startBuffering",value:function(){this._replay&&this._replay.startBuffering()}},{key:"stop",value:function(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}},{key:"flush",value:function(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}},{key:"getReplayId",value:function(e){var t;if(null!==(t=this._replay)&&void 0!==t&&t.isEnabled())return this._replay.getSessionId(e)}},{key:"getRecordingMode",value:function(){var e;if(null!==(e=this._replay)&&void 0!==e&&e.isEnabled())return this._replay.recordingMode}},{key:"_initialize",value:function(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}},{key:"_setup",value:function(e){var t=function(e,t){var n=t.getOptions(),r=h({sessionSampleRate:0,errorSampleRate:0},e),i=c(n.replaysSessionSampleRate),o=c(n.replaysOnErrorSampleRate);null==i&&null==o&&f(function(){});null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r}(this._initialOptions,e);this._replay=new xi({options:t,recordingOptions:this._recordingOptions})}},{key:"_maybeLoadFromReplayCanvasIntegration",value:function(e){try{var t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(n){}}}])}();function Fi(e){return[].concat(Oi,d(e.map(function(e){return e.toLowerCase()})))}}}})}();
