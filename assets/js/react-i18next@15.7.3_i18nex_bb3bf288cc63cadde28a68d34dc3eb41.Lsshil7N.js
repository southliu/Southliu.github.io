import{r as e}from"./react@19.1.1.DAMsdXqD.js";const n={},s=(e,s,t,a)=>{o(t)&&n[t]||(o(t)&&(n[t]=new Date),((e,n,s,t)=>{const a=[s,{code:n,...t||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);o(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console})(e,s,t,a))},t=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},a=(e,n,s)=>{e.loadNamespaces(n,t(e,s))},r=(e,n,s,r)=>{if(o(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return a(e,s,r);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(n,t(e,r))},o=e=>"string"==typeof e,i=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,c={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},l=e=>c[e];let u={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(i,l)};let g;const p={type:"3rdParty",init(e){((e={})=>{u={...u,...e}})(e.options.react),(e=>{g=e})(e)}},d=e.createContext();class f{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const m=(e,n,s,t)=>e.getFixedT(n,s,t),N=(n,t={})=>{const{i18n:i}=t,{i18n:c,defaultNS:l}=e.useContext(d)||{},p=i||c||g;if(p&&!p.reportNamespaces&&(p.reportNamespaces=new f),!p){s(p,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>{return o(n)?n:"object"==typeof(s=n)&&null!==s&&o(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e;var s},n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}p.options.react?.wait&&s(p,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const N={...u,...p.options.react,...t},{useSuspense:h,keyPrefix:y}=N;let b=l||p.options?.defaultNS;b=o(b)?[b]:b||["translation"],p.reportNamespaces.addUsedNamespaces?.(b);const x=(p.isInitialized||p.initializedStoreOnce)&&b.every(e=>((e,n,t={})=>n.languages&&n.languages.length?n.hasLoadedNamespace(e,{lng:t.lng,precheck:(n,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,e))return!1}}):(s(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0))(e,p,N)),w=((n,s,t,a)=>e.useCallback(m(n,s,t,a),[n,s,t,a]))(p,t.lng||null,"fallback"===N.nsMode?b:b[0],y),E=()=>w,I=()=>m(p,t.lng||null,"fallback"===N.nsMode?b:b[0],y),[S,T]=e.useState(E);let C=b.join();t.lng&&(C=`${t.lng}${C}`);const O=((n,s)=>{const t=e.useRef();return e.useEffect(()=>{t.current=n},[n,s]),t.current})(C),k=e.useRef(!0);e.useEffect(()=>{const{bindI18n:e,bindI18nStore:n}=N;k.current=!0,x||h||(t.lng?r(p,t.lng,b,()=>{k.current&&T(I)}):a(p,b,()=>{k.current&&T(I)})),x&&O&&O!==C&&k.current&&T(I);const s=()=>{k.current&&T(I)};return e&&p?.on(e,s),n&&p?.store.on(n,s),()=>{k.current=!1,p&&e&&e?.split(" ").forEach(e=>p.off(e,s)),n&&p&&n.split(" ").forEach(e=>p.store.off(e,s))}},[p,C]),e.useEffect(()=>{k.current&&x&&T(E)},[p,y,x]);const v=[S,p,x];if(v.t=S,v.i18n=p,v.ready=x,x)return v;if(!x&&!h)return v;throw new Promise(e=>{t.lng?r(p,t.lng,b,()=>e()):a(p,b,()=>e())})};export{p as i,N as u};
