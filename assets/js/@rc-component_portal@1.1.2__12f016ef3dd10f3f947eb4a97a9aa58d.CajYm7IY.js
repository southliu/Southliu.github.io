import{h as t,j as n}from"./@babel_runtime@7.28.3.BsXYqacS.js";import{r as e}from"./react@19.1.1.DFOJwFPq.js";import{r}from"./react-dom@19.1.1_react@19.1.1.DEXqxQ-g.js";import{c as o,a as c,h as u,b as a,r as i,s as l,j as f}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.Cptqj8wH.js";var d=e.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function h(n){var r=!!n,o=e.useState(function(){return v+=1,"".concat(m,"_").concat(v)}),l=t(o,1)[0];c(function(){if(r){var t=u(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(t,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}},[r,l])}var p=function(t){return!1!==t&&(o()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},y=e.forwardRef(function(u,a){var i=u.open,m=u.autoLock,v=u.getContainer;u.debug;var y=u.autoDestroy,b=void 0===y||y,w=u.children,E=e.useState(i),g=t(E,2),_=g[0],j=g[1],S=_||i;e.useEffect(function(){(b||i)&&j(i)},[i,b]);var C=e.useState(function(){return p(v)}),x=t(C,2),H=x[0],P=x[1];e.useEffect(function(){var t=p(v);P(null!=t?t:null)});var k=function(r){var u=e.useState(function(){return o()?document.createElement("div"):null}),a=t(u,1)[0],i=e.useRef(!1),l=e.useContext(d),f=e.useState(s),m=t(f,2),v=m[0],h=m[1],p=l||(i.current?void 0:function(t){h(function(e){return[t].concat(n(e))})});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function b(){var t;null===(t=a.parentElement)||void 0===t||t.removeChild(a),i.current=!1}return c(function(){return r?l?l(y):y():b(),b},[r]),c(function(){v.length&&(v.forEach(function(t){return t()}),h(s))},[v]),[a,p]}(S&&!H),D=t(k,2),R=D[0],W=D[1],q=null!=H?H:R;h(m&&i&&o()&&(q===R||q===document.body));var L=null;w&&l(w)&&a&&(L=w.ref);var z=f(L,a);if(!S||!o()||void 0===H)return null;var A=!1===q||!1,B=w;return a&&(B=e.cloneElement(w,{ref:z})),e.createElement(d.Provider,{value:W},A?B:r.createPortal(B,q))});export{y as P};
