import{_ as t,a as e,d as n}from"./@babel_runtime@7.28.3.ESkOsrAB.js";function i(){return"function"==typeof BigInt}function r(t){return!t&&0!==t&&!Number.isNaN(t)||!String(t).trim()}function a(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),(e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(e="0".concat(e));var i=e||"0",r=i.split("."),a=r[0]||"0",u=r[1]||"0";"0"===a&&"0"===u&&(n=!1);var s=n?"-":"";return{negative:n,negativeStr:s,trimStr:i,integerStr:a,decimalStr:u,fullStr:"".concat(s).concat(i)}}function u(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function s(t){var e=String(t);if(u(t)){var n=Number(e.slice(e.indexOf("e-")+2)),i=e.match(/\.(\d+)/);return null!=i&&i[1]&&(n+=i[1].length),n}return e.includes(".")&&o(e)?e.length-e.indexOf(".")-1:0}function c(t){var e=String(t);if(u(t)){if(t>Number.MAX_SAFE_INTEGER)return String(i()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(i()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(s(e))}return a(e).fullStr}function o(t){return"number"==typeof t?!Number.isNaN(t):!!t&&(/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t))}var l=function(){function i(t){if(e(this,i),n(this,"origin",""),n(this,"negative",void 0),n(this,"integer",void 0),n(this,"decimal",void 0),n(this,"decimalLen",void 0),n(this,"empty",void 0),n(this,"nan",void 0),r(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var s=t;if(u(s)&&(s=Number(s)),o(s="string"==typeof s?s:c(s))){var l=a(s);this.negative=l.negative;var v=l.trimStr.split(".");this.integer=BigInt(v[0]);var m=v[1]||"0";this.decimal=BigInt(m),this.decimalLen=m.length}else this.nan=!0}}return t(i,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var e="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(e)}},{key:"negate",value:function(){var t=new i(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,e,n){var r=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),u=e(this.alignDecimal(r),t.alignDecimal(r)).toString(),s=n(r),c=a(u),o=c.negativeStr,l=c.trimStr,v="".concat(o).concat(l.padStart(s+1,"0"));return new i("".concat(v.slice(0,-s),".").concat(v.slice(-s)))}},{key:"add",value:function(t){if(this.isInvalidate())return new i(t);var e=new i(t);return e.isInvalidate()?this:this.cal(e,function(t,e){return t+e},function(t){return t})}},{key:"multi",value:function(t){var e=new i(t);return this.isInvalidate()||e.isInvalidate()?new i(NaN):this.cal(e,function(t,e){return t*e},function(t){return 2*t})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(null==t?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":a("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),i}(),v=function(){function i(t){e(this,i),n(this,"origin",""),n(this,"number",void 0),n(this,"empty",void 0),r(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return t(i,[{key:"negate",value:function(){return new i(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new i(t);var e=Number(t);if(Number.isNaN(e))return this;var n=this.number+e;if(n>Number.MAX_SAFE_INTEGER)return new i(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new i(Number.MIN_SAFE_INTEGER);var r=Math.max(s(this.number),s(e));return new i(n.toFixed(r))}},{key:"multi",value:function(t){var e=Number(t);if(this.isInvalidate()||Number.isNaN(e))return new i(NaN);var n=this.number*e;if(n>Number.MAX_SAFE_INTEGER)return new i(Number.MAX_SAFE_INTEGER);if(n<Number.MIN_SAFE_INTEGER)return new i(Number.MIN_SAFE_INTEGER);var r=Math.max(s(this.number),s(e));return new i(n.toFixed(r))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(null==t?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":c(this.number):this.origin}}]),i}();function m(t){return i()?new l(t):new v(t)}function h(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===t)return"";var r=a(t),u=r.negativeStr,s=r.integerStr,c=r.decimalStr,o="".concat(e).concat(c),l="".concat(u).concat(s);if(n>=0){var v=Number(c[n]);return v>=5&&!i?h(m(t).add("".concat(u,"0.").concat("0".repeat(n)).concat(10-v)).toString(),e,n,i):0===n?l:"".concat(l).concat(e).concat(c.padEnd(n,"0").slice(0,n))}return".0"===o?l:"".concat(l).concat(o)}export{s as a,h as b,m as g,c as n,a as t,o as v};
