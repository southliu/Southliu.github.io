import{r as e}from"./react@19.0.0.C56gzhl-.js";import{i as r}from"./echarts@5.6.0.CR6xDgiN.js";import{u as t}from"./index.wfnGK_Vn.js";import{D as n}from"./keepalive-for-react@4.0.0_react-dom@19.0.0_react@19.0.0.4PEYi4Ve.js";const s=(s,u)=>{const{isRefresh:c}=t(),[i,o]=e.useState(!1),f=e.useRef(null),a=e.useRef(null),d=()=>{f.current&&!f.current.isDisposed()&&(f.current.dispose(),f.current=null)},l=e.useCallback((()=>{if(a.current&&s){try{d(),f.current=r(a.current),f.current.setOption(s,!0),f.current.resize()}catch(e){}o(!1)}}),[s]);return e.useEffect((()=>{i&&a.current&&l()}),[l,i,a]),e.useEffect((()=>{s&&c&&o(!0)}),[s,c]),e.useEffect((()=>{const e=f.current,r=()=>null==e?void 0:e.resize();return a.current&&(l(),window.addEventListener("resize",r)),()=>{window.removeEventListener("resize",r),d()}}),[]),n((()=>{const e=f.current,r=()=>null==e?void 0:e.resize();return a.current&&(l(),window.addEventListener("resize",r)),()=>{window.removeEventListener("resize",r),d()}}),[]),e.useEffect((()=>{u&&f.current&&!f.current.isDisposed()&&f.current.setOption(s,!0)}),[u]),[a,()=>{f.current&&l()}]};export{s as u};
