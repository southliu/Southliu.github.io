import{r}from"./react@19.2.1.BpVBN_43.js";import{l as e}from"./lodash@4.17.21.3v0SSdHj.js";import{i as t}from"./echarts@6.0.0.CavCXKPZ.js";const n=(n,u)=>{const c=r.useRef(null),s=r.useRef(null),o=r.useRef(null),i=()=>{s.current&&(c.current?.dispose(),c.current=null),o.current&&(o.current.disconnect(),o.current=null)},l=r.useCallback(()=>{n&&s.current&&(i(),c.current=t(s.current),c.current.setOption(n),o.current=new ResizeObserver(e.debounce(()=>{c.current?.resize({animation:{duration:500}})},50)),o.current.observe(s.current))},[n]);return r.useEffect(()=>{if(s.current)return l(),()=>{i()}},[]),r.useEffect(()=>{u&&c.current&&c?.current?.setOption(n)},[u,n]),[s,c.current]};export{n as u};
