import{r as e}from"./react@19.0.0.C56gzhl-.js";import{i as r}from"./echarts@5.6.0.CR6xDgiN.js";import{u as t}from"./index.HHIntRUW.js";const s=(s,n)=>{const{isRefresh:u}=t(),[c,i]=e.useState(!1),o=e.useRef(null),f=e.useRef(null),a=()=>{o.current&&!o.current.isDisposed()&&(o.current.dispose(),o.current=null)},l=e.useCallback((()=>{if(f.current&&s){try{a(),o.current=r(f.current),o.current.setOption(s,!0),o.current.resize()}catch(e){}i(!1)}}),[s]);return e.useEffect((()=>{c&&f.current&&l()}),[l,c,f]),e.useEffect((()=>{s&&u&&i(!0)}),[s,u]),e.useEffect((()=>{const e=o.current,r=()=>null==e?void 0:e.resize();return f.current&&(l(),window.addEventListener("resize",r)),()=>{window.removeEventListener("resize",r),a()}}),[l]),e.useEffect((()=>{n&&o.current&&!o.current.isDisposed()&&o.current.setOption(s,!0)}),[n]),[f,()=>{o.current&&l()}]};export{s as u};
