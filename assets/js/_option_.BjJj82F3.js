import{r as e,j as t}from"./react@19.1.1.DFOJwFPq.js";import{g as r,c,u as a,a as s}from"./article.D947nmjv.js";import{u as o,a as i,b as n,s as m,g as d,c as p,d as _,A as l,E as j,e as f,f as b}from"./index.DY-7fRsK.js";import{r as u}from"./react-activation@0.13.4_react@19.1.1.WqvKZv_U.js";import{u as g}from"./react-i18next@15.6.1_i18nex_74a7e71e4075fb517089ab3b681ca6ee.DqlQsN0m.js";import{u as h}from"./react-router@7.5.1_react-do_2a1f9500c1cf2c3d8fc9e334c1ec9521.sJ3UYKqR.js";import{c as v,B as y}from"./BaseContent.CM9xG0iW.js";import{B as x}from"./BaseCard.CmvXO1Kk.js";import{B as k}from"./BaseForm.ztvMLU19.js";import{B as w,F as $,s as z,f as A}from"./antd@5.27.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.4Km6CB4Q.js";import"./@babel_runtime@7.28.3.BsXYqacS.js";import"./user.DxnwsXdP.js";import"./CustomizeInput.DreVKXuX.js";import"./react-dom@19.1.1_react@19.1.1.DEXqxQ-g.js";import"./scheduler@0.26.0.6ULW7vKx.js";import"./nprogress@0.2.0.CIY-vrTm.js";import"./i18next-http-backend@3.0.2.-FO0UeMo.js";import"./@loadable_component@5.16.7_react@19.1.1.Bf8nB9JF.js";import"./hoist-non-react-statics@3.3.2.DVAHHQ_R.js";import"./react-is@16.13.1.yJGO6Amu.js";import"./crypto-js@4.2.0.BM0yPuHr.js";import"./axios@1.11.0.C-1G2k3o.js";import"./lodash@4.17.21.CPMlbSL5.js";import"./zustand@5.0.7_@types_react@19.1.10_immer@9.0.21_react@19.1.1.BbPNXgCA.js";import"./@iconify_react@5.2.1_react@19.1.1.DHV-g-Ii.js";import"./react-draggable@4.5.0_react_7212988beb4cfaf8f3481fa03e139ac2.CFFUYnD7.js";import"./prop-types@15.8.1.Bx5UHif0.js";import"./clsx@2.1.1.CVo1TNh1.js";import"./@ant-design_icons@6.0.0_rea_847732ab2d986d5c093170829ace02ec.CYIqqZyR.js";import"./@ant-design_icons-svg@4.4.2.Dz1KkTCo.js";import"./classnames@2.5.1.DzaQuX-8.js";import"./@ant-design_colors@8.0.0.fIX020g4.js";import"./@ant-design_fast-color@3.0.0.ii8f2EEn.js";import"./@rc-component_util@1.2.2_re_b297ea14683146962230a74a743c21d2.B_icmDkl.js";import"./react-is@18.3.1.USR0mOhp.js";import"./@dnd-kit_core@6.3.1_react-d_b2d5886cf71f55202ee000d74755b8d0.CEF3D-Tp.js";import"./@dnd-kit_utilities@3.2.2_react@19.1.1.CCSpii8W.js";import"./@dnd-kit_accessibility@3.1.1_react@19.1.1.KR-L6-28.js";import"./@dnd-kit_sortable@10.0.0_@d_cdf393be866ffb195b557b7b22c22bad.dGKVs8vF.js";import"./dayjs@1.11.13.CV7WOPSf.js";import"./@ant-design_cssinjs@1.24.0__4f73402bc59976ea4d1be835bba6fd27.CoK4DPWR.js";import"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.Cptqj8wH.js";import"./@emotion_hash@0.8.0.DFFAhID7.js";import"./@emotion_unitless@0.7.5.BWzHn38B.js";import"./stylis@4.3.6.C44NkLFc.js";import"./i18next@25.3.6_typescript@5.9.2.BRd1ohpR.js";import"./i18next-browser-languagedetector@8.2.0.DrNbJIFn.js";import"./@ant-design_v5-patch-for-re_8850a0c3444ff6c63089a511b917c3e5.BDeOJVXW.js";import"./@ant-design_cssinjs-utils@1_251b99a69096c756db7fe7c1155d2294.C1deFyJL.js";import"./rc-resize-observer@1.4.3_re_417e6ee79a83d8d6def766a6be83681f.C5AGUuAA.js";import"./resize-observer-polyfill@1.5.1.C7U_o75s.js";import"./@ant-design_icons@5.6.1_rea_899d4c2778da3888f3c43dea354b7ae1.BNbTjdHj.js";import"./@ant-design_colors@7.2.1.DlhJKWDZ.js";import"./@ant-design_fast-color@2.0.6.D72DP3F-.js";import"./rc-pagination@5.1.0_react-d_c4c43808196e822d8749f5ccbede6012.L5FAk1jl.js";import"./rc-picker@4.11.3_dayjs@1.11_8e7890ae748cf0bdee07355a167b6b48.D7ctU_Yv.js";import"./rc-motion@2.9.5_react-dom@19.1.1_react@19.1.1__react@19.1.1.DpBCifG8.js";import"./@rc-component_trigger@2.3.0_98a5ef371ed9a77c6843246644ee9b58.BREfuzzF.js";import"./@rc-component_portal@1.1.2__12f016ef3dd10f3f947eb4a97a9aa58d.CajYm7IY.js";import"./rc-overflow@1.4.1_react-dom_cc4ea89628553b129a8da50b36cb88c0.BA4GRIeX.js";import"./scroll-into-view-if-needed@3.1.0.B0UcSGS3.js";import"./compute-scroll-into-view@3.1.1.Cfyw3hb3.js";import"./rc-notification@5.6.4_react_86f0e1391a6c86543030aa5317a3707c.2HQWk6zW.js";import"./@rc-component_color-picker@_44d1bf8e77ac9e0081e823e9e1f4f31e.CxVeKhxL.js";import"./rc-collapse@3.9.0_react-dom_601de08cb68886a487bd7ceac057b564.ISnwqtlC.js";import"./rc-dialog@9.6.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.B_cVCS4l.js";import"./rc-field-form@2.7.0_react-d_1c776addd2d710781814a569f88b1247.Db_CwgHH.js";import"./@rc-component_async-validator@5.0.4.DIpSXt0f.js";import"./rc-select@14.16.8_react-dom_cc80e9af85a483474ef754b96054fb57.D3oyo4EZ.js";import"./rc-virtual-list@3.19.1_reac_eb17cbd247287c3a3dcc8262c7846edd.nGIflIpq.js";import"./rc-tooltip@6.4.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.CP3ASYPT.js";import"./rc-dropdown@4.2.1_react-dom_9ae5fdd736f4823df4c8a646cf12960c.Zu_ZTSbf.js";import"./rc-menu@9.16.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.BhjpGEzL.js";import"./rc-checkbox@3.5.0_react-dom_77c36b6c47b32e0b10d14715673cddee.ROilv08M.js";import"./rc-tabs@15.7.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.C0ZPgpK1.js";import"./@ant-design_react-slick@1.1.2_react@19.1.1.Bj8hyxbc.js";import"./throttle-debounce@5.0.2.w9OM8Bxz.js";import"./json2mq@0.2.0.CtkNoOt7.js";import"./string-convert@0.2.1.CCzxSb8Y.js";import"./rc-cascader@3.34.0_react-do_eb32ad85eeb84cf347ef3db1f3962e54.CzXpPkKq.js";import"./rc-tree@5.13.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.BaGGq7yS.js";import"./rc-segmented@2.7.0_react-do_d74622c6bc7f46a1a0e633494b1d3159.CctgprXZ.js";import"./rc-input-number@9.5.0_react_5a7d66c6ad4701d3fcc75b24018ef2ef.C7D8SyIW.js";import"./@rc-component_mini-decimal@1.1.0.4EUWm7g9.js";import"./rc-input@1.8.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.BStWp2MJ.js";import"./rc-slider@11.1.8_react-dom@19.1.1_react@19.1.1__react@19.1.1.DsJxYTFI.js";import"./rc-drawer@7.3.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.D23lTyU3.js";import"./rc-image@7.12.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.CETZIqTL.js";import"./rc-textarea@1.10.2_react-do_9e63c3c40a7644816d7e7f4d071a8248.hF2RuTk2.js";import"./rc-mentions@2.20.0_react-do_6917240e8e38113a699c2717fefe091f.BxCYuhVg.js";import"./rc-progress@4.0.0_react-dom_3b0b2802317cf508b84541f1103d27e0.wsOPM5uO.js";import"./@rc-component_qrcode@1.0.0__c74405822df6e0e54de5be408814cec4.W7nN_e7b.js";import"./rc-rate@2.13.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.Br1HLX9z.js";import"./rc-steps@6.0.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.CJkot2ww.js";import"./rc-switch@4.1.0_react-dom@19.1.1_react@19.1.1__react@19.1.1.jflkUnom.js";import"./rc-table@7.51.1_react-dom@19.1.1_react@19.1.1__react@19.1.1.B0kIHMCz.js";import"./@rc-component_context@1.4.0_de4028c8571959cb44d65adf38211715.C0dYM86I.js";import"./@rc-component_tour@1.15.1_r_4837758b6d2ed7978729a2c006955f2d.MbIYqz1l.js";import"./rc-tree-select@5.27.0_react_4fcbdb7796f073dfcaa0b122f1f33194.Q5Yqk0eX.js";import"./copy-to-clipboard@3.3.3.CORIQ8_A.js";import"./toggle-selection@1.0.6.CKa2ZqsB.js";import"./rc-upload@4.9.2_react-dom@19.1.1_react@19.1.1__react@19.1.1.Bj5wqwmh.js";import"./@rc-component_mutate-observ_8f141f09ab25dd5e3b5a76913ef14f78.DT3Q3Xa6.js";import"./cookie@1.0.2.BUTH-fPQ.js";import"./szfe-tools@0.0.0-beta.7.Sg-uK3YW.js";import"./react-node-key@0.4.0_react@19.1.1.aapnF1rv.js";import"./helper.8qUVam5P.js";function B(t){const{fatherPath:r,zhTitle:c,enTitle:a,name:s}=t,{t:f,i18n:b}=g(),{pathname:v,search:y}=h(),{setOpenKeys:x,setSelectedKeys:k}=o(e=>e),{isPhone:w,isCollapsed:$,menuList:z,permissions:A}=i(),{activeKey:B,addTabs:C,setNav:N,setActiveKey:S}=n(e=>e);e.useEffect(()=>{const e=P();m(f,e);const t=d(r);w||$||(x(t),k(r))},[]);const E=e.useCallback((e=v)=>{var t;if("/"===e||B!==v)return;const s="zh"===b.language?c:a,o=P(),i=(null==(t=p({menus:z,permissions:A,key:r}))?void 0:t.nav)||[];i.push({label:s,labelZh:c,labelEn:a});const n={label:o,labelEn:a,labelZh:c,key:v,nav:i,urlParams:y};S(n.key),N(n.nav),C(n)},[v,y]);e.useEffect(()=>{E()},[]),u.useActivate(()=>{E()});const P=()=>{let e="",t="",o="";const i=(()=>{const e=null==y?void 0:y.substring(1,y.length),t=null==e?void 0:e.split("&");for(let r=0;r<(null==t?void 0:t.length);r++){const e=t[r],c=null==e?void 0:e.split("="),a=null==c?void 0:c[0],o=null==c?void 0:c[1];if(a===s)return o}return""})(),n="zh"===b.language?c:a;if(n){const e=i?`(${i})`:"";o=`${n||l(f)}${e}`,t=`${n}${e}`}else{const e=_(z,r,b.language);o=`${n||l(f)}${e}`,t=`${j(f,i,e)}`}return e=i?t:o,e};return[]}function C(e){const{t:r}=g(),{goBack:c,handleSubmit:a,isLoading:s,children:o}=e;return t.jsxs("div",{className:"\n        w-full\n        bg\n        fixed\n        flex\n        justify-end\n        left-0\n        right-0\n        bottom-0\n        py-5px\n        px-30px\n        box-border\n        shadow\n        shadow-gray-500\n    ",children:[o,t.jsx(w,{className:"mr-10px",danger:!0,onClick:c,children:r("public.back")}),t.jsx(w,{loading:!!s,type:"primary",onClick:a,children:r("public.submit")})]})}const N={content:"<h4>初始化内容</h4>",transfer:Array.from({length:20}).map((e,t)=>({key:t.toString(),title:`content${t+1}`,description:`description of content${t+1}`})).filter(e=>Number(e.key)>10).map(e=>e.key)},S="/content/article";function E(){const{t:o}=g(),{pathname:m,search:d}=h(),p=f(d,"id"),_=e.useRef(p),l=e.useRef(null),[j]=$.useForm(),[w,E]=e.useState(!1),[P,F]=e.useState(""),[T,R]=e.useState(N),[q,K]=z.useMessage(),{permissions:L}=i(),{dropScope:M}=u.useAliveController(),G=n(e=>e.closeTabGoNext),O=b(e=>e.setRefreshPage);B({fatherPath:S,zhTitle:p?"编辑文章管理":"新增文章管理",enTitle:p?"Edit Article Management":"Add Article Management"});const Z="/content/article",D={create:v(`${Z}/create`,L),update:v(`${Z}/update`,L)};e.useEffect(()=>{p?H(p):I()},[]),u.useActivate(()=>{var e;const{href:t}=window.location,r=null==(e=t.split("?")[1])?void 0:e.split("=")[1];_.current!==r&&(r?H(r):I(),_.current=r||"")});const I=()=>{F(""),R(N)},H=async e=>{try{F(e),E(!0);const{code:t,data:c}=await r(e);if(200!==Number(t))return;R(c)}finally{E(!1)}},J=e=>{var t;null==(t=l.current)||t.resetFields(),e&&O(!0),G({key:m,nextPath:S,dropScope:M})};return t.jsxs(y,{isPermission:p?D.update:D.create,children:[K,t.jsx("div",{className:"!h-[calc(100vh-98px)] ",children:t.jsx(x,{children:t.jsx("div",{className:"mb-50px",children:t.jsx(A,{spinning:w,children:t.jsx(k,{form:j,ref:l,list:c(o),data:T,labelCol:{span:5},handleFinish:async e=>{var t;try{E(!0);const r=()=>P?a(P,e):s(e),{code:c,message:i}=await r();if(200!==Number(c))return;q.success(i||o("public.successfulOperation")),null==(t=l.current)||t.resetFields(),J(!0)}finally{E(!1)}}})})})})}),t.jsx(C,{isLoading:w,goBack:()=>J(),handleSubmit:()=>{var e;null==(e=l.current)||e.submit()}})]})}export{E as default};
