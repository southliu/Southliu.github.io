import{r}from"./react@19.1.0.BqYkxQ4a.js";import{l as e}from"./lodash@4.17.21.DKG1Wmz_.js";import{i as n}from"./echarts@5.6.0.CR6xDgiN.js";const u=(u,t)=>{const c=r.useRef(null),s=r.useRef(null),l=r.useRef(null),o=()=>{var r;s.current&&(null==(r=c.current)||r.dispose(),c.current=null),l.current&&(l.current.disconnect(),l.current=null)},a=r.useCallback((()=>{u&&s.current&&(o(),c.current=n(s.current),c.current.setOption(u),l.current=new ResizeObserver(e.debounce((()=>{var r;null==(r=c.current)||r.resize({animation:{duration:500}})}),50)),l.current.observe(s.current))}),[u]);return r.useEffect((()=>{if(s.current)return a(),()=>{o()}}),[]),r.useEffect((()=>{var r;t&&c.current&&(null==(r=null==c?void 0:c.current)||r.setOption(u))}),[t,u]),[s,c.current]};export{u};
