import{q as e,r as t,a as n,_ as a,b as r,d as i,h as o}from"./@babel_runtime.d775819b.js";import{c as s}from"./classnames.71976509.js";import{C as l}from"./rc-util.b2252098.js";import{e as u,r as c}from"./react.a7da97a2.js";const p={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var h=13,m=38,g=40;const d={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};var f=function(r){e(o,r);var i=t(o);function o(){var e;n(this,o);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=i.call.apply(i,[this].concat(a))).state={goInputText:""},e.getValidValue=function(){var t=e.state.goInputText;return!t||Number.isNaN(t)?void 0:Number(t)},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,a=n.goButton,r=n.quickGo,i=n.rootPrefixCls,o=e.state.goInputText;a||""===o||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(i,"-item"))>=0)||r(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==h&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return a(o,[{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,a=t.locale,r=t.rootPrefixCls,i=t.changeSize,o=t.quickGo,s=t.goButton,l=t.selectComponentClass,c=t.buildOptionText,p=t.selectPrefixCls,h=t.disabled,m=this.state.goInputText,g="".concat(r,"-options"),d=l,f=null,v=null,x=null;if(!i&&!o)return null;var C=this.getPageSizeOptions();if(i&&d){var N=C.map((function(t,n){return u.createElement(d.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));f=u.createElement(d,{disabled:h,prefixCls:p,showSearch:!1,className:"".concat(g,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(n||C[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":a.page_size,defaultOpen:!1},N)}return o&&(s&&(x="boolean"==typeof s?u.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:h,className:"".concat(g,"-quick-jumper-button")},a.jump_to_confirm):u.createElement("span",{onClick:this.go,onKeyUp:this.go},s)),v=u.createElement("div",{className:"".concat(g,"-quick-jumper")},a.jump_to,u.createElement("input",{disabled:h,type:"text",value:m,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":a.page}),a.page,x)),u.createElement("li",{className:"".concat(g)},f,v)}}]),o}(u.Component);f.defaultProps={pageSizeOptions:["10","20","50","100"]};var v=function(e){var t,n=e.rootPrefixCls,a=e.page,i=e.active,o=e.className,l=e.showTitle,c=e.onClick,p=e.onKeyPress,h=e.itemRender,m="".concat(n,"-item"),g=s(m,"".concat(m,"-").concat(a),(r(t={},"".concat(m,"-active"),i),r(t,"".concat(m,"-disabled"),!a),r(t,e.className,o),t)),d=h(a,"page",u.createElement("a",{rel:"nofollow"},a));return d?u.createElement("li",{title:l?a.toString():null,className:g,onClick:function(){c(a)},onKeyPress:function(e){p(e,c,a)},tabIndex:0},d):null};function x(){}function C(e){var t=Number(e);return"number"==typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function N(e,t,n){var a=void 0===e?t.pageSize:e;return Math.floor((n.total-1)/a)+1}var P=function(p){e(x,p);var d=t(x);function x(e){var t;n(this,x),(t=d.call(this,e)).paginationNode=u.createRef(),t.getJumpPrevPage=function(){return Math.max(1,t.state.current-(t.props.showLessItems?3:5))},t.getJumpNextPage=function(){return Math.min(N(void 0,t.state,t.props),t.state.current+(t.props.showLessItems?3:5))},t.getItemIcon=function(e,n){var a=t.props.prefixCls,r=e||u.createElement("button",{type:"button","aria-label":n,className:"".concat(a,"-item-link")});return"function"==typeof e&&(r=u.createElement(e,i({},t.props))),r},t.isValid=function(e){var n=t.props.total;return C(e)&&e!==t.state.current&&C(n)&&n>0},t.shouldDisplayQuickJumper=function(){var e=t.props,n=e.showQuickJumper;return!(e.total<=t.state.pageSize)&&n},t.handleKeyDown=function(e){e.keyCode!==m&&e.keyCode!==g||e.preventDefault()},t.handleKeyUp=function(e){var n=t.getValidValue(e);n!==t.state.currentInputValue&&t.setState({currentInputValue:n}),e.keyCode===h?t.handleChange(n):e.keyCode===m?t.handleChange(n-1):e.keyCode===g&&t.handleChange(n+1)},t.handleBlur=function(e){var n=t.getValidValue(e);t.handleChange(n)},t.changePageSize=function(e){var n=t.state.current,a=N(e,t.state,t.props);n=n>a?a:n,0===a&&(n=t.state.current),"number"==typeof e&&("pageSize"in t.props||t.setState({pageSize:e}),"current"in t.props||t.setState({current:n,currentInputValue:n})),t.props.onShowSizeChange(n,e),"onChange"in t.props&&t.props.onChange&&t.props.onChange(n,e)},t.handleChange=function(e){var n=t.props,a=n.disabled,r=n.onChange,i=t.state,o=i.pageSize,s=i.current,l=i.currentInputValue;if(t.isValid(e)&&!a){var u=N(void 0,t.state,t.props),c=e;return e>u?c=u:e<1&&(c=1),"current"in t.props||t.setState({current:c}),c!==l&&t.setState({currentInputValue:c}),r(c,o),c}return s},t.prev=function(){t.hasPrev()&&t.handleChange(t.state.current-1)},t.next=function(){t.hasNext()&&t.handleChange(t.state.current+1)},t.jumpPrev=function(){t.handleChange(t.getJumpPrevPage())},t.jumpNext=function(){t.handleChange(t.getJumpNextPage())},t.hasPrev=function(){return t.state.current>1},t.hasNext=function(){return t.state.current<N(void 0,t.state,t.props)},t.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];t.apply(void 0,a)}},t.runIfEnterPrev=function(e){t.runIfEnter(e,t.prev)},t.runIfEnterNext=function(e){t.runIfEnter(e,t.next)},t.runIfEnterJumpPrev=function(e){t.runIfEnter(e,t.jumpPrev)},t.runIfEnterJumpNext=function(e){t.runIfEnter(e,t.jumpNext)},t.handleGoTO=function(e){e.keyCode!==h&&"click"!==e.type||t.handleChange(t.state.currentInputValue)},t.renderPrev=function(e){var n=t.props,a=n.prevIcon,r=(0,n.itemRender)(e,"prev",t.getItemIcon(a,"prev page")),i=!t.hasPrev();return c.isValidElement(r)?c.cloneElement(r,{disabled:i}):r},t.renderNext=function(e){var n=t.props,a=n.nextIcon,r=(0,n.itemRender)(e,"next",t.getItemIcon(a,"next page")),i=!t.hasNext();return c.isValidElement(r)?c.cloneElement(r,{disabled:i}):r};e.onChange;var a=e.defaultCurrent;"current"in e&&(a=e.current);var r=e.defaultPageSize;return"pageSize"in e&&(r=e.pageSize),a=Math.min(a,N(r,void 0,e)),t.state={current:a,currentInputValue:a,pageSize:r},t}return a(x,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode.current){var a,r=this.paginationNode.current.querySelector(".".concat(n,"-item-").concat(t.current));if(r&&document.activeElement===r)null==r||null===(a=r.blur)||void 0===a||a.call(r)}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=N(void 0,this.state,this.props),a=this.state.currentInputValue;return""===t?t:Number.isNaN(Number(t))?a:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,a=e.totalBoundaryShowSizeChanger;return void 0!==t?t:n>a}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,a=e.style,i=e.disabled,p=e.hideOnSinglePage,h=e.total,m=e.locale,g=e.showQuickJumper,d=e.showLessItems,x=e.showTitle,C=e.showTotal,P=e.simple,y=e.itemRender,S=e.showPrevNextJumpers,b=e.jumpPrevIcon,I=e.jumpNextIcon,E=e.selectComponentClass,k=e.selectPrefixCls,z=e.pageSizeOptions,_=this.state,w=_.current,j=_.pageSize,T=_.currentInputValue;if(!0===p&&h<=j)return null;var V=N(void 0,this.state,this.props),K=[],O=null,J=null,B=null,G=null,R=null,U=g&&g.goButton,q=d?1:2,D=w-1>0?w-1:0,M=w+1<V?w+1:V,L=l(this.props,{aria:!0,data:!0}),Q=C&&u.createElement("li",{className:"".concat(t,"-total-text")},C(h,[0===h?0:(w-1)*j+1,w*j>h?h:w*j]));if(P){U&&(R="boolean"==typeof U?u.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},m.jump_to_confirm):u.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},U),R=u.createElement("li",{title:x?"".concat(m.jump_to).concat(w,"/").concat(V):null,className:"".concat(t,"-simple-pager")},R));var A=this.renderPrev(D);return u.createElement("ul",o({className:s(t,"".concat(t,"-simple"),r({},"".concat(t,"-disabled"),i),n),style:a,ref:this.paginationNode},L),Q,A?u.createElement("li",{title:x?m.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:s("".concat(t,"-prev"),r({},"".concat(t,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},A):null,u.createElement("li",{title:x?"".concat(w,"/").concat(V):null,className:"".concat(t,"-simple-pager")},u.createElement("input",{type:"text",value:T,disabled:i,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),u.createElement("span",{className:"".concat(t,"-slash")},"/"),V),u.createElement("li",{title:x?m.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:s("".concat(t,"-next"),r({},"".concat(t,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(M)),R)}if(V<=3+2*q){var F={locale:m,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:x,itemRender:y};V||K.push(u.createElement(v,o({},F,{key:"noPager",page:1,className:"".concat(t,"-item-disabled")})));for(var W=1;W<=V;W+=1){var H=w===W;K.push(u.createElement(v,o({},F,{key:W,page:W,active:H})))}}else{var X=d?m.prev_3:m.prev_5,Y=d?m.next_3:m.next_5,Z=y(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(b,"prev page")),$=y(this.getJumpNextPage(),"jump-next",this.getItemIcon(I,"next page"));S&&(O=Z?u.createElement("li",{title:x?X:null,key:"prev",onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:s("".concat(t,"-jump-prev"),r({},"".concat(t,"-jump-prev-custom-icon"),!!b))},Z):null,J=$?u.createElement("li",{title:x?Y:null,key:"next",tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:s("".concat(t,"-jump-next"),r({},"".concat(t,"-jump-next-custom-icon"),!!I))},$):null),G=u.createElement(v,{locale:m,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:V,page:V,active:!1,showTitle:x,itemRender:y}),B=u.createElement(v,{locale:m,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:x,itemRender:y});var ee=Math.max(1,w-q),te=Math.min(w+q,V);w-1<=q&&(te=1+2*q),V-w<=q&&(ee=V-2*q);for(var ne=ee;ne<=te;ne+=1){var ae=w===ne;K.push(u.createElement(v,{locale:m,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:ne,page:ne,active:ae,showTitle:x,itemRender:y}))}w-1>=2*q&&3!==w&&(K[0]=c.cloneElement(K[0],{className:"".concat(t,"-item-after-jump-prev")}),K.unshift(O)),V-w>=2*q&&w!==V-2&&(K[K.length-1]=c.cloneElement(K[K.length-1],{className:"".concat(t,"-item-before-jump-next")}),K.push(J)),1!==ee&&K.unshift(B),te!==V&&K.push(G)}var re=!this.hasPrev()||!V,ie=!this.hasNext()||!V,oe=this.renderPrev(D),se=this.renderNext(M);return u.createElement("ul",o({className:s(t,n,r({},"".concat(t,"-disabled"),i)),style:a,ref:this.paginationNode},L),Q,oe?u.createElement("li",{title:x?m.prev_page:null,onClick:this.prev,tabIndex:re?null:0,onKeyPress:this.runIfEnterPrev,className:s("".concat(t,"-prev"),r({},"".concat(t,"-disabled"),re)),"aria-disabled":re},oe):null,K,se?u.createElement("li",{title:x?m.next_page:null,onClick:this.next,tabIndex:ie?null:0,onKeyPress:this.runIfEnterNext,className:s("".concat(t,"-next"),r({},"".concat(t,"-disabled"),ie)),"aria-disabled":ie},se):null,u.createElement(f,{disabled:i,locale:m,rootPrefixCls:t,selectComponentClass:E,selectPrefixCls:k,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:w,pageSize:j,pageSizeOptions:z,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:U}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var a=t.current,r=N(e.pageSize,t,e);a=a>r?r:a,"current"in e||(n.current=a,n.currentInputValue=a),n.pageSize=e.pageSize}return n}}]),x}(u.Component);P.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:x,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:x,locale:d,style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};export{P,d as a,p as e};
