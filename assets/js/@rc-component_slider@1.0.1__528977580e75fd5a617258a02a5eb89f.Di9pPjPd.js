import{K as e,h as t,e as n,d as a,i as r,b as l}from"./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304.BwjZ45jd.js";import{c as s}from"./clsx@2.1.1.DMqMD_4V.js";import{r as o}from"./react@19.2.3.DikTGMTS.js";import{r as c}from"./react-dom@19.2.3_react@19.2.3.CfFRTaoX.js";function u(e,t,n){return(e-t)/(n-t)}function i(e,t,n,a){const r=u(t,n,a),l={};switch(e){case"rtl":l.right="".concat(100*r,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(100*r,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(100*r,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(100*r,"%"),l.transform="translateX(-50%)"}return l}function d(e,t){return Array.isArray(e)?e[t]:e}const m=o.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),f=o.createContext({});function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}const h=o.forwardRef((t,n)=>{var a;const{prefixCls:r,value:l,valueIndex:c,onStartMove:u,onDelete:f,style:h,render:v,dragging:p,draggingDelete:b,onOffsetChange:y,onChangeComplete:x,onFocus:E,onMouseEnter:C,...k}=t,{min:M,max:S,direction:w,disabled:D,keyboard:F,range:N,tabIndex:O,ariaLabelForHandle:R,ariaLabelledByForHandle:H,ariaRequired:L,ariaValueTextFormatterForHandle:I,styles:P,classNames:T}=o.useContext(m),A="".concat(r,"-handle"),j=e=>{D||u(e,c)},B=e=>{null==E||E(e,c)},V=e=>{C(e,c)},_=t=>{if(!D&&F){let n=null;switch(t.which||t.keyCode){case e.LEFT:n="ltr"===w||"btt"===w?-1:1;break;case e.RIGHT:n="ltr"===w||"btt"===w?1:-1;break;case e.UP:n="ttb"!==w?1:-1;break;case e.DOWN:n="ttb"!==w?-1:1;break;case e.HOME:n="min";break;case e.END:n="max";break;case e.PAGE_UP:n=2;break;case e.PAGE_DOWN:n=-2;break;case e.BACKSPACE:case e.DELETE:null==f||f(c)}null!==n&&(t.preventDefault(),y(n,c))}},X=t=>{switch(t.which||t.keyCode){case e.LEFT:case e.RIGHT:case e.UP:case e.DOWN:case e.HOME:case e.END:case e.PAGE_UP:case e.PAGE_DOWN:null==x||x()}},Y=i(w,l,M,S);let G={};null!==c&&(G={tabIndex:D?null:d(O,c),role:"slider","aria-valuemin":M,"aria-valuemax":S,"aria-valuenow":l,"aria-disabled":D,"aria-label":d(R,c),"aria-labelledby":d(H,c),"aria-required":d(L,c),"aria-valuetext":null==(a=d(I,c))?void 0:a(l),"aria-orientation":"ltr"===w||"rtl"===w?"horizontal":"vertical",onMouseDown:j,onTouchStart:j,onFocus:B,onMouseEnter:V,onKeyDown:_,onKeyUp:X});let U=o.createElement("div",g({ref:n,className:s(A,{["".concat(A,"-").concat(c+1)]:null!==c&&N,["".concat(A,"-dragging")]:p,["".concat(A,"-dragging-delete")]:b},T.handle),style:{...Y,...h,...P.handle}},G,k));return v&&(U=v(U,{index:c,prefixCls:r,value:l,dragging:p,draggingDelete:b})),U});function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}const p=o.forwardRef((e,t)=>{const{prefixCls:n,style:a,onStartMove:r,onOffsetChange:l,values:s,handleRender:u,activeHandleRender:i,draggingIndex:m,draggingDelete:f,onFocus:g,...p}=e,b=o.useRef({}),[y,x]=o.useState(!1),[E,C]=o.useState(-1),k=e=>{C(e),x(!0)};o.useImperativeHandle(t,()=>({focus:e=>{var t;null==(t=b.current[e])||t.focus()},hideHelp:()=>{c.flushSync(()=>{x(!1)})}}));const M={prefixCls:n,onStartMove:r,onOffsetChange:l,render:u,onFocus:(e,t)=>{k(t),null==g||g(e)},onMouseEnter:(e,t)=>{k(t)},...p};return o.createElement(o.Fragment,null,s.map((e,t)=>{const n=m===t;return o.createElement(h,v({ref:e=>{e?b.current[t]=e:delete b.current[t]},dragging:n,draggingDelete:n&&f,style:d(a,t),key:t,value:e,valueIndex:t},M))}),i&&y&&o.createElement(h,v({key:"a11y"},M,{value:s[E],valueIndex:null,dragging:-1!==m,draggingDelete:f,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),b=e=>{const{prefixCls:t,style:n,children:a,value:r,onClick:l}=e,{min:c,max:u,direction:d,includedStart:f,includedEnd:g,included:h}=o.useContext(m),v="".concat(t,"-text"),p=i(d,r,c,u);return o.createElement("span",{className:s(v,{["".concat(v,"-active")]:h&&f<=r&&r<=g}),style:{...p,...n},onMouseDown:e=>{e.stopPropagation()},onClick:()=>{l(r)}},a)},y=e=>{const{prefixCls:t,marks:n,onClick:a}=e,r="".concat(t,"-mark");return n.length?o.createElement("div",{className:r},n.map(({value:e,style:t,label:n})=>o.createElement(b,{key:e,prefixCls:r,style:t,value:e,onClick:a},n))):null},x=e=>{const{prefixCls:t,value:n,style:a,activeStyle:r}=e,{min:l,max:c,direction:u,included:d,includedStart:f,includedEnd:g}=o.useContext(m),h="".concat(t,"-dot"),v=d&&f<=n&&n<=g;let p={...i(u,n,l,c),..."function"==typeof a?a(n):a};return v&&(p={...p,..."function"==typeof r?r(n):r}),o.createElement("span",{className:s(h,{["".concat(h,"-active")]:v}),style:p})},E=e=>{const{prefixCls:t,marks:n,dots:a,style:r,activeStyle:l}=e,{min:s,max:c,step:u}=o.useContext(m),i=o.useMemo(()=>{const e=new Set;if(n.forEach(t=>{e.add(t.value)}),a&&null!==u){let t=s;for(;t<=c;)e.add(t),t+=u}return Array.from(e)},[s,c,u,a,n]);return o.createElement("div",{className:"".concat(t,"-step")},i.map(e=>o.createElement(x,{prefixCls:t,key:e,value:e,style:r,activeStyle:l})))},C=e=>{const{prefixCls:t,style:n,start:a,end:r,index:l,onStartMove:c,replaceCls:i}=e,{direction:d,min:f,max:g,disabled:h,range:v,classNames:p}=o.useContext(m),b="".concat(t,"-track"),y=u(a,f,g),x=u(r,f,g),E=e=>{!h&&c&&c(e,-1)},C={};switch(d){case"rtl":C.right="".concat(100*y,"%"),C.width="".concat(100*x-100*y,"%");break;case"btt":C.bottom="".concat(100*y,"%"),C.height="".concat(100*x-100*y,"%");break;case"ttb":C.top="".concat(100*y,"%"),C.height="".concat(100*x-100*y,"%");break;default:C.left="".concat(100*y,"%"),C.width="".concat(100*x-100*y,"%")}const k=i||s(b,{["".concat(b,"-").concat(l+1)]:null!==l&&v,["".concat(t,"-track-draggable")]:c},p.track);return o.createElement("div",{className:k,style:{...C,...n},onMouseDown:E,onTouchStart:E})},k=e=>{const{prefixCls:t,style:n,values:a,startPoint:r,onStartMove:l}=e,{included:c,range:u,min:i,styles:f,classNames:g}=o.useContext(m),h=o.useMemo(()=>{if(!u){if(0===a.length)return[];const e=null!=r?r:i,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}const e=[];for(let t=0;t<a.length-1;t+=1)e.push({start:a[t],end:a[t+1]});return e},[a,u,r,i]);if(!c)return null;const v=(null==h?void 0:h.length)&&(g.tracks||f.tracks)?o.createElement(C,{index:null,prefixCls:t,start:h[0].start,end:h[h.length-1].end,replaceCls:s(g.tracks,"".concat(t,"-tracks")),style:f.tracks}):null;return o.createElement(o.Fragment,null,v,h.map(({start:e,end:a},r)=>o.createElement(C,{index:r,prefixCls:t,style:{...d(n,r),...f.track},start:e,end:a,key:r,onStartMove:l})))};function M(e){const t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const S=o.forwardRef((e,c)=>{const{prefixCls:u="rc-slider",className:i,style:d,classNames:g,styles:h,id:v,disabled:b=!1,keyboard:x=!0,autoFocus:C,onFocus:S,onBlur:w,min:D=0,max:F=100,step:N=1,value:O,defaultValue:R,range:H,count:L,onChange:I,onBeforeChange:P,onAfterChange:T,onChangeComplete:A,allowCross:j=!0,pushable:B=!1,reverse:V,vertical:_,included:X=!0,startPoint:Y,trackStyle:G,handleStyle:U,railStyle:q,dotStyle:K,activeDotStyle:W,marks:z,dots:J,handleRender:Q,activeHandleRender:Z,track:$,tabIndex:ee=0,ariaLabelForHandle:te,ariaLabelledByForHandle:ne,ariaRequired:ae,ariaValueTextFormatterForHandle:re}=e,le=o.useRef(null),se=o.useRef(null),oe=o.useMemo(()=>_?V?"ttb":"btt":V?"rtl":"ltr",[V,_]),[ce,ue,ie,de,me]=function(e){return o.useMemo(()=>{if(!0===e||!e)return[!!e,!1,!1,0];const{editable:t,draggableTrack:n,minCount:a,maxCount:r}=e;return[!0,t,!t&&n,a||0,r]},[e])}(H),fe=o.useMemo(()=>isFinite(D)?D:0,[D]),ge=o.useMemo(()=>isFinite(F)?F:100,[F]),he=o.useMemo(()=>null!==N&&N<=0?1:N,[N]),ve=o.useMemo(()=>"boolean"==typeof B?!!B&&he:B>=0&&B,[B,he]),pe=o.useMemo(()=>Object.keys(z||{}).map(e=>{const t=z[e],n={value:Number(e)};return t&&"object"==typeof t&&!o.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(({label:e})=>e||"number"==typeof e).sort((e,t)=>e.value-t.value),[z]),[be,ye]=function(e,t,n,a,r,l){const s=o.useCallback(n=>Math.max(e,Math.min(t,n)),[e,t]),c=o.useCallback(a=>{if(null!==n){const r=e+Math.round((s(a)-e)/n)*n,l=e=>(String(e).split(".")[1]||"").length,o=Math.max(l(n),l(t),l(e)),c=Number(r.toFixed(o));return e<=c&&c<=t?c:null}return null},[n,e,t,s]),u=o.useCallback(r=>{const l=s(r),o=a.map(e=>e.value);null!==n&&o.push(c(r)),o.push(e,t);let u=o[0],i=t-e;return o.forEach(e=>{const t=Math.abs(l-e);t<=i&&(u=e,i=t)}),u},[e,t,a,n,s,c]),i=(r,l,s,o="unit")=>{if("number"==typeof l){let u;const d=r[s],m=d+l;let f=[];a.forEach(e=>{f.push(e.value)}),f.push(e,t),f.push(c(d));const g=l>0?1:-1;"unit"===o?f.push(c(d+g*n)):f.push(c(m)),f=f.filter(e=>null!==e).filter(e=>l<0?e<=d:e>=d),"unit"===o&&(f=f.filter(e=>e!==d));const h="unit"===o?d:m;u=f[0];let v=Math.abs(u-h);if(f.forEach(e=>{const t=Math.abs(e-h);t<v&&(u=e,v=t)}),void 0===u)return l<0?e:t;if("dist"===o)return u;if(Math.abs(l)>1){const e=[...r];return e[s]=u,i(e,l-g,s,o)}return u}return"min"===l?e:"max"===l?t:void 0},d=(e,t,n,a="unit")=>{const r=e[n],l=i(e,t,n,a);return{value:l,changed:l!==r}},m=e=>null===l&&0===e||"number"==typeof l&&e<l;return[u,(e,t,n,a="unit")=>{const s=e.map(u),o=s[n],c=i(s,t,n,a);if(s[n]=c,!1===r){const e=l||0;n>0&&s[n-1]!==o&&(s[n]=Math.max(s[n],s[n-1]+e)),n<s.length-1&&s[n+1]!==o&&(s[n]=Math.min(s[n],s[n+1]-e))}else if("number"==typeof l||null===l){for(let e=n+1;e<s.length;e+=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e],changed:t}=d(s,1,e))}for(let e=n;e>0;e-=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e-1],changed:t}=d(s,-1,e-1))}for(let e=s.length-1;e>0;e-=1){let t=!0;for(;m(s[e]-s[e-1])&&t;)({value:s[e-1],changed:t}=d(s,-1,e-1))}for(let e=0;e<s.length-1;e+=1){let t=!0;for(;m(s[e+1]-s[e])&&t;)({value:s[e+1],changed:t}=d(s,1,e+1))}}return{value:s[n],values:s}}]}(fe,ge,he,pe,j,ve),[xe,Ee]=a(R,O),Ce=o.useMemo(()=>{var e;const t=null==xe?[]:Array.isArray(xe)?xe:[xe],[n=fe]=t;let a=null===xe?[]:[n];if(ce){if(a=[...t],L||void 0===xe){const t=L>=0?L+1:2;for(a=a.slice(0,t);a.length<t;)a.push(null!=(e=a[a.length-1])?e:fe)}a.sort((e,t)=>e-t)}return a.forEach((e,t)=>{a[t]=be(e)}),a},[xe,ce,fe,L,be]),ke=e=>ce?e:e[0],Me=n(e=>{const t=[...e].sort((e,t)=>e-t);I&&!r(t,Ce,!0)&&I(ke(t)),Ee(t)}),Se=n(e=>{e&&le.current.hideHelp();const t=ke(Ce);null==T||T(t),l(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==A||A(t)}),[we,De,Fe,Ne,Oe]=function(e,a,r,l,s,c,u,i,d,m,g){const[h,v]=o.useState(null),[p,b]=o.useState(-1),[y,x]=o.useState(!1),[E,C]=o.useState(r),[k,S]=o.useState(r),w=o.useRef(null),D=o.useRef(null),F=o.useRef(null),{onDragStart:N,onDragChange:O}=o.useContext(f);t(()=>{-1===p&&C(r)},[r,p]),o.useEffect(()=>()=>{document.removeEventListener("mousemove",w.current),document.removeEventListener("mouseup",D.current),F.current&&(F.current.removeEventListener("touchmove",w.current),F.current.removeEventListener("touchend",D.current))},[]);const R=(e,t,n)=>{void 0!==t&&v(t),C(e);let a=e;n&&(a=e.filter((e,t)=>t!==p)),u(a),O&&O({rawValues:e,deleteIndex:n?p:-1,draggingIndex:p,draggingValue:t})},H=n((e,t,n)=>{if(-1===e){const e=k[0],n=k[k.length-1],a=l-e,r=s-n;let o=t*(s-l);o=Math.max(o,a),o=Math.min(o,r);const u=c(e+o);o=u-e;const i=k.map(e=>e+o);R(i)}else{const a=(s-l)*t,r=[...E];r[e]=k[e];const o=d(r,a,e,"dist");R(o.values,o.value,n)}}),L=o.useMemo(()=>{const e=[...r].sort((e,t)=>e-t),t=[...E].sort((e,t)=>e-t),n={};t.forEach(e=>{n[e]=(n[e]||0)+1}),e.forEach(e=>{n[e]=(n[e]||0)-1});const a=m?1:0;return Object.values(n).reduce((e,t)=>e+Math.abs(t),0)<=a?E:r},[r,E,m]);return[p,h,y,L,(t,n,l)=>{t.stopPropagation();const s=l||r,o=s[n];b(n),v(o),S(s),C(s),x(!1);const{pageX:c,pageY:u}=M(t);let d=!1;N&&N({rawValues:s,draggingIndex:n,draggingValue:o});const f=t=>{t.preventDefault();const{pageX:r,pageY:l}=M(t),s=r-c,o=l-u,{width:i,height:f}=e.current.getBoundingClientRect();let h,v;switch(a){case"btt":h=-o/f,v=s;break;case"ttb":h=o/f,v=s;break;case"rtl":h=-s/i,v=o;break;default:h=s/i,v=o}d=!!m&&Math.abs(v)>130&&g<E.length,x(d),H(n,h,d)},h=e=>{e.preventDefault(),document.removeEventListener("mouseup",h),document.removeEventListener("mousemove",f),F.current&&(F.current.removeEventListener("touchmove",w.current),F.current.removeEventListener("touchend",D.current)),w.current=null,D.current=null,F.current=null,i(d),b(-1),x(!1)};document.addEventListener("mouseup",h),document.addEventListener("mousemove",f),t.currentTarget.addEventListener("touchend",h),t.currentTarget.addEventListener("touchmove",f),w.current=f,D.current=h,F.current=t.currentTarget}]}(se,oe,Ce,fe,ge,be,Me,Se,ye,ue,de),Re=(e,t)=>{var n,a;if(!b){const r=[...Ce];let s=0,o=0,c=ge-fe;Ce.forEach((t,n)=>{const a=Math.abs(e-t);a<=c&&(c=a,s=n),t<e&&(o=n)});let u=s;ue&&0!==c&&(!me||Ce.length<me)?(r.splice(o+1,0,e),u=o+1):r[s]=e,ce&&!Ce.length&&void 0===L&&r.push(e);const i=ke(r);null==P||P(i),Me(r),t?(null==(a=null==(n=document.activeElement)?void 0:n.blur)||a.call(n),le.current.focus(u),Oe(t,u,r)):(null==T||T(i),l(!T,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null==A||A(i))}},[He,Le]=o.useState(null);o.useEffect(()=>{if(null!==He){const e=Ce.indexOf(He);e>=0&&le.current.focus(e)}Le(null)},[He]);const Ie=o.useMemo(()=>(!ie||null!==he)&&ie,[ie,he]),Pe=n((e,t)=>{Oe(e,t),null==P||P(ke(Ce))}),Te=-1!==we;o.useEffect(()=>{if(!Te){const e=Ce.lastIndexOf(De);le.current.focus(e)}},[Te]);const Ae=o.useMemo(()=>[...Ne].sort((e,t)=>e-t),[Ne]),[je,Be]=o.useMemo(()=>ce?[Ae[0],Ae[Ae.length-1]]:[fe,Ae[0]],[Ae,ce,fe]);o.useImperativeHandle(c,()=>({focus:()=>{le.current.focus(0)},blur:()=>{var e;const{activeElement:t}=document;(null==(e=se.current)?void 0:e.contains(t))&&(null==t||t.blur())}})),o.useEffect(()=>{C&&le.current.focus(0)},[]);const Ve=o.useMemo(()=>({min:fe,max:ge,direction:oe,disabled:b,keyboard:x,step:he,included:X,includedStart:je,includedEnd:Be,range:ce,tabIndex:ee,ariaLabelForHandle:te,ariaLabelledByForHandle:ne,ariaRequired:ae,ariaValueTextFormatterForHandle:re,styles:h||{},classNames:g||{}}),[fe,ge,oe,b,x,he,X,je,Be,ce,ee,te,ne,ae,re,h,g]);return o.createElement(m.Provider,{value:Ve},o.createElement("div",{ref:se,className:s(u,i,{["".concat(u,"-disabled")]:b,["".concat(u,"-vertical")]:_,["".concat(u,"-horizontal")]:!_,["".concat(u,"-with-marks")]:pe.length}),style:d,onMouseDown:e=>{e.preventDefault();const{width:t,height:n,left:a,top:r,bottom:l,right:s}=se.current.getBoundingClientRect(),{clientX:o,clientY:c}=e;let u;switch(oe){case"btt":u=(l-c)/n;break;case"ttb":u=(c-r)/n;break;case"rtl":u=(s-o)/t;break;default:u=(o-a)/t}Re(be(fe+u*(ge-fe)),e)},id:v},o.createElement("div",{className:s("".concat(u,"-rail"),null==g?void 0:g.rail),style:{...q,...null==h?void 0:h.rail}}),!1!==$&&o.createElement(k,{prefixCls:u,style:G,values:Ce,startPoint:Y,onStartMove:Ie?Pe:void 0}),o.createElement(E,{prefixCls:u,marks:pe,dots:J,style:K,activeStyle:W}),o.createElement(p,{ref:le,prefixCls:u,style:U,values:Ne,draggingIndex:we,draggingDelete:Fe,onStartMove:Pe,onOffsetChange:(e,t)=>{if(!b){const n=ye(Ce,e,t);null==P||P(ke(Ce)),Me(n.values),Le(n.value)}},onFocus:S,onBlur:w,handleRender:Q,activeHandleRender:Z,onChangeComplete:Se,onDelete:ue?e=>{if(b||!ue||Ce.length<=de)return;const t=[...Ce];t.splice(e,1),null==P||P(ke(t)),Me(t);const n=Math.max(0,e-1);le.current.hideHelp(),le.current.focus(n)}:void 0}),o.createElement(y,{prefixCls:u,marks:pe,onClick:Re})))});export{S,f as U};
