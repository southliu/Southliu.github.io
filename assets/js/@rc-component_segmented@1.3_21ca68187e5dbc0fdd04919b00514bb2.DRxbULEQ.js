import{i as t}from"./@babel_runtime@7.28.4.CxDHAbvQ.js";import{h as e,m as l,d as n,B as a}from"./@rc-component_util@1.7.0_re_97ed4941f5d27d044aa2ecbc4a75f304.4n28hD7h.js";import{c as o}from"./clsx@2.1.1.DMqMD_4V.js";import{r as i}from"./react@19.2.3.DikTGMTS.js";import{C as r}from"./@rc-component_motion@1.1.6__75bed58c5aa0279623e804b6e3100d82.CHs99PZw.js";const s=(t,e)=>{if(!t)return null;const l={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return e?{left:0,right:0,width:0,top:l.top,bottom:l.bottom,height:l.height}:{left:l.left,right:l.right,width:l.width,top:0,bottom:0,height:0}},c=t=>void 0!==t?"".concat(t,"px"):void 0;function u(t){const{prefixCls:n,containerRef:a,value:u,getValueIndex:m,motionName:d,onMotionStart:h,onMotionEnd:v,direction:f,vertical:b=!1}=t,p=i.useRef(null),[g,w]=i.useState(u),y=t=>{var e;const l=m(t),o=null==(e=a.current)?void 0:e.querySelectorAll(".".concat(n,"-item"))[l];return(null==o?void 0:o.offsetParent)&&o},[N,x]=i.useState(null),[E,S]=i.useState(null);e(()=>{if(g!==u){const t=y(g),e=y(u),l=s(t,b),n=s(e,b);w(u),x(l),S(n),t&&e?h():v()}},[u]);const C=i.useMemo(()=>{var t;return c(b?null!=(t=null==N?void 0:N.top)?t:0:"rtl"===f?-(null==N?void 0:N.right):null==N?void 0:N.left)},[b,f,N]),M=i.useMemo(()=>{var t;return c(b?null!=(t=null==E?void 0:E.top)?t:0:"rtl"===f?-(null==E?void 0:E.right):null==E?void 0:E.left)},[b,f,E]);return N&&E?i.createElement(r,{visible:!0,motionName:d,motionAppear:!0,onAppearStart:()=>b?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"},onAppearActive:()=>b?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"},onVisibleChanged:()=>{x(null),S(null),v()}},({className:t,style:e},a)=>{const r={...e,"--thumb-start-left":C,"--thumb-start-width":c(null==N?void 0:N.width),"--thumb-active-left":M,"--thumb-active-width":c(null==E?void 0:E.width),"--thumb-start-top":C,"--thumb-start-height":c(null==N?void 0:N.height),"--thumb-active-top":M,"--thumb-active-height":c(null==E?void 0:E.height)},s={ref:l(p,a),style:r,className:o("".concat(n,"-thumb"),t)};return i.createElement("div",s)}):null}const m=({prefixCls:t,className:e,style:l,styles:n,classNames:a,data:r,disabled:s,checked:c,label:u,title:m,value:d,name:h,onChange:v,onFocus:f,onBlur:b,onKeyDown:p,onKeyUp:g,onMouseDown:w,itemRender:y=t=>t})=>y(i.createElement("label",{className:o(e,{["".concat(t,"-item-disabled")]:s}),style:l,onMouseDown:w},i.createElement("input",{name:h,className:"".concat(t,"-item-input"),type:"radio",disabled:s,checked:c,onChange:t=>{s||v(t,d)},onFocus:f,onBlur:b,onKeyDown:p,onKeyUp:g}),i.createElement("div",{className:o("".concat(t,"-item-label"),null==a?void 0:a.label),title:m,style:null==n?void 0:n.label},u)),{item:r}),d=i.forwardRef((e,r)=>{var s;const{prefixCls:c="rc-segmented",direction:d,vertical:h,options:v=[],disabled:f,defaultValue:b,value:p,name:g,onChange:w,className:y="",style:N,styles:x,classNames:E,motionName:S="thumb-motion",itemRender:C,...M}=e,A=i.useRef(null),R=i.useMemo(()=>l(A,r),[A,r]),j=i.useMemo(()=>function(t){return t.map(t=>{if("object"==typeof t&&null!==t){const e=function(t){var e;return void 0!==t.title?t.title:"object"!=typeof t.label?null==(e=t.label)?void 0:e.toString():void 0}(t);return{...t,title:e}}return{label:null==t?void 0:t.toString(),title:null==t?void 0:t.toString(),value:t}})}(v),[v]),[k,D]=n(null!=b?b:null==(s=j[0])?void 0:s.value,p),[_,K]=i.useState(!1),I=(t,e)=>{D(e),null==w||w(e)},B=a(M,["children"]),[T,U]=i.useState(!1),[V,F]=i.useState(!1),H=()=>{F(!0)},L=()=>{F(!1)},W=()=>{U(!1)},X=t=>{"Tab"===t.key&&U(!0)},Y=t=>{const e=j.findIndex(t=>t.value===k),l=j.length,n=j[(e+t+l)%l];n&&(D(n.value),null==w||w(n.value))},q=t=>{switch(t.key){case"ArrowLeft":case"ArrowUp":Y(-1);break;case"ArrowRight":case"ArrowDown":Y(1)}};return i.createElement("div",t({role:"radiogroup","aria-label":"segmented control",tabIndex:f?void 0:0,"aria-orientation":h?"vertical":"horizontal",style:N},B,{className:o(c,{["".concat(c,"-rtl")]:"rtl"===d,["".concat(c,"-disabled")]:f,["".concat(c,"-vertical")]:h},y),ref:R}),i.createElement("div",{className:"".concat(c,"-group")},i.createElement(u,{vertical:h,prefixCls:c,value:k,containerRef:A,motionName:"".concat(c,"-").concat(S),direction:d,getValueIndex:t=>j.findIndex(e=>e.value===t),onMotionStart:()=>{K(!0)},onMotionEnd:()=>{K(!1)}}),j.map(e=>{const{value:l,disabled:n}=e;return i.createElement(m,t({},e,{name:g,data:e,itemRender:C,key:l,prefixCls:c,className:o(e.className,"".concat(c,"-item"),null==E?void 0:E.item,{["".concat(c,"-item-selected")]:l===k&&!_,["".concat(c,"-item-focused")]:V&&T&&l===k}),style:null==x?void 0:x.item,classNames:E,styles:x,checked:l===k,onChange:I,onFocus:H,onBlur:L,onKeyDown:q,onKeyUp:X,onMouseDown:W,disabled:!!f||!!n}))})))});export{d as T};
