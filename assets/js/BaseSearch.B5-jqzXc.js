import{r as e,j as s}from"./react@19.2.1.BpVBN_43.js";import{h as a,b as l,g as t,f as i,a as r}from"./helper.C_zKYIgi.js";import"./BaseTimeRangePicker.BZI--ryT.js";import{a as n}from"./index.8JWnWKgp.js";import{u as o}from"./react-i18next@16.3.5_i18nex_6a04c68a8718b5368fbd4a4a7e2f7a39.6o9hkwuZ.js";import{F as d,B as c,m,h as p}from"./antd@6.0.1_react-dom@19.2.1_react@19.2.1__react@19.2.1.DBoZh3Bz.js";import{h,E as f,i as x}from"./@ant-design_icons@6.1.0_rea_8404c2c1425faef9f07b31b9cbb69cb5.DQsWeA2i.js";const u=u=>{const{ref:b,list:j,data:g,initialValues:C,isLoading:w,isSearch:y=!0,isReset:N=!0,isRowExpand:v=!0,type:F="default",style:_,className:k,children:E,labelCol:R,wrapperCol:P,defaultColCount:S=4,defaultRowExpand:W=2,handleFinish:$}=u,{t:B}=o(),{isPhone:V}=n(),[I]=d.useForm(),[L,T]=e.useState(!1),[z,M]=e.useState(!0),O=e.useMemo(()=>{if(!v)return!1;return S*W<j.length},[S,W,v,j.length]);e.useEffect(()=>{try{Object.keys(g).length&&z&&(M(!1),I.setFieldsValue({...g}))}catch(e){}},[g,I,z]);const q={...u};delete q.type,delete q.isSearch,delete q.isReset,delete q.isLoading,delete q.handleFinish;const A=e=>e?.labelWidth?{style:{width:e.labelWidth}}:e?.labelCol?e.labelCol:R||("grid"!==F||V?void 0:{span:6}),D=e=>e?.wrapperWidth?{style:{width:e.wrapperWidth}}:e?.wrapperCol?e.wrapperCol:P||("grid"!==F||V?void 0:{span:18}),G=s.jsxs("div",{className:"flex items-center flex-wrap gap-10px",children:[!!y&&s.jsx(c,{type:"primary",htmlType:"submit",className:"!mb-5px "+(V?"mr-5px":""),loading:w,icon:s.jsx(h,{}),children:B("public.search")}),!!N&&s.jsx(c,{className:"!mb-5px "+(V?"mr-5px":""),icon:s.jsx(f,{}),onClick:()=>{I?.resetFields(),I?.setFieldsValue(C?{...C}:{}),I?.submit()},children:B("public.reset")}),E&&s.jsx("div",{className:"!mb-5px "+(V?"mr-5px":""),children:E}),"grid"===F&&!!O&&s.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{T(!L)},children:[s.jsx(x,{rotate:L?180:0}),L?"收缩":"展开"]})]});return s.jsx("div",{id:"searches",style:_,className:k,children:s.jsxs(d,{layout:V?"horizontal":"inline",...q,ref:b,form:I,onFinish:e=>{if($){let s=i(e,j);s=r(s),$?.(s)}},onFinishFailed:e=>{},autoComplete:"off",children:["default"===F&&s.jsxs(s.Fragment,{children:[j?.map(s=>e.createElement(d.Item,{...l(s),key:`${s.name}`,className:`${s?.className||""} !mb-5px`,labelCol:A(s),wrapperCol:D(s),valuePropName:a(s.component)},t(B,s,I))),G]}),"grid"===F&&s.jsxs(m,{wrap:!0,className:"w-full",children:[(e=>{if(!O)return e;const s=S*W;for(let a=0;a<e.length;a++){const l=e[a];a<s?l.hidden=!1:l.hidden=!L}return e})(j)?.map(e=>s.jsx("div",{style:{width:e.hidden?0:100/(V?1:S)+"%"},children:s.jsx(d.Item,{...l(e),className:`${e?.className||""} !mb-5px`,labelCol:A(e),wrapperCol:D(e),valuePropName:a(e.component),children:t(B,e,I)})},`${e.name}`)),s.jsx(p,{flex:j?.length%S===0||O?"auto":void 0,children:s.jsx(m,{justify:"flex-end",children:G})})]})]})})};export{u as B};
