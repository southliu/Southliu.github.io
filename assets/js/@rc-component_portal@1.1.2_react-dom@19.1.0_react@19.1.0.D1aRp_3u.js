import{h as t,j as n}from"./@babel_runtime@7.27.0.Bt-OOtGO.js";import{r as e}from"./react@19.1.0.C7ehVy-W.js";import{r}from"./react-dom@19.1.0_react@19.1.0.BAIWZmk7.js";import{c as o,a as u,f as c,b as a,r as i,s as l,h as f}from"./rc-util@5.44.4_react-dom@19.1.0_react@19.1.0.C-eVp6KQ.js";var d=e.createContext(null),s=[];var m="rc-util-locker-".concat(Date.now()),v=0;function h(n){var r=!!n,o=e.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),l=t(o,1)[0];u((function(){if(r){var t=c(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(t,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}}),[r,l])}var p=function(t){return!1!==t&&(o()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},y=e.forwardRef((function(c,a){var i=c.open,m=c.autoLock,v=c.getContainer;c.debug;var y=c.autoDestroy,b=void 0===y||y,w=c.children,E=e.useState(i),g=t(E,2),S=g[0],j=g[1],C=S||i;e.useEffect((function(){(b||i)&&j(i)}),[i,b]);var _=e.useState((function(){return p(v)})),x=t(_,2),H=x[0],P=x[1];e.useEffect((function(){var t=p(v);P(null!=t?t:null)}));var k=function(r){var c=e.useState((function(){return o()?document.createElement("div"):null})),a=t(c,1)[0],i=e.useRef(!1),l=e.useContext(d),f=e.useState(s),m=t(f,2),v=m[0],h=m[1],p=l||(i.current?void 0:function(t){h((function(e){return[t].concat(n(e))}))});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function b(){var t;null===(t=a.parentElement)||void 0===t||t.removeChild(a),i.current=!1}return u((function(){return r?l?l(y):y():b(),b}),[r]),u((function(){v.length&&(v.forEach((function(t){return t()})),h(s))}),[v]),[a,p]}(C&&!H),D=t(k,2),R=D[0],W=D[1],q=null!=H?H:R;h(m&&i&&o()&&(q===R||q===document.body));var L=null;w&&l(w)&&a&&(L=w.ref);var z=f(L,a);if(!C||!o()||void 0===H)return null;var A=!1===q||!1,B=w;return a&&(B=e.cloneElement(w,{ref:z})),e.createElement(d.Provider,{value:W},A?B:r.createPortal(B,q))}));export{y as P};
