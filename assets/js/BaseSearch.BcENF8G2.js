import{r as e,j as l}from"./react@19.0.0.C56gzhl-.js";import{h as s,e as a,d as t,f as i,c as r}from"./componentMap.WOYhJW1D.js";import{u as n}from"./index.DAwlxFRL.js";import{u as o}from"./react-i18next@15.4.1_i18next@24.2.2_react-dom@19.0.0_react@19.0.0.DEG04gY2.js";import{F as d,B as c,f as m,e as p}from"./antd@5.24.2_react-dom@19.0.0_react@19.0.0.DP8nNN8r.js";import{g as h,X as u,h as x}from"./@ant-design_icons@5.6.1_react-dom@19.0.0_react@19.0.0.B2BJFgPM.js";const f=e.forwardRef(((f,j)=>{var v;const{list:b,data:C,initSearch:w,isLoading:g,isSearch:y=!0,isClear:N=!0,isRowExpand:F=!0,type:_="default",style:S,className:E,children:I,labelCol:k,wrapperCol:W,defaultColCount:$=4,defaultRowExpand:P=2,handleFinish:R}=f,{t:B}=o(),{isPhone:L}=n(),[V]=d.useForm(),[z,M]=e.useState(!1),[O,T]=e.useState(!0),[X,q]=e.useState(F);e.useEffect((()=>{if(q(F),F){q($*P<b.length)}}),[$,P,F,b.length]),e.useEffect((()=>{try{Object.keys(C).length&&(T(!1),V.setFieldsValue({...C}))}catch(e){}}),[C,V,O]);const A={...f};delete A.type,delete A.isSearch,delete A.isClear,delete A.isLoading,delete A.initSearch,delete A.handleFinish;const D=()=>{null==V||V.submit()},G=e=>(null==e?void 0:e.labelWidth)?{style:{width:e.labelWidth}}:(null==e?void 0:e.labelCol)?e.labelCol:k||("grid"!==_||L?void 0:{span:6}),H=e=>(null==e?void 0:e.wrapperWidth)?{style:{width:e.wrapperWidth}}:(null==e?void 0:e.wrapperCol)?e.wrapperCol:W||("grid"!==_||L?void 0:{span:18}),J=l.jsxs("div",{className:"flex items-center flex-wrap",children:[!!y&&l.jsx(d.Item,{children:l.jsx(c,{type:"primary",htmlType:"submit",className:"!mb-5px "+(L?"mr-5px":""),loading:g,icon:l.jsx(h,{}),children:B("public.search")})}),!!N&&l.jsx(d.Item,{children:l.jsx(c,{className:"!mb-5px "+(L?"mr-5px":""),icon:l.jsx(u,{}),onClick:()=>{null==V||V.resetFields(),null==V||V.setFieldsValue(w?{...w}:{}),null==V||V.submit()},children:B("public.clear")})}),I&&l.jsx(d.Item,{children:l.jsx("div",{className:"!mb-5px "+(L?"mr-5px":""),children:I})}),"grid"===_&&!L&&!!X&&l.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{M(!z)},children:[l.jsx(x,{rotate:z?180:0}),z?"收缩":"展开"]})]});return l.jsx("div",{id:"searches",style:S,className:E,children:l.jsxs(d,{layout:L?"horizontal":"inline",...A,ref:j,form:V,onFinish:e=>{if(R){let l=i(e,b);l=r(l),null==R||R(l)}},onFinishFailed:e=>{},autoComplete:"off",children:[("default"===_||L)&&l.jsxs(l.Fragment,{children:[null==b?void 0:b.map((l=>e.createElement(d.Item,{...a(l),key:`${l.name}`,className:`${(null==l?void 0:l.className)||""} !mb-5px`,labelCol:G(l),wrapperCol:H(l),valuePropName:s(l.component)},t(B,l,D)))),J]}),"grid"===_&&!L&&l.jsxs(m,{wrap:!0,className:"w-full",children:[null==(v=(e=>{if(!X)return e;const l=$*P;for(let s=0;s<e.length;s++){const a=e[s];s<l?a.hidden=!1:a.hidden=!z}return e})(b))?void 0:v.map((e=>l.jsx("div",{style:{width:e.hidden?0:100/$+"%"},children:l.jsx(d.Item,{...a(e),className:`${(null==e?void 0:e.className)||""} !mb-5px`,labelCol:G(e),wrapperCol:H(e),valuePropName:s(e.component),children:t(B,e,D)})},`${e.name}`))),l.jsx(p,{flex:(null==b?void 0:b.length)%$==0||X?"auto":void 0,children:l.jsx(m,{justify:"flex-end",children:J})})]})]})})}));export{f as B};
