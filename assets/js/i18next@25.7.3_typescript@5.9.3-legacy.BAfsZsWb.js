!function(){function e(e){return function(e){if(Array.isArray(e))return p(e)}(e)||t(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function n(e,t,n){return t=i(t),r(e,o()?Reflect.construct(t,n||[],i(e).constructor):t.apply(e,n))}function r(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){return f(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){if(Array.isArray(e))return e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}System.register([],function(o,i){"use strict";return{execute:function(){var i=function(e){return"string"==typeof e},s=function(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n},d=function(e){return null==e?"":""+e},m=/###/g,k=function(e){return e&&e.indexOf("###")>-1?e.replace(m,"."):e},x=function(e){return!e||i(e)},S=function(e,t,n){for(var r=i(t)?t.split("."):t,o=0;o<r.length-1;){if(x(e))return{};var a=k(r[o]);!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{},++o}return x(e)?{}:{obj:e,k:k(r[o])}},O=function(e,t,n){var r=S(e,t,Object),o=r.obj,i=r.k;if(void 0===o&&1!==t.length){for(var a=t[t.length-1],s=t.slice(0,t.length-1),l=S(e,s,Object);void 0===l.obj&&s.length;){var u;a="".concat(s[s.length-1],".").concat(a),s=s.slice(0,s.length-1),null!==(u=l=S(e,s,Object))&&void 0!==u&&u.obj&&void 0!==l.obj["".concat(l.k,".").concat(a)]&&(l.obj=void 0)}l.obj["".concat(l.k,".").concat(a)]=n}else o[i]=n},w=function(e,t){var n=S(e,t),r=n.obj,o=n.k;if(r&&Object.prototype.hasOwnProperty.call(r,o))return r[o]},L=function(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?i(e[r])||e[r]instanceof String||i(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):L(e[r],t[r],n):e[r]=t[r]);return e},j=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},R=function(e){return i(e)?e.replace(/[&<>"'\/]/g,function(e){return P[e]}):e},C=[" ",",","?","!",";"],N=new(function(){return b(function e(t){y(this,e),this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]},[{key:"getRegExp",value:function(e){var t=this.regExpMap.get(e);if(void 0!==t)return t;var n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}])}())(20),E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}for(var r=t.split(n),o=e,i=0;i<r.length;){if(!o||"object"!==v(o))return;for(var a=void 0,s="",l=i;l<r.length;++l)if(l!==i&&(s+=n),void 0!==(a=o[s+=r[l]])){if(["string","number","boolean"].indexOf(v(a))>-1&&l<r.length-1)continue;i+=l-i+1;break}o=a}return o}},A=function(e){return null==e?void 0:e.replace("_","-")},I={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n,r;null===(n=console)||void 0===n||null===(n=n[e])||void 0===n||null===(r=n.apply)||void 0===r||r.call(n,console,t)}},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.init(t,n)}return b(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||I,this.options=t,this.debug=t.debug}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:(i(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,g(g({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}])}(),F=new T,D=function(){return b(function e(){y(this,e),this.observers={}},[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]||(n.observers[e]=new Map);var r=n.observers[e].get(t)||0;n.observers[e].set(t,r+1)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(function(e){for(var t=l(e,2),r=t[0],o=t[1],i=0;i<o;i++)r.apply(void 0,n)});this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(function(t){for(var r=l(t,2),o=r[0],i=r[1],a=0;a<i;a++)o.apply(o,[e].concat(n))})}}])}(),V=function(t){function r(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return y(this,r),(t=n(this,r)).data=e||{},t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return a(r,t),b(r,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(t,n,r){var o,a,s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=void 0!==l.keySeparator?l.keySeparator:this.options.keySeparator,c=void 0!==l.ignoreJSONStructure?l.ignoreJSONStructure:this.options.ignoreJSONStructure;if(t.indexOf(".")>-1)a=t.split(".");else if(a=[t,n],r)if(Array.isArray(r))(s=a).push.apply(s,e(r));else if(i(r)&&u){var p;(p=a).push.apply(p,e(r.split(u)))}else a.push(r);var f=w(this.data,a);return!f&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),!f&&c&&i(r)?E(null===(o=this.data)||void 0===o||null===(o=o[t])||void 0===o?void 0:o[n],r,u):f}},{key:"addResource",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),O(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var o in n)(i(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=w(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?L(s,n,o):s=g(g({},s),n),O(this.data,a,s),i.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&Object.keys(t[e]).length>0})}},{key:"toJSON",value:function(){return this.data}}])}(D),K={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,o){var i=this;return e.forEach(function(e){var a,s;t=null!==(a=null===(s=i.processors[e])||void 0===s?void 0:s.process(t,n,r,o))&&void 0!==a?a:t}),t}},U=Symbol("i18next/PATH_KEY");function M(e,t){var n,r,o,i;return e((o=[],(i=Object.create(null)).get=function(e,t){var n,a;return null===(n=r)||void 0===n||null===(a=n.revoke)||void 0===a||a.call(n),t===U?o:(o.push(t),(r=Proxy.revocable(e,i)).proxy)},Proxy.revocable(Object.create(null),i).proxy))[U].join(null!==(n=null==t?void 0:t.keySeparator)&&void 0!==n?n:".")}var H={},B=function(e){return!i(e)&&"boolean"!=typeof e&&"number"!=typeof e},z=function(e){function t(e){var r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,t),r=n(this,t),o=e,i=r,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(function(e){o[e]&&(i[e]=o[e])}),r.options=a,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=F.create("translator"),r}return a(t,e),b(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=g({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;var n=this.resolve(e,t);if(void 0===(null==n?void 0:n.res))return!1;var r=B(n.res);return!1!==t.returnObjects||!r}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=C.filter(function(e){return t.indexOf(e)<0&&n.indexOf(e)<0});if(0===r.length)return!0;var o=N.getRegExp("(".concat(r.map(function(e){return"?"===e?"\\?":e}).join("|"),")")),i=!o.test(e);if(!i){var a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(i=!0)}return i}(e,n,r));if(a&&!s){var l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i(o)?[o]:o};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),e=u.join(r)}return{key:e,namespaces:i(o)?[o]:o}}},{key:"translate",value:function(e,n,r){var o=this,a="object"===v(n)?g({},n):n;if("object"!==v(a)&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),"object"===v(a)&&(a=g({},a)),a||(a={}),null==e)return"";"function"==typeof e&&(e=M(e,g(g({},this.options),a))),Array.isArray(e)||(e=[String(e)]);var s=void 0!==a.returnDetails?a.returnDetails:this.options.returnDetails,l=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(e[e.length-1],a),c=u.key,p=u.namespaces,f=p[p.length-1],d=void 0!==a.nsSeparator?a.nsSeparator:this.options.nsSeparator;void 0===d&&(d=":");var h=a.lng||this.language,y=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==h?void 0:h.toLowerCase()))return y?s?{res:"".concat(f).concat(d).concat(c),usedKey:c,exactUsedKey:c,usedLng:h,usedNS:f,usedParams:this.getUsedParamsDetails(a)}:"".concat(f).concat(d).concat(c):s?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:f,usedParams:this.getUsedParamsDetails(a)}:c;var m=this.resolve(e,a),b=null==m?void 0:m.res,k=(null==m?void 0:m.usedKey)||c,x=(null==m?void 0:m.exactUsedKey)||c,S=void 0!==a.joinArrays?a.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,w=void 0!==a.count&&!i(a.count),L=t.hasDefaultValue(a),j=w?this.pluralResolver.getSuffix(h,a.count,a):"",P=a.ordinal&&w?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",R=w&&!a.ordinal&&0===a.count,C=R&&a["defaultValue".concat(this.options.pluralSeparator,"zero")]||a["defaultValue".concat(j)]||a["defaultValue".concat(P)]||a.defaultValue,N=b;O&&!b&&L&&(N=C);var E=B(N),A=Object.prototype.toString.apply(N);if(!(O&&N&&E&&["[object Number]","[object Function]","[object RegExp]"].indexOf(A)<0)||i(S)&&Array.isArray(N))if(O&&i(S)&&Array.isArray(b))(b=b.join(S))&&(b=this.extendTranslation(b,e,a,r));else{var I=!1,T=!1;!this.isValidLookup(b)&&L&&(I=!0,b=C),this.isValidLookup(b)||(T=!0,b=c);var F=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:b,D=L&&C!==b&&this.options.updateMissing;if(T||I||D){if(this.logger.log(D?"updateKey":"missingKey",h,f,c,D?C:b),l){var V=this.resolve(c,g(g({},a),{},{keySeparator:!1}));V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[],U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if("fallback"===this.options.saveMissingTo&&U&&U[0])for(var H=0;H<U.length;H++)K.push(U[H]);else"all"===this.options.saveMissingTo?K=this.languageUtils.toResolveHierarchy(a.lng||this.language):K.push(a.lng||this.language);var z=function(e,t,n){var r,i=L&&n!==b?n:F;o.options.missingKeyHandler?o.options.missingKeyHandler(e,f,t,i,D,a):null!==(r=o.backendConnector)&&void 0!==r&&r.saveMissing&&o.backendConnector.saveMissing(e,f,t,i,D,a),o.emit("missingKey",e,f,t,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?K.forEach(function(e){var t=o.pluralResolver.getSuffixes(e,a);R&&a["defaultValue".concat(o.options.pluralSeparator,"zero")]&&t.indexOf("".concat(o.options.pluralSeparator,"zero"))<0&&t.push("".concat(o.options.pluralSeparator,"zero")),t.forEach(function(t){z([e],c+t,a["defaultValue".concat(t)]||C)})}):z(K,c,C))}b=this.extendTranslation(b,e,a,m,r),T&&b===c&&this.options.appendNamespaceToMissingKey&&(b="".concat(f).concat(d).concat(c)),(T||I)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f).concat(d).concat(c):c,I?b:void 0,a))}else{if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,N,g(g({},a),{},{ns:p})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return s?(m.res=_,m.usedParams=this.getUsedParamsDetails(a),m):_}if(l){var J=Array.isArray(N),q=J?[]:{},$=J?x:k;for(var W in N)if(Object.prototype.hasOwnProperty.call(N,W)){var Y="".concat($).concat(l).concat(W);q[W]=L&&!b?this.translate(Y,g(g({},a),{},{defaultValue:B(C)?C[W]:void 0},{joinArrays:!1,ns:p})):this.translate(Y,g(g({},a),{joinArrays:!1,ns:p})),q[W]===Y&&(q[W]=N[W])}b=q}}return s?(m.res=b,m.usedParams=this.getUsedParamsDetails(a),m):b}},{key:"extendTranslation",value:function(e,t,n,r,o){var a,s=this;if(null!==(a=this.i18nFormat)&&void 0!==a&&a.parse)e=this.i18nFormat.parse(e,g(g({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){var l;n.interpolation&&this.interpolator.init(g(g({},n),{interpolation:g(g({},this.options.interpolation),n.interpolation)}));var u,c=i(e)&&(void 0!==(null==n||null===(l=n.interpolation)||void 0===l?void 0:l.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(c){var p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}var f=n.replace&&!i(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=g(g({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),c){var d=e.match(this.interpolator.nestingRegexp);u<(d&&d.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(null==o?void 0:o[0])!==r[0]||n.context?s.translate.apply(s,r.concat([t])):(s.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null)},n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,v=i(h)?[h]:h;return null!=e&&null!=v&&v.length&&!1!==n.applyPostProcessor&&(e=K.handle(v,e,t,this.options&&this.options.postProcessPassResolved?g({i18nResolved:g(g({},r),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,o,a,s=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e)&&(e=[e]),e.forEach(function(e){if(!s.isValidLookup(t)){var u=s.extractFromKey(e,l),c=u.key;n=c;var p=u.namespaces;s.options.fallbackNS&&(p=p.concat(s.options.fallbackNS));var f=void 0!==l.count&&!i(l.count),d=f&&!l.ordinal&&0===l.count,g=void 0!==l.context&&(i(l.context)||"number"==typeof l.context)&&""!==l.context,h=l.lngs?l.lngs:s.languageUtils.toResolveHierarchy(l.lng||s.language,l.fallbackLng);p.forEach(function(e){var i,u;s.isValidLookup(t)||(a=e,H["".concat(h[0],"-").concat(e)]||null===(i=s.utils)||void 0===i||!i.hasLoadedNamespace||null!==(u=s.utils)&&void 0!==u&&u.hasLoadedNamespace(a)||(H["".concat(h[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(function(n){var i;if(!s.isValidLookup(t)){o=n;var a,u=[c];if(null!==(i=s.i18nFormat)&&void 0!==i&&i.addLookupKeys)s.i18nFormat.addLookupKeys(u,c,n,e,l);else{var p;f&&(p=s.pluralResolver.getSuffix(n,l.count,l));var h="".concat(s.options.pluralSeparator,"zero"),v="".concat(s.options.pluralSeparator,"ordinal").concat(s.options.pluralSeparator);if(f&&(l.ordinal&&0===p.indexOf(v)&&u.push(c+p.replace(v,s.options.pluralSeparator)),u.push(c+p),d&&u.push(c+h)),g){var y="".concat(c).concat(s.options.contextSeparator||"_").concat(l.context);u.push(y),f&&(l.ordinal&&0===p.indexOf(v)&&u.push(y+p.replace(v,s.options.pluralSeparator)),u.push(y+p),d&&u.push(y+h))}}for(;a=u.pop();)s.isValidLookup(t)||(r=a,t=s.getResource(n,e,a,l))}}))})}}),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(r=this.i18nFormat)&&void 0!==r&&r.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}},{key:"getUsedParamsDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!i(e.replace),n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=g(g({},this.options.interpolation.defaultVariables),n)),!t){n=g({},n);var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]);try{for(o.s();!(r=o.n()).done;){delete n[r.value]}}catch(a){o.e(a)}finally{o.f()}}return n}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}])}(D),_=function(){return b(function e(t){y(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=F.create("languageUtils")},[{key:"getScriptPartFromCode",value:function(e){if(!(e=A(e))||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!(e=A(e))||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if(i(e)&&e.indexOf("-")>-1){var t;try{t=Intl.getCanonicalLocales(e)[0]}catch(n){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach(function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}}),!t&&this.options.supportedLngs&&e.forEach(function(e){if(!t){var r=n.getScriptPartFromCode(e);if(n.isSupportedCode(r))return t=r;var o=n.getLanguagePartFromCode(e);if(n.isSupportedCode(o))return t=o;t=n.options.supportedLngs.find(function(e){return e===o?e:e.indexOf("-")<0&&o.indexOf("-")<0?void 0:e.indexOf("-")>0&&o.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===o||0===e.indexOf(o)&&o.length>1?e:void 0})}}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),i(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),o=[],a=function(e){e&&(n.isSupportedCode(e)?o.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return i(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):i(e)&&a(this.formatLanguageCode(e)),r.forEach(function(e){o.indexOf(e)<0&&a(n.formatLanguageCode(e))}),o}}])}(),J={zero:0,one:1,two:2,few:3,many:4,other:5},q={select:function(e){return 1===e?"one":"other"},resolvedOptions:function(){return{pluralCategories:["one","other"]}}},$=function(){return b(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.languageUtils=t,this.options=n,this.logger=F.create("pluralResolver"),this.pluralRulesCache={}},[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"clearCache",value:function(){this.pluralRulesCache={}}},{key:"getRule",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A("dev"===e?"en":e),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];try{t=new Intl.PluralRules(r,{type:o})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),q;if(!e.match(/-|_/))return q;var a=this.languageUtils.getLanguagePartFromCode(e);t=this.getRule(a,n)}return this.pluralRulesCache[i]=t,t}},{key:"needsPlural",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(null===(t=r)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort(function(e,t){return J[e]-J[t]}).map(function(e){return"".concat(t.options.prepend).concat(n.ordinal?"ordinal".concat(t.options.prepend):"").concat(e)}):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(r.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,n))}}])}(),W=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=function(e,t,n){var r=w(e,n);return void 0!==r?r:w(t,n)}(e,t,n);return!a&&o&&i(n)&&void 0===(a=E(e,n,r))&&(a=E(t,n,r)),a},Y=function(e){return e.replace(/\$/g,"$$$$")},Q=function(){return b(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,e),this.logger=F.create("interpolator"),this.options=n,this.format=(null==n||null===(t=n.interpolation)||void 0===t?void 0:t.format)||function(e){return e},this.init(n)},[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation,n=t.escape,r=t.escapeValue,o=t.useRawValueToEscape,i=t.prefix,a=t.prefixEscaped,s=t.suffix,l=t.suffixEscaped,u=t.formatSeparator,c=t.unescapeSuffix,p=t.unescapePrefix,f=t.nestingPrefix,d=t.nestingPrefixEscaped,g=t.nestingSuffix,h=t.nestingSuffixEscaped,v=t.nestingOptionsSeparator,y=t.maxReplaces,m=t.alwaysFormat;this.escape=void 0!==n?n:R,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==o&&o,this.prefix=i?j(i):a||"{{",this.suffix=s?j(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?j(f):d||j("$t("),this.nestingSuffix=g?j(g):h||j(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e=function(e,t){return(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g")};this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}},{key:"interpolate",value:function(e,t,n,r){var o,a,s,l,u=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=function(e){if(e.indexOf(u.formatSeparator)<0){var o=W(t,c,e,u.options.keySeparator,u.options.ignoreJSONStructure);return u.alwaysFormat?u.format(o,void 0,n,g(g(g({},r),t),{},{interpolationkey:e})):o}var i=e.split(u.formatSeparator),a=i.shift().trim(),s=i.join(u.formatSeparator).trim();return u.format(W(t,c,a,u.options.keySeparator,u.options.ignoreJSONStructure),s,n,g(g(g({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=(null==r?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=void 0!==(null==r||null===(o=r.interpolation)||void 0===o?void 0:o.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return Y(e)}},{regex:this.regexp,safeValue:function(e){return u.escapeValue?Y(u.escape(e)):Y(e)}}].forEach(function(t){for(l=0;a=t.regex.exec(e);){var n=a[1].trim();if(void 0===(s=p(n)))if("function"==typeof f){var o=f(e,a,r);s=i(o)?o:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(h){s=a[0];continue}u.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else i(s)||u.useRawValueToEscape||(s=d(s));var c=t.safeValue(s);if(e=e.replace(a[0],c),h?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++l>=u.maxReplaces)break}}),e}},{key:"nest",value:function(e,t){for(var n,r,o,a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=function(e,t){var n,r=a.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var i=e.split(new RegExp("".concat(r,"[ ]*{"))),s="{".concat(i[1]);e=i[0];var l=(s=a.interpolate(s,o)).match(/'/g),u=s.match(/"/g);((null!==(n=null==l?void 0:l.length)&&void 0!==n?n:0)%2==0&&!u||u.length%2!=0)&&(s=s.replace(/'/g,'"'));try{o=JSON.parse(s),t&&(o=g(g({},t),o))}catch(c){return a.logger.warn("failed parsing options string in nesting for key ".concat(e),c),"".concat(e).concat(r).concat(s)}return o.defaultValue&&o.defaultValue.indexOf(a.prefix)>-1&&delete o.defaultValue,e};n=this.nestingRegexp.exec(e);){var u=[];(o=(o=g({},s)).replace&&!i(o.replace)?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;var c=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(-1!==c&&(u=n[1].slice(c).split(this.formatSeparator).map(function(e){return e.trim()}).filter(Boolean),n[1]=n[1].slice(0,c)),(r=t(l.call(this,n[1].trim(),o),o))&&n[0]===e&&!i(r))return r;i(r)||(r=d(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u.length&&(r=u.reduce(function(e,t){return a.format(e,t,s.lng,g(g({},s),{},{interpolationkey:n[1].trim()}))},r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}])}(),G=function(e){var n=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){var o=e.split("(");n=o[0].toLowerCase().trim();var i=o[1].substring(0,o[1].length-1);if("currency"===n&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if("relativetime"===n&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{i.split(";").forEach(function(e){if(e){var n=e.split(":"),o=f(l=n)||t(l)||c(l)||u(),i=o[0],a=p(o).slice(1).join(":").trim().replace(/^'+|'+$/g,""),s=i.trim();r[s]||(r[s]=a),"false"===a&&(r[s]=!1),"true"===a&&(r[s]=!0),isNaN(a)||(r[s]=parseInt(a,10))}var l})}}return{formatName:n,formatOptions:r}},X=function(e){var t={};return function(n,r,o){var i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i=g(g({},i),{},h({},o.interpolationkey,void 0)));var a=r+JSON.stringify(i),s=t[a];return s||(s=e(A(r),o),t[a]=s),s(n)}},Z=function(e){return function(t,n,r){return e(A(n),r)(t)}},ee=function(){return b(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,e),this.logger=F.create("formatter"),this.options=t,this.init(t)},[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";var n=t.cacheInBuiltFormats?X:Z;this.formats={number:n(function(e,t){var n=new Intl.NumberFormat(e,g({},t));return function(e){return n.format(e)}}),currency:n(function(e,t){var n=new Intl.NumberFormat(e,g(g({},t),{},{style:"currency"}));return function(e){return n.format(e)}}),datetime:n(function(e,t){var n=new Intl.DateTimeFormat(e,g({},t));return function(e){return n.format(e)}}),relativetime:n(function(e,t){var n=new Intl.RelativeTimeFormat(e,g({},t));return function(e){return n.format(e,t.range||"day")}}),list:n(function(e,t){var n=new Intl.ListFormat(e,g({},t));return function(e){return n.format(e)}})}}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=X(t)}},{key:"format",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(function(e){return e.indexOf(")")>-1})){var s=a.findIndex(function(e){return e.indexOf(")")>-1});a[0]=[a[0]].concat(e(a.splice(1,s))).join(this.formatSeparator)}return a.reduce(function(e,t){var n=G(t),a=n.formatName,s=n.formatOptions;if(o.formats[a]){var l=e;try{var u,c=(null==i||null===(u=i.formatParams)||void 0===u?void 0:u[i.interpolationkey])||{},p=c.locale||c.lng||i.locale||i.lng||r;l=o.formats[a](e,p,g(g(g({},s),i),c))}catch(f){o.logger.warn(f)}return l}return o.logger.warn("there was no format function for ".concat(a)),e},t)}}])}(),te=function(e){function t(e,r,o){var i,a,s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return y(this,t),(s=n(this,t)).backend=e,s.store=r,s.services=o,s.languageUtils=o.languageUtils,s.options=l,s.logger=F.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=l.maxParallelReads||10,s.readingCalls=0,s.maxRetries=l.maxRetries>=0?l.maxRetries:5,s.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,s.state={},s.queue=[],null===(i=s.backend)||void 0===i||null===(a=i.init)||void 0===a||a.call(i,o,l.backend,l),s}return a(t,e),b(t,[{key:"queueLoad",value:function(e,t,n,r){var o=this,i={},a={},s={},l={};return e.forEach(function(e){var r=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&o.store.hasResourceBundle(e,t)?o.state[s]=2:o.state[s]<0||(1===o.state[s]?void 0===a[s]&&(a[s]=!0):(o.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===l[t]&&(l[t]=!0)))}),r||(s[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),!t&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);var a={};this.queue.forEach(function(n){var r,s,l,u,c;r=n.loaded,s=i,l=S(r,[o],Object),u=l.obj,c=l.k,u[c]=u[c]||[],u[c].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach(function(t){void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:a});else{this.readingCalls++;var s=function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var u=r.waitingReads.shift();r.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}s&&l&&o<r.maxRetries?setTimeout(function(){r.read.call(r,e,t,n,o+1,2*i,a)},i):a(s,l)},l=this.backend[n].bind(this.backend);if(2!==l.length)return l(e,t,s);try{var u=l(e,t);u&&"function"==typeof u.then?u.then(function(e){return s(null,e)}).catch(s):s(null,u)}catch(c){s(c)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();i(e)&&(e=this.languageUtils.toResolveHierarchy(e)),i(t)&&(t=[t]);var a=this.queueLoad(e,t,r,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),t.loaded(e,r,a)})}},{key:"saveMissing",value:function(e,t,n,r,o){var i,a,s,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(null===(i=this.services)||void 0===i||null===(i=i.utils)||void 0===i||!i.hasLoadedNamespace||null!==(a=this.services)&&void 0!==a&&null!==(a=a.utils)&&void 0!==a&&a.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(null!==(s=this.backend)&&void 0!==s&&s.create){var c=g(g({},l),{},{isUpdate:o}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var f;(f=5===p.length?p(e,t,n,r,c):p(e,t,n,r))&&"function"==typeof f.then?f.then(function(e){return u(null,e)}).catch(u):u(null,f)}catch(d){u(d)}else p(e,t,n,r,u,c)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}])}(D),ne=function(){return{debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===v(e[1])&&(t=e[1]),i(e[1])&&(t.defaultValue=e[1]),i(e[2])&&(t.tDescription=e[2]),"object"===v(e[2])||"object"===v(e[3])){var n=e[3]||e[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:function(e){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}},re=function(e){var t,n;return i(e.ns)&&(e.ns=[e.ns]),i(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),i(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(n=t.indexOf)||void 0===n?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},oe=function(){},ie=function(e){function t(){var e,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(y(this,t),(e=n(this,t)).options=re(i),e.services={},e.logger=F,e.modules={external:[]},o=e,Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(function(e){"function"==typeof o[e]&&(o[e]=o[e].bind(o))}),a&&!e.isInitialized&&!i.isClone){if(!e.options.initAsync)return e.init(i,a),r(e,e);setTimeout(function(){e.init(i,a)},0)}return e}return a(t,e),b(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),null==t.defaultNS&&t.ns&&(i(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=ne();this.options=g(g(g({},r),this.options),re(t)),this.options.interpolation=g(g({},r.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);var o=function(e){return e?"function"==typeof e?new e:e:null};if(!this.options.isClone){var a;this.modules.logger?F.init(o(this.modules.logger),this.options):F.init(null,this.options),a=this.modules.formatter?this.modules.formatter:ee;var l=new _(this.options);this.store=new V(this.options.resources,this.options);var u=this.services;u.logger=F,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new $(l,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!a||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(u.formatter=o(a),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Q(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new te(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new z(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}if(this.format=this.options.interpolation.format,n||(n=oe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}});var p=s(),f=function(){var t=function(t,r){e.isInitializing=!1,e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),p.resolve(r),n(t,r)};if(e.languages&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),p}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,r=i(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){var o,a;if("cimode"===(null==r?void 0:r.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return n();var s=[],l=function(e){e&&("cimode"!==e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){"cimode"!==e&&s.indexOf(e)<0&&s.push(e)}))};if(r)l(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return l(e)});null===(o=this.options.preload)||void 0===o||null===(a=o.forEach)||void 0===a||a.call(o,function(e){return l(e)}),this.services.backendConnector.load(s,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)})}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=s();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=oe),this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&K.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=s();this.emit("languageChanging",e);var o=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},a=function(a){e||a||!n.services.languageDetector||(a=[]);var s,l,u=i(a)?a:a&&a[0],c=n.store.hasLanguageSomeTranslations(u)?u:n.services.languageUtils.getBestMatchFromCodes(i(a)?[a]:a);c&&(n.language||o(c),n.translator.language||n.translator.changeLanguage(c),null===(s=n.services.languageDetector)||void 0===s||null===(l=s.cacheUserLanguage)||void 0===l||l.call(s,c));n.loadResources(c,function(i){!function(i,a){a?n.isLanguageChangingTo===e&&(o(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,r.resolve(function(){return n.t.apply(n,arguments)}),t&&t(i,function(){return n.t.apply(n,arguments)})}(i,c)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,o=function(e,t){var i;if("object"!==v(t)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else i=g({},t);i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||o.keyPrefix);var u,c=r.options.keySeparator||".";return i.keyPrefix&&Array.isArray(e)?u=e.map(function(e){return"function"==typeof e&&(e=M(e,g(g({},r.options),t))),"".concat(i.keyPrefix).concat(c).concat(e)}):("function"==typeof e&&(e=M(e,g(g({},r.options),t))),u=i.keyPrefix?"".concat(i.keyPrefix).concat(c).concat(e):e),r.t(u,i)};return i(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.translate.apply(e,n)}},{key:"exists",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return null===(e=this.translator)||void 0===e?void 0:e.exists.apply(e,n)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||0===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||o&&!a(i,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=s();return this.options.ns?(i(e)&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=this,r=s();i(e)&&(e=[e]);var o=this.options.preload||[],a=e.filter(function(e){return o.indexOf(e)<0&&n.services.languageUtils.isSupportedCode(e)});return a.length?(this.options.preload=o.concat(a),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){var t,n;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{var r=new Intl.Locale(e);if(r&&r.getTextInfo){var o=r.getTextInfo();if(o&&o.direction)return o.direction}}catch(a){}var i=(null===(n=this.services)||void 0===n?void 0:n.languageUtils)||new _(ne());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,o=n.forkResourceStore;o&&delete n.forkResourceStore;var i=g(g(g({},this.options),n),{isClone:!0}),a=new t(i);void 0===n.debug&&void 0===n.prefix||(a.logger=a.logger.clone(n));if(["store","services","language"].forEach(function(t){a[t]=e[t]}),a.services=g({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},o){var s=Object.keys(this.store.data).reduce(function(t,n){return t[n]=g({},e.store.data[n]),t[n]=Object.keys(t[n]).reduce(function(e,r){return e[r]=g({},t[n][r]),e},t[n]),t},{});a.store=new V(s,i),a.services.resourceStore=a.store}return n.interpolation&&(a.services.interpolator=new Q(i)),a.translator=new z(a.services,i),a.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}],[{key:"createInstance",value:function(){var e=new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0);return e.createInstance=t.createInstance,e}}])}(D),ae=o("i",ie.createInstance());ae.createInstance,ae.dir,ae.init,ae.loadResources,ae.reloadResources,ae.use,ae.changeLanguage,ae.getFixedT,ae.t,ae.exists,ae.setDefaultNamespace,ae.hasLoadedNamespace,ae.loadNamespaces,ae.loadLanguages}}})}();
