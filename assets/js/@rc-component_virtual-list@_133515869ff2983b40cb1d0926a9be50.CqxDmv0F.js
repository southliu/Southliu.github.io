var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{i as n}from"./@babel_runtime@7.28.4.C0xEPFvw.js";import{c as r}from"./clsx@2.1.1.DMqMD_4V.js";import{R as o}from"./@rc-component_resize-observ_35a2a421c5cd253a7d47dbcc31e42719.C1D9mLz0.js";import{l as s,h as c,e as i}from"./@rc-component_util@1.7.0_re_e38ee95702524036372f825efc96e921.ChzNieGb.js";import{r as l}from"./react@18.3.1.zoCbf7Ot.js";import{r as u}from"./react-dom@18.3.1_react@18.3.1.BHWKb6f6.js";const a=l.forwardRef(({height:e,offsetY:t,offsetX:s,children:c,prefixCls:i,onInnerResize:u,innerProps:a,rtl:f,extra:d},h)=>{let v={},m={display:"flex",flexDirection:"column"};return void 0!==t&&(v={height:e,position:"relative",overflow:"hidden"},m={...m,transform:"translateY(".concat(t,"px)"),[f?"marginRight":"marginLeft"]:-s,position:"absolute",left:0,right:0,top:0}),l.createElement("div",{style:v},l.createElement(o,{onResize:({offsetHeight:e})=>{e&&u&&u()}},l.createElement("div",n({style:m,className:r({["".concat(i,"-holder-inner")]:i}),ref:h},a),c,d)))});function f({children:e,setRef:t}){const n=l.useCallback(e=>{t(e)},[]);return l.cloneElement(e,{ref:n})}function d(e,t,n){const[r,o]=l.useState(e),[s,c]=l.useState(null);return l.useEffect(()=>{const n=function(e,t,n){const r=e.length,o=t.length;let s,c;if(0===r&&0===o)return null;r<o?(s=e,c=t):(s=t,c=e);const i={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):i}let u=null,a=1!==Math.abs(r-o);for(let f=0;f<c.length;f+=1){const e=l(s[f]);if(e!==l(c[f])){u=f,a=a||e!==l(c[f+1]);break}}return null===u?null:{index:u,multiple:a}}(r||[],e||[],t);void 0!==(null==n?void 0:n.index)&&c(e[n.index]),o(e)},[e]),[s]}a.displayName="Filler";const h="object"==typeof navigator&&/Firefox/i.test(navigator.userAgent),v=(e,t,n,r)=>{const o=l.useRef(!1),s=l.useRef(null);const c=l.useRef({top:e,bottom:t,left:n,right:r});return c.current.top=e,c.current.bottom=t,c.current.left=n,c.current.right=r,(e,t,n=!1)=>{const r=e?t<0&&c.current.left||t>0&&c.current.right:t<0&&c.current.top||t>0&&c.current.bottom;return n&&r?(clearTimeout(s.current),o.current=!1):r&&!o.current||(clearTimeout(s.current),o.current=!0,s.current=setTimeout(()=>{o.current=!1},50)),!o.current&&r}};function m(e,t,n,r,o,c,i){const u=l.useRef(0),a=l.useRef(null),f=l.useRef(null),d=l.useRef(!1),m=v(t,n,r,o);const g=l.useRef(null),p=l.useRef(null);return[function(t){if(!e)return;s.cancel(p.current),p.current=s(()=>{g.current=null},2);const{deltaX:n,deltaY:r,shiftKey:o}=t;let l=n,v=r;("sx"===g.current||!g.current&&o&&r&&!n)&&(l=r,v=0,g.current="sx");const b=Math.abs(l),w=Math.abs(v);null===g.current&&(g.current=c&&b>w?"x":"y"),"y"===g.current?function(e,t){if(s.cancel(a.current),m(!1,t))return;const n=e;n._virtualHandled||(n._virtualHandled=!0,u.current+=t,f.current=t,h||n.preventDefault(),a.current=s(()=>{const e=d.current?10:1;i(u.current*e,!1),u.current=0}))}(t,v):function(e,t){i(t,!0),h||e.preventDefault()}(t,l)},function(t){e&&(d.current=t.detail===f.current)}]}class g{constructor(){t(this,"maps"),t(this,"id",0),t(this,"diffRecords",new Map),this.maps=Object.create(null)}set(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}get(e){return this.maps[e]}resetRecord(){this.diffRecords.clear()}getRecord(){return this.diffRecords}}function p(e){const t=parseFloat(e);return isNaN(t)?0:t}const b=14/15;function w(e){return Math.floor(e**.5)}function R(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}const E=l.forwardRef((e,t)=>{const{prefixCls:n,rtl:o,scrollOffset:c,scrollRange:i,onStartMove:u,onStopMove:a,onScroll:f,horizontal:d,spinSize:h,containerSize:v,style:m,thumbStyle:g,showScrollBar:p}=e,[b,w]=l.useState(!1),[E,M]=l.useState(null),[S,y]=l.useState(null),x=!o,L=l.useRef(),H=l.useRef(),[T,z]=l.useState(p),D=l.useRef(),_=()=>{!0!==p&&!1!==p&&(clearTimeout(D.current),z(!0),D.current=setTimeout(()=>{z(!1)},3e3))},j=i-v||0,Y=v-h||0,N=l.useMemo(()=>{if(0===c||0===j)return 0;return c/j*Y},[c,j,Y]),k=l.useRef({top:N,dragging:b,pageY:E,startTop:S});k.current={top:N,dragging:b,pageY:E,startTop:S};const C=e=>{w(!0),M(R(e,d)),y(k.current.top),u(),e.stopPropagation(),e.preventDefault()};l.useEffect(()=>{const e=e=>{e.preventDefault()},t=L.current,n=H.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",C,{passive:!1}),()=>{t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",C)}},[]);const O=l.useRef();O.current=j;const B=l.useRef();B.current=Y,l.useEffect(()=>{if(b){let e;const t=t=>{const{dragging:n,pageY:r,startTop:o}=k.current;s.cancel(e);const c=L.current.getBoundingClientRect(),i=v/(d?c.width:c.height);if(n){const n=(R(t,d)-r)*i;let c=o;!x&&d?c-=n:c+=n;const l=O.current,u=B.current,a=u?c/u:0;let h=Math.ceil(a*l);h=Math.max(h,0),h=Math.min(h,l),e=s(()=>{f(h,d)})}},n=()=>{w(!1),a()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),s.cancel(e)}}},[b]),l.useEffect(()=>(_(),()=>{clearTimeout(D.current)}),[c]),l.useImperativeHandle(t,()=>({delayHidden:_}));const I="".concat(n,"-scrollbar"),P={position:"absolute",visibility:T?null:"hidden"},X={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return d?(Object.assign(P,{height:8,left:0,right:0,bottom:0}),Object.assign(X,{height:"100%",width:h,[x?"left":"right"]:N})):(Object.assign(P,{width:8,top:0,bottom:0,[x?"right":"left"]:0}),Object.assign(X,{width:"100%",height:h,top:N})),l.createElement("div",{ref:L,className:r(I,{["".concat(I,"-horizontal")]:d,["".concat(I,"-vertical")]:!d,["".concat(I,"-visible")]:T}),style:{...P,...m},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},onMouseMove:_},l.createElement("div",{ref:H,className:r("".concat(I,"-thumb"),{["".concat(I,"-thumb-moving")]:b}),style:{...X,...g},onMouseDown:C}))});function M(e=0,t=0){let n=e/t*e;return isNaN(n)&&(n=0),n=Math.max(n,20),Math.floor(n)}const S=[],y={overflowY:"auto",overflowAnchor:"none"};function x(e,t){const{prefixCls:h="rc-virtual-list",className:x,height:L,itemHeight:H,fullHeight:T=!0,style:z,data:D,children:_,itemKey:j,virtual:Y,direction:N,scrollWidth:k,component:C="div",onScroll:O,onVirtualScroll:B,onVisibleChange:I,innerProps:P,extraRender:X,styles:A,showScrollBar:K="optional",...F}=e,W=l.useCallback(e=>"function"==typeof j?j(e):null==e?void 0:e[j],[j]),[V,q,G,J]=function(e){const[t,n]=l.useState(0),r=l.useRef(new Map),o=l.useRef(new g),s=l.useRef(0);function c(){s.current+=1}function i(e=!1){c();const t=()=>{let e=!1;r.current.forEach((t,n)=>{if(t&&t.offsetParent){const{offsetHeight:r}=t,{marginTop:s,marginBottom:c}=getComputedStyle(t),i=r+p(s)+p(c);o.current.get(n)!==i&&(o.current.set(n,i),e=!0)}}),e&&n(e=>e+1)};if(e)t();else{s.current+=1;const e=s.current;Promise.resolve().then(()=>{e===s.current&&t()})}}return l.useEffect(()=>c,[]),[function(t,n){const o=e(t);r.current.get(o),n?(r.current.set(o,n),i()):r.current.delete(o)},i,o.current,t]}(W),Q=!(!1===Y||!L||!H),U=l.useMemo(()=>Object.values(G.maps).reduce((e,t)=>e+t,0),[G.id,G.maps]),Z=Q&&D&&(Math.max(H*D.length,U)>L||!!k),$="rtl"===N,ee=r(h,{["".concat(h,"-rtl")]:$},x),te=D||S,ne=l.useRef(),re=l.useRef(),oe=l.useRef(),[se,ce]=l.useState(0),[ie,le]=l.useState(0),[ue,ae]=l.useState(!1),fe=()=>{ae(!0)},de=()=>{ae(!1)},he={getKey:W};function ve(e){ce(t=>{let n;n="function"==typeof e?e(t):e;const r=function(e){let t=e;Number.isNaN(ze.current)||(t=Math.min(t,ze.current));return t=Math.max(t,0),t}(n);return ne.current.scrollTop=r,r})}const me=l.useRef({start:0,end:te.length}),ge=l.useRef(),[pe]=d(te,W);ge.current=pe;const{scrollHeight:be,start:we,end:Re,offset:Ee}=l.useMemo(()=>{var e;if(!Q)return{scrollHeight:void 0,start:0,end:te.length-1,offset:void 0};if(!Z)return{scrollHeight:(null==(e=re.current)?void 0:e.offsetHeight)||0,start:0,end:te.length-1,offset:void 0};let t,n,r,o=0;const s=te.length;for(let c=0;c<s;c+=1){const e=te[c],s=W(e),i=G.get(s),l=o+(void 0===i?H:i);l>=se&&void 0===t&&(t=c,n=o),l>se+L&&void 0===r&&(r=c),o=l}return void 0===t&&(t=0,n=0,r=Math.ceil(L/H)),void 0===r&&(r=te.length-1),r=Math.min(r+1,te.length-1),{scrollHeight:o,start:t,end:r,offset:n}},[Z,Q,se,te,J,L]);me.current.start=we,me.current.end=Re,l.useLayoutEffect(()=>{const e=G.getRecord();if(1===e.size){const t=Array.from(e.keys())[0],n=e.get(t),r=te[we];if(r&&void 0===n){if(W(r)===t){const e=G.get(t)-H;ve(t=>t+e)}}}G.resetRecord()},[be]);const[Me,Se]=l.useState({width:0,height:L}),ye=l.useRef(),xe=l.useRef(),Le=l.useMemo(()=>M(Me.width,k),[Me.width,k]),He=l.useMemo(()=>M(Me.height,be),[Me.height,be]),Te=be-L,ze=l.useRef(Te);ze.current=Te;const De=se<=0,_e=se>=Te,je=ie<=0,Ye=ie>=k,Ne=v(De,_e,je,Ye),ke=()=>({x:$?-ie:ie,y:se}),Ce=l.useRef(ke()),Oe=i(e=>{if(B){const t={...ke(),...e};Ce.current.x===t.x&&Ce.current.y===t.y||(B(t),Ce.current=t)}});function Be(e,t){const n=e;t?(u.flushSync(()=>{le(n)}),Oe()):ve(n)}const Ie=e=>{let t=e;const n=k?k-Me.width:0;return t=Math.max(t,0),t=Math.min(t,n),t},Pe=i((e,t)=>{t?(u.flushSync(()=>{le(t=>Ie(t+($?-e:e)))}),Oe()):ve(t=>t+e)}),[Xe,Ae]=m(Q,De,_e,je,Ye,!!k,Pe);!function(e,t,n){const r=l.useRef(!1),o=l.useRef(0),s=l.useRef(0),i=l.useRef(null),u=l.useRef(null);let a;const f=e=>{if(r.current){const t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY);let c=o.current-t,i=s.current-r;const l=Math.abs(c)>Math.abs(i);l?o.current=t:s.current=r;const a=n(l,l?c:i,!1,e);a&&e.preventDefault(),clearInterval(u.current),a&&(u.current=setInterval(()=>{l?c*=b:i*=b;const e=Math.floor(l?c:i);(!n(l,e,!0)||Math.abs(e)<=.1)&&clearInterval(u.current)},16))}},d=()=>{r.current=!1,a()},h=e=>{a(),1!==e.touches.length||r.current||(r.current=!0,o.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),i.current=e.target,i.current.addEventListener("touchmove",f,{passive:!1}),i.current.addEventListener("touchend",d,{passive:!0}))};a=()=>{i.current&&(i.current.removeEventListener("touchmove",f),i.current.removeEventListener("touchend",d))},c(()=>(e&&t.current.addEventListener("touchstart",h,{passive:!0}),()=>{var e;null==(e=t.current)||e.removeEventListener("touchstart",h),a(),clearInterval(u.current)}),[e])}(Q,ne,(e,t,n,r)=>{const o=r;return!Ne(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Xe({preventDefault(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(e,t,n){l.useEffect(()=>{const r=t.current;if(e&&r){let e,t,o=!1;const c=()=>{s.cancel(e)},i=()=>{c(),e=s(()=>{n(t),i()})},l=()=>{o=!1,c()},u=e=>{if(e.target.draggable||0!==e.button)return;const t=e;t._virtualHandled||(t._virtualHandled=!0,o=!0)},a=e=>{if(o){const n=R(e,!1),{top:o,bottom:s}=r.getBoundingClientRect();n<=o?(t=-w(o-n),i()):n>=s?(t=w(n-s),i()):c()}};return r.addEventListener("mousedown",u),r.ownerDocument.addEventListener("mouseup",l),r.ownerDocument.addEventListener("mousemove",a),r.ownerDocument.addEventListener("dragend",l),()=>{r.removeEventListener("mousedown",u),r.ownerDocument.removeEventListener("mouseup",l),r.ownerDocument.removeEventListener("mousemove",a),r.ownerDocument.removeEventListener("dragend",l),c()}}},[e])}(Z,ne,e=>{ve(t=>t+e)}),c(()=>{function e(e){const t=De&&e.detail<0,n=_e&&e.detail>0;!Q||t||n||e.preventDefault()}const t=ne.current;return t.addEventListener("wheel",Xe,{passive:!1}),t.addEventListener("DOMMouseScroll",Ae,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),()=>{t.removeEventListener("wheel",Xe),t.removeEventListener("DOMMouseScroll",Ae),t.removeEventListener("MozMousePixelScroll",e)}},[Q,De,_e]),c(()=>{if(k){const e=Ie(ie);le(e),Oe({x:e})}},[Me.width,k]);const Ke=()=>{var e,t;null==(e=ye.current)||e.delayHidden(),null==(t=xe.current)||t.delayHidden()},Fe=function(e,t,n,r,o,i,u,a){const f=l.useRef(),[d,h]=l.useState(null);return c(()=>{if(d&&d.times<10){if(!e.current)return void h(e=>({...e}));i();const{targetAlign:s,originAlign:c,index:l,offset:a}=d,f=e.current.clientHeight;let v=!1,m=s,g=null;if(f){const i=s||c;let h=0,p=0,b=0;const w=Math.min(t.length-1,l);for(let e=0;e<=w;e+=1){const s=o(t[e]);p=h;const c=n.get(s);b=p+(void 0===c?r:c),h=b}let R="top"===i?a:f-a;for(let e=w;e>=0;e-=1){const r=o(t[e]),s=n.get(r);if(void 0===s){v=!0;break}if(R-=s,R<=0)break}switch(i){case"top":g=p-a;break;case"bottom":g=b-f+a;break;default:{const{scrollTop:t}=e.current;p<t?m="top":b>t+f&&(m="bottom")}}null!==g&&u(g),g!==d.lastTop&&(v=!0)}v&&h({...d,times:d.times+1,targetAlign:m,lastTop:g})}},[d,e.current]),e=>{if(null!=e){if(s.cancel(f.current),"number"==typeof e)u(e);else if(e&&"object"==typeof e){let n;const{align:r}=e;"index"in e?({index:n}=e):n=t.findIndex(t=>o(t)===e.key);const{offset:s=0}=e;h({times:0,index:n,offset:s,originAlign:r})}}else a()}}(ne,te,G,H,W,()=>q(!0),ve,Ke);l.useImperativeHandle(t,()=>({nativeElement:oe.current,getScrollInfo:ke,scrollTo:e=>{var t;(t=e)&&"object"==typeof t&&("left"in t||"top"in t)?(void 0!==e.left&&le(Ie(e.left)),Fe(e.top)):Fe(e)}})),c(()=>{if(I){const e=te.slice(we,Re+1);I(e,te)}},[we,Re,te]);const We=function(e,t,n,r){const[o,s]=l.useMemo(()=>[new Map,[]],[e,n.id,r]);return(c,i=c)=>{var l;let u=o.get(c),a=o.get(i);if(void 0===u||void 0===a){const f=e.length;for(let d=s.length;d<f;d+=1){const f=e[d],h=t(f);o.set(h,d);const v=null!=(l=n.get(h))?l:r;if(s[d]=(s[d-1]||0)+v,h===c&&(u=d),h===i&&(a=d),void 0!==u&&void 0!==a)break}}return{top:s[u-1]||0,bottom:s[a]}}}(te,W,G,H),Ve=null==X?void 0:X({start:we,end:Re,virtual:Z,offsetX:ie,offsetY:Ee,rtl:$,getSize:We}),qe=function(e,t,n,r,o,s,c,{getKey:i}){return e.slice(t,n+1).map((e,n)=>{const u=c(e,t+n,{style:{width:r},offsetX:o}),a=i(e);return l.createElement(f,{key:a,setRef:t=>s(e,t)},u)})}(te,we,Re,k,ie,V,_,he);let Ge=null;L&&(Ge={[T?"height":"maxHeight"]:L,...y},Q&&(Ge.overflowY="hidden",k&&(Ge.overflowX="hidden"),ue&&(Ge.pointerEvents="none")));const Je={};return $&&(Je.dir="rtl"),l.createElement("div",n({ref:oe,style:{...z,position:"relative"},className:ee},Je,F),l.createElement(o,{onResize:e=>{Se({width:e.offsetWidth,height:e.offsetHeight})}},l.createElement(C,{className:"".concat(h,"-holder"),style:Ge,ref:ne,onScroll:function(e){const{scrollTop:t}=e.currentTarget;t!==se&&ve(t),null==O||O(e),Oe()},onMouseEnter:Ke},l.createElement(a,{prefixCls:h,height:be,offsetX:ie,offsetY:Ee,scrollWidth:k,onInnerResize:q,ref:re,innerProps:P,rtl:$,extra:Ve},qe))),Z&&be>L&&l.createElement(E,{ref:ye,prefixCls:h,scrollOffset:se,scrollRange:be,rtl:$,onScroll:Be,onStartMove:fe,onStopMove:de,spinSize:He,containerSize:Me.height,style:null==A?void 0:A.verticalScrollBar,thumbStyle:null==A?void 0:A.verticalScrollBarThumb,showScrollBar:K}),Z&&k>Me.width&&l.createElement(E,{ref:xe,prefixCls:h,scrollOffset:ie,scrollRange:k,rtl:$,onScroll:Be,onStartMove:fe,onStopMove:de,spinSize:Le,containerSize:Me.width,horizontal:!0,style:null==A?void 0:A.horizontalScrollBar,thumbStyle:null==A?void 0:A.horizontalScrollBarThumb,showScrollBar:K}))}const L=l.forwardRef(x);L.displayName="List";export{L};
