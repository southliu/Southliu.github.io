import{r as e}from"./react@19.1.1.DAMsdXqD.js";import{c as n,a as t,u as r}from"./@rc-component_context@1.4.0_de4028c8571959cb44d65adf38211715.DB5geLn_.js";import{u as o,i as l,F as a,e as c,a as i,q as u,m as s,A as d,c as f,E as m,v as p,L as v,U as x,h,H as y,p as w}from"./rc-util@5.44.4_react-dom@19.1.1_react@19.1.1__react@19.1.1.D28gyqkz.js";import{h as C,f as g,d as E,g as b,k as S,i as R,j as N}from"./@babel_runtime@7.28.4.Bon8fWH5.js";import{c as k}from"./classnames@2.5.1.Cs1ETqqi.js";import{R as I}from"./rc-resize-observer@1.4.3_re_417e6ee79a83d8d6def766a6be83681f.B_YoCE1A.js";import{L}from"./rc-virtual-list@3.19.1_reac_eb17cbd247287c3a3dcc8262c7846edd.NLCoC5Ue.js";var T={},M="rc-table-internal-hook",H=n(),W=H.makeImmutable,K=H.responseImmutable,O=H.useImmutableMark,z=t(),_=e.createContext({renderWithProps:!1});function P(e){var n=[],t={};return e.forEach(function(e){for(var r,o=e||{},l=o.key,a=o.dataIndex,c=l||(r=a,null==r?[]:Array.isArray(r)?r:[r]).join("-")||"RC_TABLE_KEY";t[c];)c="".concat(c,"_next");t[c]=!0,n.push(c)}),n}function B(e){return null!=e}function A(n,t,r,c,i,u){var s=e.useContext(_),d=O();return o(function(){if(B(c))return[c];var o,l=null==t||""===t?[]:Array.isArray(t)?t:[t],u=a(n,l),d=u,f=void 0;if(i){var m=i(u,n,r);!(o=m)||"object"!==g(o)||Array.isArray(o)||e.isValidElement(o)?d=m:(d=m.children,f=m.props,s.renderWithProps=!0)}return[d,f]},[d,n,c,t,i,r],function(e,n){if(u){var t=C(e,2)[1],r=C(n,2)[1];return u(r,t)}return!!s.renderWithProps||!l(e,n,!0)})}function j(n){var t,o,l,a,i,u,s,d,f=n.component,m=n.children,p=n.ellipsis,v=n.scope,x=n.prefixCls,h=n.className,y=n.align,w=n.record,R=n.render,N=n.dataIndex,I=n.renderIndex,L=n.shouldCellUpdate,T=n.index,M=n.rowType,H=n.colSpan,W=n.rowSpan,K=n.fixLeft,O=n.fixRight,_=n.firstFixLeft,P=n.lastFixLeft,B=n.firstFixRight,j=n.lastFixRight,F=n.appendNode,X=n.additionalProps,D=void 0===X?{}:X,V=n.isSticky,U="".concat(x,"-cell"),Y=r(z,["supportSticky","allColumnsFixedLeft","rowHoverable"]),G=Y.supportSticky,q=Y.allColumnsFixedLeft,J=Y.rowHoverable,Q=A(w,N,I,m,R,L),Z=C(Q,2),$=Z[0],ee=Z[1],ne={},te="number"==typeof K&&G,re="number"==typeof O&&G;te&&(ne.position="sticky",ne.left=K),re&&(ne.position="sticky",ne.right=O);var oe=null!==(t=null!==(o=null!==(l=null==ee?void 0:ee.colSpan)&&void 0!==l?l:D.colSpan)&&void 0!==o?o:H)&&void 0!==t?t:1,le=null!==(a=null!==(i=null!==(u=null==ee?void 0:ee.rowSpan)&&void 0!==u?u:D.rowSpan)&&void 0!==i?i:W)&&void 0!==a?a:1,ae=function(e,n){return r(z,function(t){var r,o,l,a;return[(r=e,o=n||1,l=t.hoverStartRow,a=t.hoverEndRow,r<=a&&r+o-1>=l),t.onHover]})}(T,le),ce=C(ae,2),ie=ce[0],ue=ce[1],se=c(function(e){var n;w&&ue(T,T+le-1),null==D||null===(n=D.onMouseEnter)||void 0===n||n.call(D,e)}),de=c(function(e){var n;w&&ue(-1,-1),null==D||null===(n=D.onMouseLeave)||void 0===n||n.call(D,e)});if(0===oe||0===le)return null;var fe=null!==(s=D.title)&&void 0!==s?s:function(n){var t,r=n.ellipsis,o=n.rowType,l=n.children,a=!0===r?{showTitle:!0}:r;return a&&(a.showTitle||"header"===o)&&("string"==typeof l||"number"==typeof l?t=l.toString():e.isValidElement(l)&&"string"==typeof l.props.children&&(t=l.props.children)),t}({rowType:M,ellipsis:p,children:$}),me=k(U,h,(E(E(E(E(E(E(E(E(E(E(d={},"".concat(U,"-fix-left"),te&&G),"".concat(U,"-fix-left-first"),_&&G),"".concat(U,"-fix-left-last"),P&&G),"".concat(U,"-fix-left-all"),P&&q&&G),"".concat(U,"-fix-right"),re&&G),"".concat(U,"-fix-right-first"),B&&G),"".concat(U,"-fix-right-last"),j&&G),"".concat(U,"-ellipsis"),p),"".concat(U,"-with-append"),F),"".concat(U,"-fix-sticky"),(te||re)&&V&&G),E(d,"".concat(U,"-row-hover"),!ee&&ie)),D.className,null==ee?void 0:ee.className),pe={};y&&(pe.textAlign=y);var ve=b(b(b(b({},null==ee?void 0:ee.style),ne),pe),D.style),xe=$;return"object"!==g(xe)||Array.isArray(xe)||e.isValidElement(xe)||(xe=null),p&&(P||B)&&(xe=e.createElement("span",{className:"".concat(U,"-content")},xe)),e.createElement(f,S({},ee,D,{className:me,style:ve,title:fe,scope:v,onMouseEnter:J?se:void 0,onMouseLeave:J?de:void 0,colSpan:1!==oe?oe:null,rowSpan:1!==le?le:null}),F,xe)}const F=e.memo(j);function X(e,n,t,r,o){var l,a,c=t[e]||{},i=t[n]||{};"left"===c.fixed?l=r.left["rtl"===o?n:e]:"right"===i.fixed&&(a=r.right["rtl"===o?e:n]);var u=!1,s=!1,d=!1,f=!1,m=t[n+1],p=t[e-1],v=m&&!m.fixed||p&&!p.fixed||t.every(function(e){return"left"===e.fixed});if("rtl"===o){if(void 0!==l)f=!(p&&"left"===p.fixed)&&v;else if(void 0!==a){d=!(m&&"right"===m.fixed)&&v}}else if(void 0!==l){u=!(m&&"left"===m.fixed)&&v}else if(void 0!==a){s=!(p&&"right"===p.fixed)&&v}return{fixLeft:l,fixRight:a,lastFixLeft:u,firstFixRight:s,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var D=e.createContext({});var V=["children"];function U(e){return e.children}U.Row=function(n){var t=n.children,r=R(n,V);return e.createElement("tr",r,t)},U.Cell=function(n){var t=n.className,o=n.index,l=n.children,a=n.colSpan,c=void 0===a?1:a,i=n.rowSpan,u=n.align,s=r(z,["prefixCls","direction"]),d=s.prefixCls,f=s.direction,m=e.useContext(D),p=m.scrollColumnIndex,v=m.stickyOffsets,x=o+c-1+1===p?c+1:c,h=X(o,o+x-1,m.flattenColumns,v,f);return e.createElement(F,S({className:t,index:o,component:"td",prefixCls:d,record:null,dataIndex:null,align:u,colSpan:x,rowSpan:i,render:function(){return l}},h))};const Y=K(function(n){var t=n.children,o=n.stickyOffsets,l=n.flattenColumns,a=r(z,"prefixCls"),c=l.length-1,i=l[c],u=e.useMemo(function(){return{stickyOffsets:o,flattenColumns:l,scrollColumnIndex:null!=i&&i.scrollbar?c:null}},[i,l,c,o]);return e.createElement(D.Provider,{value:u},e.createElement("tfoot",{className:"".concat(a,"-summary")},t))});var G=U;function q(e,n,t,r,o,l,a){var c=l(n,a);e.push({record:n,indent:t,index:a,rowKey:c});var i=null==o?void 0:o.has(c);if(n&&Array.isArray(n[r])&&i)for(var u=0;u<n[r].length;u+=1)q(e,n[r][u],t+1,r,o,l,u)}function J(n,t,r,o){return e.useMemo(function(){if(null!=r&&r.size){for(var e=[],l=0;l<(null==n?void 0:n.length);l+=1){q(e,n[l],0,t,r,o,l)}return e}return null==n?void 0:n.map(function(e,n){return{record:e,indent:0,index:n,rowKey:o(e,n)}})},[n,t,r,o])}function Q(e,n,t,o){var l,a=r(z,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,u=a.expandableType,s=a.expandedKeys,d=a.childrenColumnName,f=a.onTriggerExpand,m=a.rowExpandable,p=a.onRow,v=a.expandRowByClick,x=a.rowClassName,h="nest"===u,y="row"===u&&(!m||m(e)),w=y||h,C=s&&s.has(n),g=d&&e&&e[d],E=c(f),S=null==p?void 0:p(e,t),R=null==S?void 0:S.onClick;"string"==typeof x?l=x:"function"==typeof x&&(l=x(e,t,o));var N=P(i);return b(b({},a),{},{columnsKey:N,nestExpandable:h,expanded:C,hasNestChildren:g,record:e,onTriggerExpand:E,rowSupportExpand:y,expandable:w,rowProps:b(b({},S),{},{className:k(l,null==S?void 0:S.className),onClick:function(n){v&&w&&f(e,n);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null==R||R.apply(void 0,[n].concat(r))}})})}function Z(n){var t=n.prefixCls,o=n.children,l=n.component,a=n.cellComponent,c=n.className,i=n.expanded,u=n.colSpan,s=n.isEmpty,d=n.stickyOffset,f=void 0===d?0:d,m=r(z,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),p=m.scrollbarSize,v=m.fixHeader,x=m.fixColumn,h=m.componentWidth,y=m.horizonScroll,w=o;return(s?y&&h:x)&&(w=e.createElement("div",{style:{width:h-f-(v&&!s?p:0),position:"sticky",left:f,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},w)),e.createElement(l,{className:c,style:{display:i?null:"none"}},e.createElement(F,{component:a,prefixCls:t,colSpan:u},w))}function $(n){var t=n.prefixCls,r=n.record,o=n.onExpand,l=n.expanded,a=n.expandable,c="".concat(t,"-row-expand-icon");if(!a)return e.createElement("span",{className:k(c,"".concat(t,"-row-spaced"))});return e.createElement("span",{className:k(c,E(E({},"".concat(t,"-row-expanded"),l),"".concat(t,"-row-collapsed"),!l)),onClick:function(e){o(r,e),e.stopPropagation()}})}function ee(e,n,t,r){return"string"==typeof e?e:"function"==typeof e?e(n,t,r):""}function ne(n,t,r,o,l){var a,c,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=n.record,d=n.prefixCls,f=n.columnsKey,m=n.fixedInfoList,p=n.expandIconColumnIndex,v=n.nestExpandable,x=n.indentSize,h=n.expandIcon,y=n.expanded,w=n.hasNestChildren,C=n.onTriggerExpand,g=n.expandable,E=n.expandedKeys,b=f[r],S=m[r];r===(p||0)&&v&&(c=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(x*o,"px")},className:"".concat(d,"-row-indent indent-level-").concat(o)}),h({prefixCls:d,expanded:y,expandable:w,record:s,onExpand:C})));var R=(null===(a=t.onCell)||void 0===a?void 0:a.call(t,s,l))||{};if(u){var N=R.rowSpan,k=void 0===N?1:N;if(g&&k&&r<u){for(var I=k,L=l;L<l+k;L+=1){var T=i[L];E.has(T)&&(I+=1)}R.rowSpan=I}}return{key:b,fixedInfo:S,appendCellNode:c,additionalCellProps:R}}const te=K(function(n){var t=n.className,r=n.style,o=n.record,l=n.index,a=n.renderIndex,c=n.rowKey,i=n.rowKeys,u=n.indent,s=void 0===u?0:u,d=n.rowComponent,f=n.cellComponent,m=n.scopeCellComponent,p=n.expandedRowInfo,v=Q(o,c,l,s),x=v.prefixCls,h=v.flattenColumns,y=v.expandedRowClassName,w=v.expandedRowRender,C=v.rowProps,g=v.expanded,R=v.rowSupportExpand,N=e.useRef(!1);N.current||(N.current=g);var I,L=ee(y,o,l,s),T=e.createElement(d,S({},C,{"data-row-key":c,className:k(t,"".concat(x,"-row"),"".concat(x,"-row-level-").concat(s),null==C?void 0:C.className,E({},L,s>=1)),style:b(b({},r),null==C?void 0:C.style)}),h.map(function(n,t){var r=n.render,c=n.dataIndex,u=n.className,d=ne(v,n,t,s,l,i,null==p?void 0:p.offset),h=d.key,y=d.fixedInfo,w=d.appendCellNode,C=d.additionalCellProps;return e.createElement(F,S({className:u,ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:n.rowScope?m:f,prefixCls:x,key:h,record:o,index:l,renderIndex:a,dataIndex:c,render:r,shouldCellUpdate:n.shouldCellUpdate},y,{appendNode:w,additionalProps:C}))}));if(R&&(N.current||g)){var M=w(o,l,s+1,g);I=e.createElement(Z,{expanded:g,className:k("".concat(x,"-expanded-row"),"".concat(x,"-expanded-row-level-").concat(s+1),L),prefixCls:x,component:d,cellComponent:f,colSpan:p?p.colSpan:h.length,stickyOffset:null==p?void 0:p.sticky,isEmpty:!1},M)}return e.createElement(e.Fragment,null,T,I)});function re(n){var t=n.columnKey,r=n.onColumnResize,o=n.column,l=e.useRef();return i(function(){l.current&&r(t,l.current.offsetWidth)},[]),e.createElement(I,{data:t},e.createElement("td",{ref:l,style:{paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden",fontWeight:"bold"}},(null==o?void 0:o.title)||" ")))}function oe(n){var t=n.prefixCls,r=n.columnsKey,o=n.onColumnResize,l=n.columns,a=e.useRef(null);return e.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0},ref:a},e.createElement(I.Collection,{onBatchResize:function(e){u(a.current)&&e.forEach(function(e){var n=e.data,t=e.size;o(n,t.offsetWidth)})}},r.map(function(n){var t=l.find(function(e){return e.key===n});return e.createElement(re,{key:n,columnKey:n,onColumnResize:o,column:t})})))}const le=K(function(n){var t,o=n.data,l=n.measureColumnWidth,a=r(z,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),c=a.prefixCls,i=a.getComponent,u=a.onColumnResize,s=a.flattenColumns,d=a.getRowKey,f=a.expandedKeys,m=a.childrenColumnName,p=a.emptyNode,v=a.expandedRowOffset,x=void 0===v?0:v,h=a.colWidths,y=J(o,m,f,d),w=e.useMemo(function(){return y.map(function(e){return e.rowKey})},[y]),C=e.useRef({renderWithProps:!1}),g=e.useMemo(function(){for(var e=s.length-x,n=0,t=0;t<x;t+=1)n+=h[t]||0;return{offset:x,colSpan:e,sticky:n}},[s.length,x,h]),E=i(["body","wrapper"],"tbody"),b=i(["body","row"],"tr"),S=i(["body","cell"],"td"),R=i(["body","cell"],"th");t=o.length?y.map(function(n,t){var r=n.record,o=n.indent,l=n.index,a=n.rowKey;return e.createElement(te,{key:a,rowKey:a,rowKeys:w,record:r,index:t,renderIndex:l,rowComponent:b,cellComponent:S,scopeCellComponent:R,indent:o,expandedRowInfo:g})}):e.createElement(Z,{expanded:!0,className:"".concat(c,"-placeholder"),prefixCls:c,component:b,cellComponent:S,colSpan:s.length,isEmpty:!0},p);var N=P(s);return e.createElement(_.Provider,{value:C.current},e.createElement(E,{className:"".concat(c,"-tbody")},l&&e.createElement(oe,{prefixCls:c,columnsKey:N,onColumnResize:u,columns:s}),t))});var ae=["expandable"],ce="RC_TABLE_INTERNAL_COL_DEFINE";var ie=["columnType"];function ue(n){for(var t=n.colWidths,o=n.columns,l=n.columCount,a=r(z,["tableLayout"]).tableLayout,c=[],i=!1,u=(l||o.length)-1;u>=0;u-=1){var s=t[u],d=o&&o[u],f=void 0,m=void 0;if(d&&(f=d[ce],"auto"===a&&(m=d.minWidth)),s||m||f||i){var p=f||{};p.columnType;var v=R(p,ie);c.unshift(e.createElement("col",S({key:u,style:{width:s,minWidth:m}},v))),i=!0}}return e.createElement("colgroup",null,c)}var se=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollTableStyle","tableLayout","onScroll","children"];var de=e.forwardRef(function(n,t){var o=n.className,l=n.noData,a=n.columns,c=n.flattenColumns,i=n.colWidths,u=n.colGroup,d=n.columCount,f=n.stickyOffsets,m=n.direction,p=n.fixHeader,v=n.stickyTopOffset,x=n.stickyBottomOffset,h=n.stickyClassName,y=n.scrollTableStyle,w=n.tableLayout,C=void 0===w?"fixed":w,g=n.onScroll,S=n.children,I=R(n,se),L=r(z,["prefixCls","scrollbarSize","isSticky","getComponent"]),T=L.prefixCls,M=L.scrollbarSize,H=L.isSticky,W=(0,L.getComponent)(["header","table"],"table"),K=H&&!p?0:M,O=e.useRef(null),_=e.useCallback(function(e){s(t,e),s(O,e)},[]);e.useEffect(function(){function e(e){var n=e,t=n.currentTarget,r=n.deltaX;r&&(g({currentTarget:t,scrollLeft:t.scrollLeft+r}),e.preventDefault())}var n=O.current;return null==n||n.addEventListener("wheel",e,{passive:!1}),function(){null==n||n.removeEventListener("wheel",e)}},[]);var P=c[c.length-1],B={fixed:P?P.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(T,"-cell-scrollbar")}}},A=e.useMemo(function(){return K?[].concat(N(a),[B]):a},[K,a]),j=e.useMemo(function(){return K?[].concat(N(c),[B]):c},[K,c]),F=e.useMemo(function(){var e=f.right,n=f.left;return b(b({},f),{},{left:"rtl"===m?[].concat(N(n.map(function(e){return e+K})),[0]):n,right:"rtl"===m?e:[].concat(N(e.map(function(e){return e+K})),[0]),isSticky:H})},[K,f,H]),X=function(n,t){return e.useMemo(function(){for(var e=[],r=0;r<t;r+=1){var o=n[r];if(void 0===o)return null;e[r]=o}return e},[n.join("_"),t])}(i,d),D=e.useMemo(function(){return l||!X||0===X.length||X.every(function(e){return!e})?u:e.createElement(ue,{colWidths:[].concat(N(X),[K]),columCount:d+1,columns:j})},[l,X,u,K,d,j]);return e.createElement("div",{style:b({overflow:"hidden"},H?{top:v,bottom:x}:{}),ref:_,className:k(o,E({},h,!!h))},e.createElement(W,{style:b({tableLayout:C,visibility:l||X?null:"hidden"},y)},D,S(b(b({},I),{},{stickyOffsets:F,columns:A,flattenColumns:j}))))});const fe=e.memo(de);var me=function(n){var t,o=n.cells,l=n.stickyOffsets,a=n.flattenColumns,c=n.rowComponent,i=n.cellComponent,u=n.onHeaderRow,s=n.index,d=r(z,["prefixCls","direction"]),f=d.prefixCls,m=d.direction;u&&(t=u(o.map(function(e){return e.column}),s));var p=P(o.map(function(e){return e.column}));return e.createElement(c,t,o.map(function(n,t){var r,o=n.column,c=X(n.colStart,n.colEnd,a,l,m);return o&&o.onHeaderCell&&(r=n.column.onHeaderCell(o)),e.createElement(F,S({},n,{scope:o.title?n.colSpan>1?"colgroup":"col":null,ellipsis:o.ellipsis,align:o.align,component:i,prefixCls:f,key:p[t]},c,{additionalProps:r,rowType:"header"}))}))};const pe=K(function(n){var t=n.stickyOffsets,o=n.columns,l=n.flattenColumns,a=n.onHeaderRow,c=r(z,["prefixCls","getComponent"]),i=c.prefixCls,u=c.getComponent,s=e.useMemo(function(){return function(e){var n=[];!function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n[o]=n[o]||[];var l=r;return t.filter(Boolean).map(function(t){var r={key:t.key,className:t.className||"",children:t.title,column:t,colStart:l},a=1,c=t.children;return c&&c.length>0&&(a=e(c,l,o+1).reduce(function(e,n){return e+n},0),r.hasSubColumns=!0),"colSpan"in t&&(a=t.colSpan),"rowSpan"in t&&(r.rowSpan=t.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,n[o].push(r),l+=a,a})}(e,0);for(var t=n.length,r=function(e){n[e].forEach(function(n){"rowSpan"in n||n.hasSubColumns||(n.rowSpan=t-e)})},o=0;o<t;o+=1)r(o);return n}(o)},[o]),d=u(["header","wrapper"],"thead"),f=u(["header","row"],"tr"),m=u(["header","cell"],"th");return e.createElement(d,{className:"".concat(i,"-thead")},s.map(function(n,r){return e.createElement(me,{key:r,flattenColumns:l,cells:n,stickyOffsets:t,rowComponent:f,cellComponent:m,onHeaderRow:a,index:r})}))});function ve(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"==typeof n?n:n.endsWith("%")?e*parseFloat(n)/100:null}var xe=["children"],he=["fixed"];function ye(n){return d(n).filter(function(n){return e.isValidElement(n)}).map(function(e){var n=e.key,t=e.props,r=t.children,o=R(t,xe),l=b({key:n},o);return r&&(l.children=ye(r)),l})}function we(e){return e.filter(function(e){return e&&"object"===g(e)&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?b(b({},e),{},{children:we(n)}):e})}function Ce(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter(function(e){return e&&"object"===g(e)}).reduce(function(e,t,r){var o=t.fixed,l=!0===o?"left":o,a="".concat(n,"-").concat(r),c=t.children;return c&&c.length>0?[].concat(N(e),N(Ce(c,a).map(function(e){var n;return b(b({},e),{},{fixed:null!==(n=e.fixed)&&void 0!==n?n:l})}))):[].concat(N(e),[b(b({key:a},t),{},{fixed:l})])},[])}function ge(n,t){var r=n.prefixCls,o=n.columns,l=n.children,a=n.expandable,c=n.expandedKeys,i=n.columnTitle,u=n.getRowKey,s=n.onTriggerExpand,d=n.expandIcon,f=n.rowExpandable,m=n.expandIconColumnIndex,p=n.expandedRowOffset,v=void 0===p?0:p,x=n.direction,h=n.expandRowByClick,y=n.columnWidth,w=n.fixed,g=n.scrollWidth,S=n.clientWidth,N=e.useMemo(function(){return we((o||ye(l)||[]).slice())},[o,l]),k=e.useMemo(function(){if(a){var n=N.slice();if(!n.includes(T)){var t=m||0,o=0===t&&"right"===w?N.length:t;o>=0&&n.splice(o,0,T)}var l=n.indexOf(T);n=n.filter(function(e,n){return e!==T||n===l});var p,x=N[l];p=w||(x?x.fixed:null);var C=E(E(E(E(E(E({},ce,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",i),"fixed",p),"className","".concat(r,"-row-expand-icon-cell")),"width",y),"render",function(n,t,o){var l=u(t,o),a=c.has(l),i=!f||f(t),m=d({prefixCls:r,expanded:a,expandable:i,record:t,onExpand:s});return h?e.createElement("span",{onClick:function(e){return e.stopPropagation()}},m):m});return n.map(function(e,n){var t=e===T?C:e;return n<v?b(b({},t),{},{fixed:t.fixed||"left"}):t})}return N.filter(function(e){return e!==T})},[a,N,u,c,d,x,v]),I=e.useMemo(function(){var e=k;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e},[t,k,x]),L=e.useMemo(function(){return"rtl"===x?function(e){return e.map(function(e){var n=e.fixed,t=R(e,he),r=n;return"left"===n?r="right":"right"===n&&(r="left"),b({fixed:r},t)})}(Ce(I)):Ce(I)},[I,x,g]),M=e.useMemo(function(){for(var e=-1,n=L.length-1;n>=0;n-=1){var t=L[n].fixed;if("left"===t||!0===t){e=n;break}}if(e>=0)for(var r=0;r<=e;r+=1){var o=L[r].fixed;if("left"!==o&&!0!==o)return!0}var l=L.findIndex(function(e){return"right"===e.fixed});if(l>=0)for(var a=l;a<L.length;a+=1){if("right"!==L[a].fixed)return!0}return!1},[L]),H=function(n,t,r){return e.useMemo(function(){if(t&&t>0){var e=0,o=0;n.forEach(function(n){var r=ve(t,n.width);r?e+=r:o+=1});var l=Math.max(t,r),a=Math.max(l-e,o),c=o,i=a/o,u=0,s=n.map(function(e){var n=b({},e),r=ve(t,n.width);if(r)n.width=r;else{var o=Math.floor(i);n.width=1===c?a:o,a-=o,c-=1}return u+=n.width,n});if(u<l){var d=l/u;a=l,s.forEach(function(e,n){var t=Math.floor(e.width*d);e.width=n===s.length-1?a:t,a-=t})}return[s,Math.max(u,l)]}return[n,t]},[n,t,r])}(L,g,S),W=C(H,2),K=W[0],O=W[1];return[I,K,O,M]}function Ee(n,t,r){var o=function(e){var n,t=e.expandable,r=R(e,ae);return!1===(n="expandable"in e?b(b({},r),t):r).showExpandColumn&&(n.expandIconColumnIndex=-1),n}(n),l=o.expandIcon,a=o.expandedRowKeys,c=o.defaultExpandedRowKeys,i=o.defaultExpandAllRows,u=o.expandedRowRender,s=o.onExpand,d=o.onExpandedRowsChange,f=l||$,m=o.childrenColumnName||"children",p=e.useMemo(function(){return u?"row":!!(n.expandable&&n.internalHooks===M&&n.expandable.__PARENT_RENDER_ICON__||t.some(function(e){return e&&"object"===g(e)&&e[m]}))&&"nest"},[!!u,t]),v=e.useState(function(){return c||(i?function(e,n,t){var r=[];return function e(o){(o||[]).forEach(function(o,l){r.push(n(o,l)),e(o[t])})}(e),r}(t,r,m):[])}),x=C(v,2),h=x[0],y=x[1],w=e.useMemo(function(){return new Set(a||h||[])},[a,h]),E=e.useCallback(function(e){var n,o=r(e,t.indexOf(e)),l=w.has(o);l?(w.delete(o),n=N(w)):n=[].concat(N(w),[o]),y(n),s&&s(!l,e),d&&d(n)},[r,w,t,s,d]);return[o,p,w,f,m,E]}var be=f()?window:null;function Se(n){var t=n.className,r=n.children;return e.createElement("div",{className:t},r)}function Re(e){var n=m(e).getBoundingClientRect(),t=document.documentElement;return{left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}var Ne=function(n,t){var o,l,a,c,i,u,s,d,f=n.scrollBodyRef,h=n.onScroll,y=n.offsetScroll,w=n.container,g=n.direction,S=r(z,"prefixCls"),R=(null===(o=f.current)||void 0===o?void 0:o.scrollWidth)||0,N=(null===(l=f.current)||void 0===l?void 0:l.clientWidth)||0,I=R&&N*(N/R),L=e.useRef(),T=(a={scrollLeft:0,isHiddenScrollBar:!0},c=e.useRef(a),i=e.useState({}),u=C(i,2)[1],s=e.useRef(null),d=e.useRef([]),e.useEffect(function(){return function(){s.current=null}},[]),[c.current,function(e){d.current.push(e);var n=Promise.resolve();s.current=n,n.then(function(){if(s.current===n){var e=d.current,t=c.current;d.current=[],e.forEach(function(e){c.current=e(c.current)}),s.current=null,t!==c.current&&u({})}})}]),M=C(T,2),H=M[0],W=M[1],K=e.useRef({delta:0,x:0}),O=e.useState(!1),_=C(O,2),P=_[0],B=_[1],A=e.useRef(null);e.useEffect(function(){return function(){p.cancel(A.current)}},[]);var j=function(){B(!1)},F=function(e){var n,t=(e||(null===(n=window)||void 0===n?void 0:n.event)).buttons;if(P&&0!==t){var r=K.current.x+e.pageX-K.current.x-K.current.delta,o="rtl"===g;r=Math.max(o?I-N:0,Math.min(o?0:N-I,r)),(!o||Math.abs(r)+Math.abs(I)<N)&&(h({scrollLeft:r/N*(R+2)}),K.current.x=e.pageX)}else P&&B(!1)},X=function(){p.cancel(A.current),A.current=p(function(){if(f.current){var e=Re(f.current).top,n=e+f.current.offsetHeight,t=w===window?document.documentElement.scrollTop+window.innerHeight:Re(w).top+w.clientHeight;W(function(r){return b(b({},r),{},{isHiddenScrollBar:n-x()<=t||e>=t-y})})}})},D=function(e){W(function(n){return b(b({},n),{},{scrollLeft:R?e/R*N:0})})};return e.useImperativeHandle(t,function(){return{setScrollLeft:D,checkScrollBarVisible:X}}),e.useEffect(function(){var e=v(document.body,"mouseup",j,!1),n=v(document.body,"mousemove",F,!1);return X(),function(){e.remove(),n.remove()}},[I,P]),e.useEffect(function(){if(f.current){for(var e=[],n=m(f.current);n;)e.push(n),n=n.parentElement;return e.forEach(function(e){return e.addEventListener("scroll",X,!1)}),window.addEventListener("resize",X,!1),window.addEventListener("scroll",X,!1),w.addEventListener("scroll",X,!1),function(){e.forEach(function(e){return e.removeEventListener("scroll",X)}),window.removeEventListener("resize",X),window.removeEventListener("scroll",X),w.removeEventListener("scroll",X)}}},[w]),e.useEffect(function(){H.isHiddenScrollBar||W(function(e){var n=f.current;return n?b(b({},e),{},{scrollLeft:n.scrollLeft/n.scrollWidth*n.clientWidth}):e})},[H.isHiddenScrollBar]),R<=N||!I||H.isHiddenScrollBar?null:e.createElement("div",{style:{height:x(),width:N,bottom:y},className:"".concat(S,"-sticky-scroll")},e.createElement("div",{onMouseDown:function(e){e.persist(),K.current.delta=e.pageX-H.scrollLeft,K.current.x=0,B(!0),e.preventDefault()},ref:L,className:k("".concat(S,"-sticky-scroll-bar"),E({},"".concat(S,"-sticky-scroll-bar-active"),P)),style:{width:"".concat(I,"px"),transform:"translate3d(".concat(H.scrollLeft,"px, 0, 0)")}}))};const ke=e.forwardRef(Ne);var Ie="rc-table",Le=[],Te={};function Me(){return"No Data"}function He(n,t){var r=b({rowKey:"key",prefixCls:Ie,emptyText:Me},n),u=r.prefixCls,s=r.className,d=r.rowClassName,f=r.style,p=r.data,v=r.rowKey,x=r.scroll,R=r.tableLayout,N=r.direction,L=r.title,T=r.footer,H=r.summary,W=r.caption,K=r.id,O=r.showHeader,_=r.components,A=r.emptyText,j=r.onRow,F=r.onHeaderRow,D=r.onScroll,V=r.internalHooks,G=r.transformColumns,q=r.internalRefs,J=r.tailor,Q=r.getContainerWidth,Z=r.sticky,$=r.rowHoverable,ee=void 0===$||$,ne=p||Le,te=!!ne.length,re=V===M,oe=e.useCallback(function(e,n){return a(_,e)||n},[_]),ae=e.useMemo(function(){return"function"==typeof v?v:function(e){return e&&e[v]}},[v]),ce=oe(["body"]),ie=function(){var n=e.useState(-1),t=C(n,2),r=t[0],o=t[1],l=e.useState(-1),a=C(l,2),c=a[0],i=a[1];return[r,c,e.useCallback(function(e,n){o(e),i(n)},[])]}(),se=C(ie,3),de=se[0],me=se[1],ve=se[2],xe=Ee(r,ne,ae),he=C(xe,6),ye=he[0],we=he[1],Ce=he[2],Re=he[3],Ne=he[4],He=he[5],We=null==x?void 0:x.x,Ke=e.useState(0),Oe=C(Ke,2),ze=Oe[0],_e=Oe[1],Pe=ge(b(b(b({},r),ye),{},{expandable:!!ye.expandedRowRender,columnTitle:ye.columnTitle,expandedKeys:Ce,getRowKey:ae,onTriggerExpand:He,expandIcon:Re,expandIconColumnIndex:ye.expandIconColumnIndex,direction:N,scrollWidth:re&&J&&"number"==typeof We?We:null,clientWidth:ze}),re?G:null),Be=C(Pe,4),Ae=Be[0],je=Be[1],Fe=Be[2],Xe=Be[3],De=null!=Fe?Fe:We,Ve=e.useMemo(function(){return{columns:Ae,flattenColumns:je}},[Ae,je]),Ue=e.useRef(),Ye=e.useRef(),Ge=e.useRef(),qe=e.useRef();e.useImperativeHandle(t,function(){return{nativeElement:Ue.current,scrollTo:function(e){var n,t;if(Ge.current instanceof HTMLElement){var r=e.index,o=e.top,l=e.key;if("number"!=typeof(t=o)||Number.isNaN(t)){var a,c=null!=l?l:ae(ne[r]);null===(a=Ge.current.querySelector('[data-row-key="'.concat(c,'"]')))||void 0===a||a.scrollIntoView()}else{var i;null===(i=Ge.current)||void 0===i||i.scrollTo({top:o})}}else null!==(n=Ge.current)&&void 0!==n&&n.scrollTo&&Ge.current.scrollTo(e)}}});var Je,Qe,Ze,$e=e.useRef(),en=e.useState(!1),nn=C(en,2),tn=nn[0],rn=nn[1],on=e.useState(!1),ln=C(on,2),an=ln[0],cn=ln[1],un=e.useState(new Map),sn=C(un,2),dn=sn[0],fn=sn[1],mn=P(je).map(function(e){return dn.get(e)}),pn=e.useMemo(function(){return mn},[mn.join("_")]),vn=function(n,t,r){return e.useMemo(function(){var e=t.length,o=function(e,r,o){for(var l=[],a=0,c=e;c!==r;c+=o)l.push(a),t[c].fixed&&(a+=n[c]||0);return l},l=o(0,e,1),a=o(e-1,-1,-1).reverse();return"rtl"===r?{left:a,right:l}:{left:l,right:a}},[n,t,r])}(pn,je,N),xn=x&&B(x.y),hn=x&&B(De)||Boolean(ye.fixed),yn=hn&&je.some(function(e){return e.fixed}),wn=e.useRef(),Cn=function(n,t){var r="object"===g(n)?n:{},o=r.offsetHeader,l=void 0===o?0:o,a=r.offsetSummary,c=void 0===a?0:a,i=r.offsetScroll,u=void 0===i?0:i,s=r.getContainer,d=(void 0===s?function(){return be}:s)()||be,f=!!n;return e.useMemo(function(){return{isSticky:f,stickyClassName:f?"".concat(t,"-sticky-holder"):"",offsetHeader:l,offsetSummary:c,offsetScroll:u,container:d}},[f,u,l,c,t,d])}(Z,u),gn=Cn.isSticky,En=Cn.offsetHeader,bn=Cn.offsetSummary,Sn=Cn.offsetScroll,Rn=Cn.stickyClassName,Nn=Cn.container,kn=e.useMemo(function(){return null==H?void 0:H(ne)},[H,ne]),In=(xn||gn)&&e.isValidElement(kn)&&kn.type===U&&kn.props.fixed;xn&&(Qe={overflowY:te?"scroll":"auto",maxHeight:x.y}),hn&&(Je={overflowX:"auto"},xn||(Qe={overflowY:"hidden"}),Ze={width:!0===De?"auto":De,minWidth:"100%"});var Ln=e.useCallback(function(e,n){fn(function(t){if(t.get(e)!==n){var r=new Map(t);return r.set(e,n),r}return t})},[]),Tn=function(){var n=e.useRef(null),t=e.useRef();function r(){window.clearTimeout(t.current)}return e.useEffect(function(){return r},[]),[function(e){n.current=e,r(),t.current=window.setTimeout(function(){n.current=null,t.current=void 0},100)},function(){return n.current}]}(),Mn=C(Tn,2),Hn=Mn[0],Wn=Mn[1];function Kn(e,n){n&&("function"==typeof n?n(e):n.scrollLeft!==e&&(n.scrollLeft=e,n.scrollLeft!==e&&setTimeout(function(){n.scrollLeft=e},0)))}var On=c(function(e){var n,t=e.currentTarget,r=e.scrollLeft,o="rtl"===N,l="number"==typeof r?r:t.scrollLeft,a=t||Te;Wn()&&Wn()!==a||(Hn(a),Kn(l,Ye.current),Kn(l,Ge.current),Kn(l,$e.current),Kn(l,null===(n=wn.current)||void 0===n?void 0:n.setScrollLeft));var c=t||Ye.current;if(c){var i=re&&J&&"number"==typeof De?De:c.scrollWidth,u=c.clientWidth;if(i===u)return rn(!1),void cn(!1);o?(rn(-l<i-u),cn(-l>0)):(rn(l>0),cn(l<i-u))}}),zn=c(function(e){On(e),null==D||D(e)}),_n=function(){var e;hn&&Ge.current?On({currentTarget:m(Ge.current),scrollLeft:null===(e=Ge.current)||void 0===e?void 0:e.scrollLeft}):(rn(!1),cn(!1))},Pn=e.useRef(!1);e.useEffect(function(){Pn.current&&_n()},[hn,p,Ae.length]),e.useEffect(function(){Pn.current=!0},[]);var Bn=e.useState(0),An=C(Bn,2),jn=An[0],Fn=An[1],Xn=e.useState(!0),Dn=C(Xn,2),Vn=Dn[0],Un=Dn[1];i(function(){J&&re||(Ge.current instanceof Element?Fn(h(Ge.current).width):Fn(h(qe.current).width)),Un(y("position","sticky"))},[]),e.useEffect(function(){re&&q&&(q.body.current=Ge.current)});var Yn,Gn=e.useCallback(function(n){return e.createElement(e.Fragment,null,e.createElement(pe,n),"top"===In&&e.createElement(Y,n,kn))},[In,kn]),qn=e.useCallback(function(n){return e.createElement(Y,n,kn)},[kn]),Jn=oe(["table"],"table"),Qn=e.useMemo(function(){return R||(yn?"max-content"===De?"auto":"fixed":xn||gn||je.some(function(e){return e.ellipsis})?"fixed":"auto")},[xn,yn,je,R,gn]),Zn={colWidths:pn,columCount:je.length,stickyOffsets:vn,onHeaderRow:F,fixHeader:xn,scroll:x},$n=e.useMemo(function(){return te?null:"function"==typeof A?A():A},[te,A]),et=e.createElement(le,{data:ne,measureColumnWidth:xn||hn||gn}),nt=e.createElement(ue,{colWidths:je.map(function(e){return e.width}),columns:je}),tt=null!=W?e.createElement("caption",{className:"".concat(u,"-caption")},W):void 0,rt=w(r,{data:!0}),ot=w(r,{aria:!0});if(xn||gn){var lt;"function"==typeof ce?(lt=ce(ne,{scrollbarSize:jn,ref:Ge,onScroll:On}),Zn.colWidths=je.map(function(e,n){var t=e.width,r=n===je.length-1?t-jn:t;return"number"!=typeof r||Number.isNaN(r)?0:r})):lt=e.createElement("div",{style:b(b({},Je),Qe),onScroll:zn,ref:Ge,className:k("".concat(u,"-body"))},e.createElement(Jn,S({style:b(b({},Ze),{},{tableLayout:Qn})},ot),tt,nt,et,!In&&kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var at=b(b(b({noData:!ne.length},Zn),Ve),{},{direction:N,stickyClassName:Rn,scrollTableStyle:Ze,tableLayout:Qn,onScroll:On});Yn=e.createElement(e.Fragment,null,!1!==O&&e.createElement(fe,S({},at,{stickyTopOffset:En,className:"".concat(u,"-header"),ref:Ye,colGroup:nt}),Gn),lt,In&&"top"!==In&&e.createElement(fe,S({},at,{stickyBottomOffset:bn,className:"".concat(u,"-summary"),ref:$e,colGroup:nt}),qn),gn&&Ge.current&&Ge.current instanceof Element&&e.createElement(ke,{ref:wn,offsetScroll:Sn,scrollBodyRef:Ge,onScroll:On,container:Nn,direction:N}))}else Yn=e.createElement("div",{style:b(b({},Je),Qe),className:k("".concat(u,"-content")),onScroll:On,ref:Ge},e.createElement(Jn,S({style:b(b({},Ze),{},{tableLayout:Qn})},ot),tt,nt,!1!==O&&e.createElement(pe,S({},Zn,Ve)),et,kn&&e.createElement(Y,{stickyOffsets:vn,flattenColumns:je},kn)));var ct=e.createElement("div",S({className:k(u,s,E(E(E(E(E(E(E(E(E(E({},"".concat(u,"-rtl"),"rtl"===N),"".concat(u,"-ping-left"),tn),"".concat(u,"-ping-right"),an),"".concat(u,"-layout-fixed"),"fixed"===R),"".concat(u,"-fixed-header"),xn),"".concat(u,"-fixed-column"),yn),"".concat(u,"-fixed-column-gapped"),yn&&Xe),"".concat(u,"-scroll-horizontal"),hn),"".concat(u,"-has-fix-left"),je[0]&&je[0].fixed),"".concat(u,"-has-fix-right"),je[je.length-1]&&"right"===je[je.length-1].fixed)),style:f,id:K,ref:Ue},rt),L&&e.createElement(Se,{className:"".concat(u,"-title")},L(ne)),e.createElement("div",{ref:qe,className:"".concat(u,"-container")},Yn),T&&e.createElement(Se,{className:"".concat(u,"-footer")},T(ne)));hn&&(ct=e.createElement(I,{onResize:function(e){var n,t=e.width;null===(n=wn.current)||void 0===n||n.checkScrollBarVisible();var r=Ue.current?Ue.current.offsetWidth:t;re&&Q&&Ue.current&&(r=Q(Ue.current,r)||r),r!==ze&&(_n(),_e(r))}},ct));var it=function(e,n,t){var r=e.map(function(r,o){return X(o,o,e,n,t)});return o(function(){return r},[r],function(e,n){return!l(e,n)})}(je,vn,N),ut=e.useMemo(function(){return{scrollX:De,prefixCls:u,getComponent:oe,scrollbarSize:jn,direction:N,fixedInfoList:it,isSticky:gn,supportSticky:Vn,componentWidth:ze,fixHeader:xn,fixColumn:yn,horizonScroll:hn,tableLayout:Qn,rowClassName:d,expandedRowClassName:ye.expandedRowClassName,expandIcon:Re,expandableType:we,expandRowByClick:ye.expandRowByClick,expandedRowRender:ye.expandedRowRender,expandedRowOffset:ye.expandedRowOffset,onTriggerExpand:He,expandIconColumnIndex:ye.expandIconColumnIndex,indentSize:ye.indentSize,allColumnsFixedLeft:je.every(function(e){return"left"===e.fixed}),emptyNode:$n,columns:Ae,flattenColumns:je,onColumnResize:Ln,colWidths:pn,hoverStartRow:de,hoverEndRow:me,onHover:ve,rowExpandable:ye.rowExpandable,onRow:j,getRowKey:ae,expandedKeys:Ce,childrenColumnName:Ne,rowHoverable:ee}},[De,u,oe,jn,N,it,gn,Vn,ze,xn,yn,hn,Qn,d,ye.expandedRowClassName,Re,we,ye.expandRowByClick,ye.expandedRowRender,ye.expandedRowOffset,He,ye.expandIconColumnIndex,ye.indentSize,$n,Ae,je,Ln,pn,de,me,ve,ye.rowExpandable,j,ae,Ce,Ne,ee]);return e.createElement(z.Provider,{value:ut},ct)}var We=e.forwardRef(He);function Ke(e){return W(We,e)}var Oe=Ke();Oe.EXPAND_COLUMN=T,Oe.INTERNAL_HOOKS=M,Oe.Column=function(e){return null},Oe.ColumnGroup=function(e){return null},Oe.Summary=G;var ze=t(null),_e=t(null);function Pe(n){var t=n.rowInfo,o=n.column,l=n.colIndex,a=n.indent,c=n.index,i=n.component,u=n.renderIndex,s=n.record,d=n.style,f=n.className,m=n.inverse,p=n.getHeight,v=o.render,x=o.dataIndex,h=o.className,y=o.width,w=r(_e,["columnsOffset"]).columnsOffset,C=ne(t,o,l,a,c),g=C.key,E=C.fixedInfo,R=C.appendCellNode,N=C.additionalCellProps,I=N.style,L=N.colSpan,T=void 0===L?1:L,M=N.rowSpan,H=void 0===M?1:M,W=function(e,n,t){return t[e+(n||1)]-(t[e]||0)}(l-1,T,w),K=T>1?y-W:0,O=b(b(b({},I),d),{},{flex:"0 0 ".concat(W,"px"),width:"".concat(W,"px"),marginRight:K,pointerEvents:"auto"}),z=e.useMemo(function(){return m?H<=1:0===T||0===H||H>1},[H,T,m]);z?O.visibility="hidden":m&&(O.height=null==p?void 0:p(H));var _=z?function(){return null}:v,P={};return 0!==H&&0!==T||(P.rowSpan=1,P.colSpan=1),e.createElement(F,S({className:k(h,f),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:i,prefixCls:t.prefixCls,key:g,record:s,index:c,renderIndex:u,dataIndex:x,render:_,shouldCellUpdate:o.shouldCellUpdate},E,{appendNode:R,additionalProps:b(b({},N),{},{style:O},P)}))}var Be=["data","index","className","rowKey","style","extra","getHeight"],Ae=K(e.forwardRef(function(n,t){var o,l=n.data,a=n.index,c=n.className,i=n.rowKey,u=n.style,s=n.extra,d=n.getHeight,f=R(n,Be),m=l.record,p=l.indent,v=l.index,x=r(z,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),h=x.scrollX,y=x.flattenColumns,w=x.prefixCls,C=x.fixColumn,g=x.componentWidth,N=r(ze,["getComponent"]).getComponent,I=Q(m,i,a,p),L=N(["body","row"],"div"),T=N(["body","cell"],"div"),M=I.rowSupportExpand,H=I.expanded,W=I.rowProps,K=I.expandedRowRender,O=I.expandedRowClassName;if(M&&H){var _=K(m,a,p+1,H),P=ee(O,m,a,p),B={};C&&(B={style:E({},"--virtual-width","".concat(g,"px"))});var A="".concat(w,"-expanded-row-cell");o=e.createElement(L,{className:k("".concat(w,"-expanded-row"),"".concat(w,"-expanded-row-level-").concat(p+1),P)},e.createElement(F,{component:T,prefixCls:w,className:k(A,E({},"".concat(A,"-fixed"),C)),additionalProps:B},_))}var j=b(b({},u),{},{width:h});s&&(j.position="absolute",j.pointerEvents="none");var X=e.createElement(L,S({},W,f,{"data-row-key":i,ref:M?null:t,className:k(c,"".concat(w,"-row"),null==W?void 0:W.className,E({},"".concat(w,"-row-extra"),s)),style:b(b({},j),null==W?void 0:W.style)}),y.map(function(n,t){return e.createElement(Pe,{key:t,component:T,rowInfo:I,column:n,colIndex:t,indent:p,index:a,renderIndex:v,record:m,inverse:s,getHeight:d})}));return M?e.createElement("div",{ref:t},X,o):X})),je=K(e.forwardRef(function(n,t){var o=n.data,l=n.onScroll,a=r(z,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),c=a.flattenColumns,i=a.onColumnResize,u=a.getRowKey,s=a.expandedKeys,d=a.prefixCls,f=a.childrenColumnName,m=a.scrollX,p=a.direction,v=r(ze),x=v.sticky,h=v.scrollY,y=v.listItemHeight,w=v.getComponent,E=v.onScroll,b=e.useRef(),S=J(o,f,s,u),R=e.useMemo(function(){var e=0;return c.map(function(n){var t=n.width,r=n.minWidth,o=n.key,l=Math.max(t||0,r||0);return[o,l,e+=l]})},[c]),N=e.useMemo(function(){return R.map(function(e){return e[2]})},[R]);e.useEffect(function(){R.forEach(function(e){var n=C(e,2),t=n[0],r=n[1];i(t,r)})},[R]),e.useImperativeHandle(t,function(){var e,n={scrollTo:function(e){var n;null===(n=b.current)||void 0===n||n.scrollTo(e)},nativeElement:null===(e=b.current)||void 0===e?void 0:e.nativeElement};return Object.defineProperty(n,"scrollLeft",{get:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var n;null===(n=b.current)||void 0===n||n.scrollTo({left:e})}}),Object.defineProperty(n,"scrollTop",{get:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.getScrollInfo().y)||0},set:function(e){var n;null===(n=b.current)||void 0===n||n.scrollTo({top:e})}}),n});var k=function(e,n){var t,r=null===(t=S[n])||void 0===t?void 0:t.record,o=e.onCell;if(o){var l,a=o(r,n);return null!==(l=null==a?void 0:a.rowSpan)&&void 0!==l?l:1}return 1},I=e.useMemo(function(){return{columnsOffset:N}},[N]),T="".concat(d,"-tbody"),M=w(["body","wrapper"]),H={};return x&&(H.position="sticky",H.bottom=0,"object"===g(x)&&x.offsetScroll&&(H.bottom=x.offsetScroll)),e.createElement(_e.Provider,{value:I},e.createElement(L,{fullHeight:!1,ref:b,prefixCls:"".concat(T,"-virtual"),styles:{horizontalScrollBar:H},className:T,height:h,itemHeight:y||24,data:S,itemKey:function(e){return u(e.record)},component:M,scrollWidth:m,direction:p,onVirtualScroll:function(e){var n,t=e.x;l({currentTarget:null===(n=b.current)||void 0===n?void 0:n.nativeElement,scrollLeft:t})},onScroll:E,extraRender:function(n){var t=n.start,r=n.end,o=n.getSize,l=n.offsetY;if(r<0)return null;for(var a=c.filter(function(e){return 0===k(e,t)}),i=t,s=function(e){if(!(a=a.filter(function(n){return 0===k(n,e)})).length)return i=e,1},d=t;d>=0&&!s(d);d-=1);for(var f=c.filter(function(e){return 1!==k(e,r)}),m=r,p=function(e){if(!(f=f.filter(function(n){return 1!==k(n,e)})).length)return m=Math.max(e-1,r),1},v=r;v<S.length&&!p(v);v+=1);for(var x=[],h=function(e){if(!S[e])return 1;c.some(function(n){return k(n,e)>1})&&x.push(e)},y=i;y<=m;y+=1)h(y);return x.map(function(n){var t=S[n],r=u(t.record,n),a=o(r);return e.createElement(Ae,{key:n,data:t,rowKey:r,index:n,style:{top:-l+a.top},extra:!0,getHeight:function(e){var t=n+e-1,l=u(S[t].record,t),a=o(r,l);return a.bottom-a.top}})})}},function(n,t,r){var o=u(n.record,t);return e.createElement(Ae,{data:n,rowKey:o,index:t,style:r.style})}))})),Fe=function(n,t){var r=t.ref,o=t.onScroll;return e.createElement(je,{ref:r,data:n,onScroll:o})};function Xe(n,t){var r=n.data,o=n.columns,l=n.scroll,i=n.sticky,u=n.prefixCls,s=void 0===u?Ie:u,d=n.className,f=n.listItemHeight,m=n.components,p=n.onScroll,v=l||{},x=v.x,h=v.y;"number"!=typeof x&&(x=1),"number"!=typeof h&&(h=500);var y=c(function(e,n){return a(m,e)||n}),w=c(p),C=e.useMemo(function(){return{sticky:i,scrollY:h,listItemHeight:f,getComponent:y,onScroll:w}},[i,h,f,y,w]);return e.createElement(ze.Provider,{value:C},e.createElement(Oe,S({},n,{className:k(d,"".concat(s,"-virtual")),scroll:b(b({},l),{},{x:x}),components:b(b({},m),{},{body:null!=r&&r.length?Fe:void 0}),columns:o,internalHooks:M,tailor:!0,ref:t})))}var De=e.forwardRef(Xe);function Ve(e){return W(De,e)}Ve();export{T as E,G as F,ce as I,Ve as a,M as b,ye as c,Ke as g};
