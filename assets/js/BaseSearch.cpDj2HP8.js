import{r as e,j as s}from"./react@19.1.1.DAMsdXqD.js";import{h as a,b as l,g as t,f as r,a as i}from"./helper.CWXWwvLo.js";import"./BaseTimeRangePicker.DJbNf3Bg.js";import{a as n}from"./index.CB1Ny5w3.js";import{u as o}from"./react-i18next@15.7.3_i18nex_bb3bf288cc63cadde28a68d34dc3eb41.Lsshil7N.js";import{F as d,B as c,m,h as p}from"./antd@5.27.3_react-dom@19.1.1_react@19.1.1__react@19.1.1.BSkl66Mm.js";import{l as h,m as x,n as f}from"./@ant-design_icons@6.0.1_rea_2574d57b25e1c70f5c0e11cbf4eac649.CSgGuOKE.js";const u=u=>{const{ref:j,list:b,data:g,initialValues:w,isLoading:y,isSearch:C=!0,isReset:N=!0,isRowExpand:F=!0,type:v="default",style:_,className:k,children:R,labelCol:E,wrapperCol:P,defaultColCount:S=4,defaultRowExpand:W=2,handleFinish:$}=u,{t:B}=o(),{isPhone:V}=n(),[I]=d.useForm(),[L,T]=e.useState(!1),[q,z]=e.useState(!0),M=e.useMemo(()=>{if(!F)return!1;return S*W<b.length},[S,W,F,b.length]);e.useEffect(()=>{try{Object.keys(g).length&&q&&(z(!1),I.setFieldsValue({...g}))}catch(e){}},[g,I,q]);const O={...u};delete O.type,delete O.isSearch,delete O.isReset,delete O.isLoading,delete O.handleFinish;const A=e=>e?.labelWidth?{style:{width:e.labelWidth}}:e?.labelCol?e.labelCol:E||("grid"!==v||V?void 0:{span:6}),D=e=>e?.wrapperWidth?{style:{width:e.wrapperWidth}}:e?.wrapperCol?e.wrapperCol:P||("grid"!==v||V?void 0:{span:18}),G=s.jsxs("div",{className:"flex items-center flex-wrap gap-10px",children:[!!C&&s.jsx(c,{type:"primary",htmlType:"submit",className:"!mb-5px "+(V?"mr-5px":""),loading:y,icon:s.jsx(h,{}),children:B("public.search")}),!!N&&s.jsx(c,{className:"!mb-5px "+(V?"mr-5px":""),icon:s.jsx(x,{}),onClick:()=>{I?.resetFields(),I?.setFieldsValue(w?{...w}:{}),I?.submit()},children:B("public.reset")}),R&&s.jsx("div",{className:"!mb-5px "+(V?"mr-5px":""),children:R}),"grid"===v&&!!M&&s.jsxs("div",{className:"text-12px cursor-pointer color-#1677ff hover:color-#69b1ff",onClick:()=>{T(!L)},children:[s.jsx(f,{rotate:L?180:0}),L?"收缩":"展开"]})]});return s.jsx("div",{id:"searches",style:_,className:k,children:s.jsxs(d,{layout:V?"horizontal":"inline",...O,ref:j,form:I,onFinish:e=>{if($){let s=r(e,b);s=i(s),$?.(s)}},onFinishFailed:e=>{},autoComplete:"off",children:["default"===v&&s.jsxs(s.Fragment,{children:[b?.map(s=>e.createElement(d.Item,{...l(s),key:`${s.name}`,className:`${s?.className||""} !mb-5px`,labelCol:A(s),wrapperCol:D(s),valuePropName:a(s.component)},t(B,s,I))),G]}),"grid"===v&&s.jsxs(m,{wrap:!0,className:"w-full",children:[(e=>{if(!M)return e;const s=S*W;for(let a=0;a<e.length;a++){const l=e[a];a<s?l.hidden=!1:l.hidden=!L}return e})(b)?.map(e=>s.jsx("div",{style:{width:e.hidden?0:100/(V?1:S)+"%"},children:s.jsx(d.Item,{...l(e),className:`${e?.className||""} !mb-5px`,labelCol:A(e),wrapperCol:D(e),valuePropName:a(e.component),children:t(B,e,I)})},`${e.name}`)),s.jsx(p,{flex:b?.length%S===0||M?"auto":void 0,children:s.jsx(m,{justify:"flex-end",children:G})})]})]})})};export{u as B};
